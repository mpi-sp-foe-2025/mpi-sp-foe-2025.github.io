<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="common/css/sf.css" rel="stylesheet" type="text/css" />
<title>SpecCT: Speculative Constant-Time</title>
<link href="common/jquery-ui/jquery-ui.css" rel="stylesheet">
<script src="common/jquery-ui/external/jquery/jquery.js"></script>
<script src="common/jquery-ui/jquery-ui.js"></script>
<script src="common/toggleproofs.js"></script>
<link href="common/css/secf.css" rel="stylesheet" type="text/css"/>
</head>

<body>

<div id="page">

<div id="header">
<div id='logoinheader'><a href='https://softwarefoundations.cis.upenn.edu'>
<img src='common/media/image/sf_logo_sm.png' alt='Software Foundations Logo'></a></div>
<div class='booktitleinheader'><a href='index.html'>Volume 7: Security Foundations</a></div>
<ul id='menu'>
   <li class='section_name'><a href='toc.html'>Table of Contents</a></li>
   <li class='section_name'><a href='coqindex.html'>Index</a></li>
</ul>
</div>

<div id="main">

<h1 class="libtitle">SpecCT<span class="subtitle">Speculative Constant-Time</span></h1>


<div class="code">

<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "-notation-overridden,-parsing,-deprecated-hint-without-locality".<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#"><span class="id" title="library">Strings.String</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">SECF</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Maps</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Bool.Bool.html#"><span class="id" title="library">Bool.Bool</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.Arith.html#"><span class="id" title="library">Arith.Arith</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.EqNat.html#"><span class="id" title="library">Arith.EqNat</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#"><span class="id" title="library">Arith.PeanoNat</span></a>. <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat"><span class="id" title="module">Nat</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/library//Coq.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>. <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ListNotations"><span class="id" title="module">ListNotations</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Goal</span> <span class="id" title="var">Selector</span> "!".<br/>
</div>

<div class="doc">
This chapter starts by presenting the cryptographic constant-time (CCT)
    discipline, which we statically enforce using a simple type system. This
    static discipline is, however, not enough to protect cryptographic programs
    against speculative execution attacks. To secure CCT programs against this
    more powerful attacker model we additionally use a program transformation
    called <i>Speculative Load Hardening</i> (SLH). We prove formally that CCT
    programs protected by SLH achieve speculative constant-time security. 
<div class="paragraph"> </div>

<a id="lab49"></a><h1 class="section">Cryptographic constant-time</h1>

<div class="paragraph"> </div>

 Cryptographic constant-time (CCT) is a software countermeasure against
    cache-based timing attacks, a class of timing side-channel attacks that
    exploit the latency between cache hits and cache misses to infer
    cryptographic keys and other secrets. In addition to ensuring program
    counter security by requiring programmers to not branch on secrets, CCT
    requires programmers to also not perform memory accesses depending on
    secrets. While we won't model caches explicitly, this generally implies
    security against timing attacks exploiting both instruction and data caches.

<div class="paragraph"> </div>

    To model memory accesses that depend on secrets we will make the Imp
    language more realistic by adding arrays.  We need such an extension, since
    otherwise variable accesses in the original Imp map to memory operations at
    constant locations, which thus cannot depend on secrets, so in Imp CCT
    trivially holds for all PC well-typed programs. Array indices on the other
    hand are computed at runtime, which leads to accessing memory addresses that
    can depend on secrets, making CCT non-trivial for Imp with arrays.

<div class="paragraph"> </div>

    For instance, here is a simple program that is PC secure (since it does no
    branches), but not CCT secure (since it accesses memory based on secret
    information):
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;<span class="id" title="var">x</span> &lt;- <span class="id" title="var">a</span>[<span class="id" title="var">secret</span>]
</span>
<div class="paragraph"> </div>

<a id="lab50"></a><h2 class="section">Adding constant-time conditional and refactoring expressions</h2>

<div class="paragraph"> </div>

 But first, we add an <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode">?</span> <span class="inlinecode"><span class="id" title="var">e<sub>1</sub></span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">e<sub>2</sub></span></span> conditional expression that executes in
    constant time (for instance using a special constant-time conditional move
    instruction). This constant-time conditional will also be used in our SLH
    countermeasure below.

<div class="paragraph"> </div>

    To avoid making the definitions of arithmetic and boolean expressions
    mutually inductive, we drop boolean expressions altogether and encode them
    using arithmetic expressions. Our encoding of bools in terms of nats is
    similar to that of C, where zero means false, and non-zero means true.

<div class="paragraph"> </div>

    Finally, we refactor the semantics of binary operators in terms of the
    <span class="inlinecode"><span class="id" title="var">binop</span></span> enumeration below, to avoid the duplication in Imp: 
</div>
<div class="code">

<span class="comment">(*&nbsp;A&nbsp;small&nbsp;set&nbsp;of&nbsp;binary&nbsp;operators&nbsp;*)</span><br/>
<span class="id" title="keyword">Inductive</span> <a id="binop" class="idref" href="#binop"><span class="id" title="definition, inductive"><span id="binop_rect" class="id"><span id="binop_ind" class="id"><span id="binop_rec" class="id"><span id="binop_sind" class="id">binop</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="BinPlus" class="idref" href="#BinPlus"><span class="id" title="constructor">BinPlus</span></a><br/>
&nbsp;&nbsp;| <a id="BinMinus" class="idref" href="#BinMinus"><span class="id" title="constructor">BinMinus</span></a><br/>
&nbsp;&nbsp;| <a id="BinMult" class="idref" href="#BinMult"><span class="id" title="constructor">BinMult</span></a><br/>
&nbsp;&nbsp;| <a id="BinEq" class="idref" href="#BinEq"><span class="id" title="constructor">BinEq</span></a><br/>
&nbsp;&nbsp;| <a id="BinLe" class="idref" href="#BinLe"><span class="id" title="constructor">BinLe</span></a><br/>
&nbsp;&nbsp;| <a id="BinAnd" class="idref" href="#BinAnd"><span class="id" title="constructor">BinAnd</span></a><br/>
&nbsp;&nbsp;| <a id="BinImpl" class="idref" href="#BinImpl"><span class="id" title="constructor">BinImpl</span></a>.<br/>
</div>

<div class="doc">
We define the semantics of <span class="inlinecode"><span class="id" title="var">binop</span></span>s directly on nats. We are careful to
    allow other representations of true (any non-zero number).  
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="not_zero" class="idref" href="#not_zero"><span class="id" title="definition">not_zero</span></a> (<a id="n:3" class="idref" href="#n:3"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="SpecCT.html#n:3"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> 0).<br/>
<span class="id" title="keyword">Definition</span> <a id="bool_to_nat" class="idref" href="#bool_to_nat"><span class="id" title="definition">bool_to_nat</span></a> (<a id="b:4" class="idref" href="#b:4"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> := <span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#b:4"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="eval_binop" class="idref" href="#eval_binop"><span class="id" title="definition">eval_binop</span></a> (<a id="o:5" class="idref" href="#o:5"><span class="id" title="binder">o</span></a>:<a class="idref" href="SpecCT.html#binop"><span class="id" title="inductive">binop</span></a>) (<a id="n<sub>1</sub>:6" class="idref" href="#n<sub>1</sub>:6"><span class="id" title="binder">n<sub>1</sub></span></a> <a id="n<sub>2</sub>:7" class="idref" href="#n<sub>2</sub>:7"><span class="id" title="binder">n<sub>2</sub></span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#o:5"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#BinPlus"><span class="id" title="constructor">BinPlus</span></a> ⇒ <a class="idref" href="SpecCT.html#n<sub>1</sub>:6"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:7"><span class="id" title="variable">n<sub>2</sub></span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#BinMinus"><span class="id" title="constructor">BinMinus</span></a> ⇒ <a class="idref" href="SpecCT.html#n<sub>1</sub>:6"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:7"><span class="id" title="variable">n<sub>2</sub></span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#BinMult"><span class="id" title="constructor">BinMult</span></a> ⇒ <a class="idref" href="SpecCT.html#n<sub>1</sub>:6"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#ea2ff3d561159081cea6fb2e8113cc<sub>54</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:7"><span class="id" title="variable">n<sub>2</sub></span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#BinEq"><span class="id" title="constructor">BinEq</span></a> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#n<sub>1</sub>:6"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:7"><span class="id" title="variable">n<sub>2</sub></span></a> <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0<br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#BinLe"><span class="id" title="constructor">BinLe</span></a> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#n<sub>1</sub>:6"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0f31f5c1c6b6a21a3a187247222bc9e<sub>4</sub>"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:7"><span class="id" title="variable">n<sub>2</sub></span></a> <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0<br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#BinAnd"><span class="id" title="constructor">BinAnd</span></a> ⇒ <a class="idref" href="SpecCT.html#bool_to_nat"><span class="id" title="definition">bool_to_nat</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <a class="idref" href="SpecCT.html#n<sub>1</sub>:6"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:7"><span class="id" title="variable">n<sub>2</sub></span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#BinImpl"><span class="id" title="constructor">BinImpl</span></a> ⇒ <a class="idref" href="SpecCT.html#bool_to_nat"><span class="id" title="definition">bool_to_nat</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <a class="idref" href="SpecCT.html#n<sub>1</sub>:6"><span class="id" title="variable">n<sub>1</sub></span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:7"><span class="id" title="variable">n<sub>2</sub></span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="aexp" class="idref" href="#aexp"><span class="id" title="definition, inductive"><span id="aexp_rect" class="id"><span id="aexp_ind" class="id"><span id="aexp_rec" class="id"><span id="aexp_sind" class="id">aexp</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="ANum" class="idref" href="#ANum"><span class="id" title="constructor">ANum</span></a> (<a id="n:11" class="idref" href="#n:11"><span class="id" title="binder">n</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;| <a id="AId" class="idref" href="#AId"><span class="id" title="constructor">AId</span></a> (<a id="x:12" class="idref" href="#x:12"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>)<br/>
&nbsp;&nbsp;| <a id="ABin" class="idref" href="#ABin"><span class="id" title="constructor">ABin</span></a> (<a id="o:13" class="idref" href="#o:13"><span class="id" title="binder">o</span></a>:<a class="idref" href="SpecCT.html#binop"><span class="id" title="inductive">binop</span></a>) (<a id="a<sub>1</sub>:14" class="idref" href="#a<sub>1</sub>:14"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:15" class="idref" href="#a<sub>2</sub>:15"><span class="id" title="binder">a<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#aexp:9"><span class="id" title="inductive">aexp</span></a>) <span class="comment">(*&nbsp;&lt;---&nbsp;REFACTORED&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="ACTIf" class="idref" href="#ACTIf"><span class="id" title="constructor">ACTIf</span></a> (<a id="b:16" class="idref" href="#b:16"><span class="id" title="binder">b</span></a>:<a class="idref" href="SpecCT.html#aexp:9"><span class="id" title="inductive">aexp</span></a>) (<a id="a<sub>1</sub>:17" class="idref" href="#a<sub>1</sub>:17"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:18" class="idref" href="#a<sub>2</sub>:18"><span class="id" title="binder">a<sub>2</sub></span></a>:<a class="idref" href="SpecCT.html#aexp:9"><span class="id" title="inductive">aexp</span></a>). <span class="comment">(*&nbsp;&lt;---&nbsp;NEW&nbsp;*)</span><br/>
</div>

<div class="doc">
We can encode all the previous arithmetic and boolean operations: 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="APlus" class="idref" href="#APlus"><span class="id" title="definition">APlus</span></a> := <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <a class="idref" href="SpecCT.html#BinPlus"><span class="id" title="constructor">BinPlus</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="AMinus" class="idref" href="#AMinus"><span class="id" title="definition">AMinus</span></a> := <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <a class="idref" href="SpecCT.html#BinMinus"><span class="id" title="constructor">BinMinus</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="AMult" class="idref" href="#AMult"><span class="id" title="definition">AMult</span></a> := <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <a class="idref" href="SpecCT.html#BinMult"><span class="id" title="constructor">BinMult</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="BTrue" class="idref" href="#BTrue"><span class="id" title="definition">BTrue</span></a> := <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">ANum</span></a> 1.<br/>
<span class="id" title="keyword">Definition</span> <a id="BFalse" class="idref" href="#BFalse"><span class="id" title="definition">BFalse</span></a> := <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">ANum</span></a> 0.<br/>
<span class="id" title="keyword">Definition</span> <a id="BAnd" class="idref" href="#BAnd"><span class="id" title="definition">BAnd</span></a> := <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <a class="idref" href="SpecCT.html#BinAnd"><span class="id" title="constructor">BinAnd</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="BImpl" class="idref" href="#BImpl"><span class="id" title="definition">BImpl</span></a> := <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <a class="idref" href="SpecCT.html#BinImpl"><span class="id" title="constructor">BinImpl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="BNot" class="idref" href="#BNot"><span class="id" title="definition">BNot</span></a> <a id="b:19" class="idref" href="#b:19"><span class="id" title="binder">b</span></a> := <a class="idref" href="SpecCT.html#BImpl"><span class="id" title="definition">BImpl</span></a> <a class="idref" href="SpecCT.html#b:19"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#BFalse"><span class="id" title="definition">BFalse</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="BOr" class="idref" href="#BOr"><span class="id" title="definition">BOr</span></a> <a id="a<sub>1</sub>:20" class="idref" href="#a<sub>1</sub>:20"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:21" class="idref" href="#a<sub>2</sub>:21"><span class="id" title="binder">a<sub>2</sub></span></a> := <a class="idref" href="SpecCT.html#BImpl"><span class="id" title="definition">BImpl</span></a> (<a class="idref" href="SpecCT.html#BNot"><span class="id" title="definition">BNot</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>:20"><span class="id" title="variable">a<sub>1</sub></span></a>) <a class="idref" href="SpecCT.html#a<sub>2</sub>:21"><span class="id" title="variable">a<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="BEq" class="idref" href="#BEq"><span class="id" title="definition">BEq</span></a> := <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <a class="idref" href="SpecCT.html#BinEq"><span class="id" title="constructor">BinEq</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="BNeq" class="idref" href="#BNeq"><span class="id" title="definition">BNeq</span></a> <a id="a<sub>1</sub>:22" class="idref" href="#a<sub>1</sub>:22"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:23" class="idref" href="#a<sub>2</sub>:23"><span class="id" title="binder">a<sub>2</sub></span></a> := <a class="idref" href="SpecCT.html#BNot"><span class="id" title="definition">BNot</span></a> (<a class="idref" href="SpecCT.html#BEq"><span class="id" title="definition">BEq</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>:22"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>:23"><span class="id" title="variable">a<sub>2</sub></span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="BLe" class="idref" href="#BLe"><span class="id" title="definition">BLe</span></a> := <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <a class="idref" href="SpecCT.html#BinLe"><span class="id" title="constructor">BinLe</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="BGt" class="idref" href="#BGt"><span class="id" title="definition">BGt</span></a> <a id="a<sub>1</sub>:24" class="idref" href="#a<sub>1</sub>:24"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:25" class="idref" href="#a<sub>2</sub>:25"><span class="id" title="binder">a<sub>2</sub></span></a> := <a class="idref" href="SpecCT.html#BNot"><span class="id" title="definition">BNot</span></a> (<a class="idref" href="SpecCT.html#BLe"><span class="id" title="definition">BLe</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>:24"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>:25"><span class="id" title="variable">a<sub>2</sub></span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="BLt" class="idref" href="#BLt"><span class="id" title="definition">BLt</span></a> <a id="a<sub>1</sub>:26" class="idref" href="#a<sub>1</sub>:26"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:27" class="idref" href="#a<sub>2</sub>:27"><span class="id" title="binder">a<sub>2</sub></span></a> := <a class="idref" href="SpecCT.html#BGt"><span class="id" title="definition">BGt</span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>:27"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>:26"><span class="id" title="variable">a<sub>1</sub></span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="SpecCT.html#eval_binop"><span class="id" title="definition">eval_binop</span></a> : <span class="id" title="var">core</span>.<br/>
</div>

<div class="doc">
The label assigned to the result of a constant-time conditional will simply
    join the labels of the 3 involved expressions: 
<div class="paragraph"> </div>

 <center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2; be &#x2208; l&nbsp;&nbsp;&nbsp;P &#x22A2; a<sub>1</sub> &#x2208; l<sub>1</sub>&nbsp;&nbsp;&nbsp;&nbsp;P &#x22A2; a<sub>2</sub> &#x2208; l<sub>2</sub></td>
  <td class="infrulenamecol" rowspan="3">
    (T_CTIf) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2; be?a<sub>1</sub>:a<sub>2</sub> &#x2208; join l (join l<sub>1</sub> l<sub>2</sub>)</td>
  <td></td>
</tr>
</table></center>
<div class="paragraph"> </div>

 The notations we use for expressions are the same as in Imp,
    except the notation for <span class="inlinecode"><span class="id" title="var">be</span>?<span class="id" title="var">a<sub>1</sub></span>:<span class="id" title="var">a<sub>2</sub></span></span> which is new: 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="W" class="idref" href="#W"><span class="id" title="definition">W</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "W".<br/>
<span class="id" title="keyword">Definition</span> <a id="X" class="idref" href="#X"><span class="id" title="definition">X</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "X".<br/>
<span class="id" title="keyword">Definition</span> <a id="Y" class="idref" href="#Y"><span class="id" title="definition">Y</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "Y".<br/>
<span class="id" title="keyword">Definition</span> <a id="Z" class="idref" href="#Z"><span class="id" title="definition">Z</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "Z".<br/>
<span class="id" title="keyword">Definition</span> <a id="A" class="idref" href="#A"><span class="id" title="definition">A</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "A".<br/>
<span class="id" title="keyword">Definition</span> <a id="AP" class="idref" href="#AP"><span class="id" title="definition">AP</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "AP".<br/>
<span class="id" title="keyword">Definition</span> <a id="AS" class="idref" href="#AS"><span class="id" title="definition">AS</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "AS".<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="SpecCT.html#AId"><span class="id" title="constructor">AId</span></a> <a class="idref" href="SpecCT.html#AId"><span class="id" title="constructor">:</span></a> <a class="idref" href="SpecCT.html#AId"><span class="id" title="constructor">string</span></a> <a class="idref" href="SpecCT.html#AId"><span class="id" title="constructor">&gt;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span></a> <a class="idref" href="SpecCT.html#AId"><span class="id" title="constructor">aexp</span></a>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">ANum</span></a> <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">:</span></a> <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">nat</span></a> <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">&gt;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span></a> <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">aexp</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="var">Declare</span> <span class="id" title="var">Custom</span> <span class="id" title="var">Entry</span> <span class="id" title="var">com</span>.<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">com_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="23430cd9e427d30c054d4f029e39cb7f" class="idref" href="#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&quot;</span></a>&lt;{ e }&gt;" := <span class="id" title="var">e</span> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">e</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="5a96623d056c293ebbcdf03005796e<sub>09</sub>" class="idref" href="#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">&quot;</span></a>( x )" := <span class="id" title="var">x</span> (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span>, <span class="id" title="var">x</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":com:com_scope:x" class="idref" href="#:com:com_scope:x"><span class="id" title="notation">&quot;</span></a>x" := <span class="id" title="var">x</span> (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":com:com_scope:x_x_'..'_x" class="idref" href="#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">&quot;</span></a>f x .. y" := (.. (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) .. <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">y</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>" class="idref" href="#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">&quot;</span></a>x + y"   := (<a class="idref" href="SpecCT.html#APlus"><span class="id" title="definition">APlus</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id=":com::x_'-'_x" class="idref" href="#:com::x_'-'_x"><span class="id" title="notation">&quot;</span></a>x - y"   := (<a class="idref" href="SpecCT.html#AMinus"><span class="id" title="definition">AMinus</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id="a73c7b35e67094dc8ae672f3a93da066" class="idref" href="#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">&quot;</span></a>x * y"   := (<a class="idref" href="SpecCT.html#AMult"><span class="id" title="definition">AMult</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id=":::'true'" class="idref" href="#:::'true'"><span class="id" title="notation">&quot;</span></a>'true'"  := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 1).<br/>
<span class="id" title="keyword">Notation</span> <a id=":com::'true'" class="idref" href="#:com::'true'"><span class="id" title="notation">&quot;</span></a>'true'"  := <a class="idref" href="SpecCT.html#BTrue"><span class="id" title="definition">BTrue</span></a> (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0).<br/>
<span class="id" title="keyword">Notation</span> <a id=":::'false'" class="idref" href="#:::'false'"><span class="id" title="notation">&quot;</span></a>'false'" := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 1).<br/>
<span class="id" title="keyword">Notation</span> <a id=":com::'false'" class="idref" href="#:com::'false'"><span class="id" title="notation">&quot;</span></a>'false'" := <a class="idref" href="SpecCT.html#BFalse"><span class="id" title="definition">BFalse</span></a> (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0).<br/>
<span class="id" title="keyword">Notation</span> <a id="d43f15edd52d29ae8e0f90730a25ed5c" class="idref" href="#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">&quot;</span></a>x &lt;= y"  := (<a class="idref" href="SpecCT.html#BLe"><span class="id" title="definition">BLe</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id=":com::x_'&gt;'_x" class="idref" href="#:com::x_'&gt;'_x"><span class="id" title="notation">&quot;</span></a>x &gt; y"   := (<a class="idref" href="SpecCT.html#BGt"><span class="id" title="definition">BGt</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id=":com::x_'&lt;'_x" class="idref" href="#:com::x_'&lt;'_x"><span class="id" title="notation">&quot;</span></a>x &lt; y"   := (<a class="idref" href="SpecCT.html#BLt"><span class="id" title="definition">BLt</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id="9e5b22caf5d7cf490e97976162618c2a" class="idref" href="#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">&quot;</span></a>x = y"   := (<a class="idref" href="SpecCT.html#BEq"><span class="id" title="definition">BEq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id=":com::x_'&lt;&gt;'_x" class="idref" href="#:com::x_'&lt;&gt;'_x"><span class="id" title="notation">&quot;</span></a>x &lt;&gt; y"  := (<a class="idref" href="SpecCT.html#BNeq"><span class="id" title="definition">BNeq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id=":com::x_'&amp;&amp;'_x" class="idref" href="#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&quot;</span></a>x &amp;&amp; y"  := (<a class="idref" href="SpecCT.html#BAnd"><span class="id" title="definition">BAnd</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 80, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id="dfe50505b2b595242030c436d0d7d15f" class="idref" href="#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">&quot;</span></a>'~' b"   := (<a class="idref" href="SpecCT.html#BNot"><span class="id" title="definition">BNot</span></a> <span class="id" title="var">b</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 75, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">com_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="e394e4519717f9f211167ad5ddb8b548" class="idref" href="#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">&quot;</span></a>be '?' a<sub>1</sub> ':' a<sub>2</sub>"  := (<a class="idref" href="SpecCT.html#ACTIf"><span class="id" title="constructor">ACTIf</span></a> <span class="id" title="var">be</span> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span>) <span class="comment">(*&nbsp;&lt;--&nbsp;NEW&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
</div>

<div class="doc">
<a id="lab51"></a><h2 class="section">Adding arrays</h2>

<div class="paragraph"> </div>

 Now back to adding array reads and writes to commands: 
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="com" class="idref" href="#com"><span class="id" title="definition, inductive"><span id="com_rect" class="id"><span id="com_ind" class="id"><span id="com_rec" class="id"><span id="com_sind" class="id">com</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="Skip" class="idref" href="#Skip"><span class="id" title="constructor">Skip</span></a><br/>
&nbsp;&nbsp;| <a id="Asgn" class="idref" href="#Asgn"><span class="id" title="constructor">Asgn</span></a> (<a id="x:30" class="idref" href="#x:30"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="e:31" class="idref" href="#e:31"><span class="id" title="binder">e</span></a> : <a class="idref" href="SpecCT.html#aexp"><span class="id" title="inductive">aexp</span></a>)<br/>
&nbsp;&nbsp;| <a id="Seq" class="idref" href="#Seq"><span class="id" title="constructor">Seq</span></a> (<a id="c<sub>1</sub>:32" class="idref" href="#c<sub>1</sub>:32"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:33" class="idref" href="#c<sub>2</sub>:33"><span class="id" title="binder">c<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#com:28"><span class="id" title="inductive">com</span></a>)<br/>
&nbsp;&nbsp;| <a id="If" class="idref" href="#If"><span class="id" title="constructor">If</span></a> (<a id="be:34" class="idref" href="#be:34"><span class="id" title="binder">be</span></a> : <a class="idref" href="SpecCT.html#aexp"><span class="id" title="inductive">aexp</span></a>) (<a id="c<sub>1</sub>:35" class="idref" href="#c<sub>1</sub>:35"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:36" class="idref" href="#c<sub>2</sub>:36"><span class="id" title="binder">c<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#com:28"><span class="id" title="inductive">com</span></a>)<br/>
&nbsp;&nbsp;| <a id="While" class="idref" href="#While"><span class="id" title="constructor">While</span></a> (<a id="be:37" class="idref" href="#be:37"><span class="id" title="binder">be</span></a> : <a class="idref" href="SpecCT.html#aexp"><span class="id" title="inductive">aexp</span></a>) (<a id="c:38" class="idref" href="#c:38"><span class="id" title="binder">c</span></a> : <a class="idref" href="SpecCT.html#com:28"><span class="id" title="inductive">com</span></a>)<br/>
&nbsp;&nbsp;| <a id="ARead" class="idref" href="#ARead"><span class="id" title="constructor">ARead</span></a> (<a id="x:39" class="idref" href="#x:39"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="a:40" class="idref" href="#a:40"><span class="id" title="binder">a</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="i:41" class="idref" href="#i:41"><span class="id" title="binder">i</span></a> : <a class="idref" href="SpecCT.html#aexp"><span class="id" title="inductive">aexp</span></a>) <span class="comment">(*&nbsp;&lt;---&nbsp;NEW&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="AWrite" class="idref" href="#AWrite"><span class="id" title="constructor">AWrite</span></a> (<a id="a:42" class="idref" href="#a:42"><span class="id" title="binder">a</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="i:43" class="idref" href="#i:43"><span class="id" title="binder">i</span></a> : <a class="idref" href="SpecCT.html#aexp"><span class="id" title="inductive">aexp</span></a>) (<a id="e:44" class="idref" href="#e:44"><span class="id" title="binder">e</span></a> : <a class="idref" href="SpecCT.html#aexp"><span class="id" title="inductive">aexp</span></a>)  <span class="comment">(*&nbsp;&lt;---&nbsp;NEW&nbsp;*)</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="b980709f1dd80c7e5c312e7bff2251bf" class="idref" href="#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&quot;</span></a>&lt;<span style='letter-spacing:-.4em;'>{</span>{ e <span style='letter-spacing:-.4em;'>}</span>}&gt;" := <span class="id" title="var">e</span> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">e</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="5a96623d056c293ebbcdf03005796e<sub>09</sub>" class="idref" href="#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">&quot;</span></a>( x )" := <span class="id" title="var">x</span> (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span>, <span class="id" title="var">x</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":com:com_scope:x" class="idref" href="#:com:com_scope:x"><span class="id" title="notation">&quot;</span></a>x" := <span class="id" title="var">x</span> (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":com:com_scope:x_x_'..'_x" class="idref" href="#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">&quot;</span></a>f x .. y" := (.. (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) .. <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">y</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9) : <span class="id" title="var">com_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">com_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id=":com:com_scope:'skip'" class="idref" href="#:com:com_scope:'skip'"><span class="id" title="notation">&quot;</span></a>'skip'"  :=<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#Skip"><span class="id" title="constructor">Skip</span></a> (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="91e9aa710642047a93142bdf557f1a1b" class="idref" href="#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">&quot;</span></a>x := y"  :=<br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#Asgn"><span class="id" title="constructor">Asgn</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">y</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>" class="idref" href="#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">&quot;</span></a>x ; y" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#Seq"><span class="id" title="constructor">Seq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 90, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":com:com_scope:'if'_x_'then'_x_'else'_x_'end'" class="idref" href="#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">&quot;</span></a>'if' x 'then' y 'else' z 'end'" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#If"><span class="id" title="constructor">If</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 89, <span class="id" title="var">x</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99, <span class="id" title="var">z</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":com:com_scope:'while'_x_'do'_x_'end'" class="idref" href="#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">&quot;</span></a>'while' x 'do' y 'end'" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#While"><span class="id" title="constructor">While</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 89, <span class="id" title="var">x</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99, <span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99) : <span class="id" title="var">com_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="5d7f78d973a61a35f66b07dad8130451" class="idref" href="#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&quot;</span></a>x '&lt;-' a '[[' i ']]'" := (<a class="idref" href="SpecCT.html#ARead"><span class="id" title="constructor">ARead</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">i</span>) <span class="comment">(*&nbsp;&lt;---&nbsp;NEW&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">a</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85, <span class="id" title="var">i</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="78f8c68be5d58b21aed16797e33628b<sub>0</sub>" class="idref" href="#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&quot;</span></a>a '[' i ']'  '&lt;-' e"  := (<a class="idref" href="SpecCT.html#AWrite"><span class="id" title="constructor">AWrite</span></a> <span class="id" title="var">a</span> <span class="id" title="var">i</span> <span class="id" title="var">e</span>) <span class="comment">(*&nbsp;&lt;---&nbsp;NEW&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">a</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">e</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">com_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="state" class="idref" href="#state"><span class="id" title="definition">state</span></a> := <span class="id" title="definition">total_map</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="astate" class="idref" href="#astate"><span class="id" title="definition">astate</span></a> := <span class="id" title="definition">total_map</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>). <span class="comment">(*&nbsp;&lt;---&nbsp;NEW&nbsp;*)</span><br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a id="aeval" class="idref" href="#aeval"><span class="id" title="definition">aeval</span></a> (<a id="st:45" class="idref" href="#st:45"><span class="id" title="binder">st</span></a> : <a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a>) (<a id="a:46" class="idref" href="#a:46"><span class="id" title="binder">a</span></a>: <a class="idref" href="SpecCT.html#aexp"><span class="id" title="inductive">aexp</span></a>) : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#a:46"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n</span> ⇒ <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#AId"><span class="id" title="constructor">AId</span></a> <span class="id" title="var">x</span> ⇒ <a class="idref" href="SpecCT.html#st:45"><span class="id" title="variable">st</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <span class="id" title="var">b</span> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span> ⇒ <a class="idref" href="SpecCT.html#eval_binop"><span class="id" title="definition">eval_binop</span></a> <span class="id" title="var">b</span> (<a class="idref" href="SpecCT.html#aeval:47"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:45"><span class="id" title="variable">st</span></a> <span class="id" title="var">a<sub>1</sub></span>) (<a class="idref" href="SpecCT.html#aeval:47"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:45"><span class="id" title="variable">st</span></a> <span class="id" title="var">a<sub>2</sub></span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><span class="id" title="var">b</span> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#aeval:47"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:45"><span class="id" title="variable">st</span></a> <span class="id" title="var">b</span>) <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#aeval:47"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:45"><span class="id" title="variable">st</span></a> <span class="id" title="var">a<sub>1</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;^-&nbsp;NEW&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;*)</span>      <span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#aeval:47"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:45"><span class="id" title="variable">st</span></a> <span class="id" title="var">a<sub>2</sub></span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
A couple of obvious lemmas that will be useful in the proofs: 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="not_zero_aeval_S" class="idref" href="#not_zero_aeval_S"><span class="id" title="lemma">not_zero_aeval_S</span></a> : <span class="id" title="keyword">∀</span> <a id="b:49" class="idref" href="#b:49"><span class="id" title="binder">b</span></a> <a id="n:50" class="idref" href="#n:50"><span class="id" title="binder">n</span></a> <a id="st:51" class="idref" href="#st:51"><span class="id" title="binder">st</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:51"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#b:49"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="SpecCT.html#n:50"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:51"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#b:49"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a>.<br/>
<div class="togglescript" id="proofcontrol1" onclick="toggleDisplay('proof1');toggleDisplay('proofcontrol1')"><span class="show"></span></div>
<div class="proofscript" id="proof1" onclick="toggleDisplay('proof1');toggleDisplay('proofcontrol1')">
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">n</span> <span class="id" title="var">st</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_zero_aeval_O" class="idref" href="#not_zero_aeval_O"><span class="id" title="lemma">not_zero_aeval_O</span></a> : <span class="id" title="keyword">∀</span> <a id="b:52" class="idref" href="#b:52"><span class="id" title="binder">b</span></a> <a id="st:53" class="idref" href="#st:53"><span class="id" title="binder">st</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:53"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#b:52"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:53"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#b:52"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a>.<br/>
<div class="togglescript" id="proofcontrol2" onclick="toggleDisplay('proof2');toggleDisplay('proofcontrol2')"><span class="show"></span></div>
<div class="proofscript" id="proof2" onclick="toggleDisplay('proof2');toggleDisplay('proofcontrol2')">
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">st</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
We also define an array update operation, to be used in the semantics of
    array writes below: 
</div>
<div class="code">

<span class="id" title="keyword">Fixpoint</span> <a id="upd" class="idref" href="#upd"><span class="id" title="definition">upd</span></a> (<a id="i:54" class="idref" href="#i:54"><span class="id" title="binder">i</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="ns:55" class="idref" href="#ns:55"><span class="id" title="binder">ns</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="n:56" class="idref" href="#n:56"><span class="id" title="binder">n</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#i:54"><span class="id" title="variable">i</span></a>, <a class="idref" href="SpecCT.html#ns:55"><span class="id" title="variable">ns</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0, <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ns'</span> ⇒ <a class="idref" href="SpecCT.html#n:56"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ns'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">i'</span>, <span class="id" title="var">n'</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ns'</span> ⇒ <span class="id" title="var">n'</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#upd:57"><span class="id" title="definition">upd</span></a> <span class="id" title="var">i'</span> <span class="id" title="var">ns'</span> <a class="idref" href="SpecCT.html#n:56"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#ns:55"><span class="id" title="variable">ns</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
<a id="lab52"></a><h2 class="section">Instrumenting semantics with observations</h2>

<div class="paragraph"> </div>

 In addition to the boolean branches, which are observable in the PC security
    model, for CCT security also the array reads and writes are observable: 
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="observation" class="idref" href="#observation"><span class="id" title="definition, inductive"><span id="observation_rect" class="id"><span id="observation_ind" class="id"><span id="observation_rec" class="id"><span id="observation_sind" class="id">observation</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="OBranch" class="idref" href="#OBranch"><span class="id" title="constructor">OBranch</span></a> (<a id="b:62" class="idref" href="#b:62"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;| <a id="OARead" class="idref" href="#OARead"><span class="id" title="constructor">OARead</span></a> (<a id="a:63" class="idref" href="#a:63"><span class="id" title="binder">a</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="i:64" class="idref" href="#i:64"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;| <a id="OAWrite" class="idref" href="#OAWrite"><span class="id" title="constructor">OAWrite</span></a> (<a id="a:65" class="idref" href="#a:65"><span class="id" title="binder">a</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="i:66" class="idref" href="#i:66"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="obs" class="idref" href="#obs"><span class="id" title="definition">obs</span></a> := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#observation"><span class="id" title="inductive">observation</span></a>.<br/>
</div>

<div class="doc">
We define an instrumented big-step operational semantics based on these
    observations. 
<div class="paragraph"> </div>

 <center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (CTE_Skip) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st , ast)> =[ skip ]=> <(st, ast, [])></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">aeval st e = n</td>
  <td class="infrulenamecol" rowspan="3">
    (CTE_Asgn) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, ast)> =[ x := e ]=> <(x !<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> n; st, ast, [])></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule"><(st, ast)> =[ c<sub>1</sub> ]=> <(st', ast', os<sub>1</sub>)></td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st', ast')> =[ c<sub>2</sub> ]=> <(st'', ast'', os<sub>2</sub>)></td>
  <td class="infrulenamecol" rowspan="3">
    (CTE_Seq) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, ast)>  =[ c<sub>1</sub> ; c<sub>2</sub> ]=> <(st'', ast'', os<sub>1</sub> ++ os<sub>2</sub>)></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">beval st b = true</td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, ast)> =[ c<sub>1</sub> ]=> <(st', ast', os<sub>1</sub>)></td>
  <td class="infrulenamecol" rowspan="3">
    (* CTE_IfTrue *) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, ast)> =[ if b then c<sub>1</sub> else c<sub>2</sub> end]=> <(st', ast', [OBranch true] ++ os<sub>1</sub>)></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">beval st b = false</td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, ast)> =[ c<sub>2</sub> ]=> <(st', ast', os<sub>1</sub>)></td>
  <td class="infrulenamecol" rowspan="3">
    (* CTE_IfFalse *) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, ast)> =[ if b then c<sub>1</sub> else c<sub>2</sub> end]=> <(st', ast', [OBranch false] ++ os<sub>1</sub>)></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule"><(st,ast)> =[ if b then c; while b do c end else skip end ]=> <(st', ast', os)></td>
  <td class="infrulenamecol" rowspan="3">
    (* CTE_While *) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st,ast)> =[ while b do c end ]=> <(st', ast', os)></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">aeval st ie = i</td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">i < length (ast a)</td>
  <td class="infrulenamecol" rowspan="3">
    (* CTE_ARead *) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, ast)> =[ x <- a[[ie]] ]=> <(x !<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> nth i (ast a) 0; st, ast, [OARead a i])></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">aeval st e = n</td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">aeval st ie = i</td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">i < length (ast a)</td>
  <td class="infrulenamecol" rowspan="3">
    (* CTE_Write *) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, ast)> =[ a[ie] <- e ]=> <(st, a !<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> upd i (ast a) n; ast, [OAWrite a i])></td>
  <td></td>
</tr>
</table></center>
</div>
<div class="code">

<span class="id" title="keyword">Reserved Notation</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"'&lt;(' st , ast ')&gt;' '=[' c ']=&gt;' '&lt;(' stt , astt , os ')&gt;'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">c</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">st</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">ast</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">stt</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">astt</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="cteval" class="idref" href="#cteval"><span class="id" title="definition, inductive"><span id="cteval_ind" class="id"><span id="cteval_sind" class="id">cteval</span></span></span></a> : <a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#astate"><span class="id" title="definition">astate</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#astate"><span class="id" title="definition">astate</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="CTE_Skip" class="idref" href="#CTE_Skip"><span class="id" title="constructor">CTE_Skip</span></a> : <span class="id" title="keyword">∀</span> <a id="st:69" class="idref" href="#st:69"><span class="id" title="binder">st</span></a> <a id="ast:70" class="idref" href="#ast:70"><span class="id" title="binder">ast</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:69"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:70"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:69"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:70"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CTE_Asgn" class="idref" href="#CTE_Asgn"><span class="id" title="constructor">CTE_Asgn</span></a>  : <span class="id" title="keyword">∀</span> <a id="st:71" class="idref" href="#st:71"><span class="id" title="binder">st</span></a> <a id="ast:72" class="idref" href="#ast:72"><span class="id" title="binder">ast</span></a> <a id="e:73" class="idref" href="#e:73"><span class="id" title="binder">e</span></a> <a id="n:74" class="idref" href="#n:74"><span class="id" title="binder">n</span></a> <a id="x:75" class="idref" href="#x:75"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:71"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:73"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:74"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:71"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:72"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:75"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#e:73"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:75"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:74"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:71"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:72"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CTE_Seq" class="idref" href="#CTE_Seq"><span class="id" title="constructor">CTE_Seq</span></a> : <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:76" class="idref" href="#c<sub>1</sub>:76"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:77" class="idref" href="#c<sub>2</sub>:77"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="st:78" class="idref" href="#st:78"><span class="id" title="binder">st</span></a> <a id="ast:79" class="idref" href="#ast:79"><span class="id" title="binder">ast</span></a> <a id="st':80" class="idref" href="#st':80"><span class="id" title="binder">st'</span></a> <a id="ast':81" class="idref" href="#ast':81"><span class="id" title="binder">ast'</span></a> <a id="st'':82" class="idref" href="#st'':82"><span class="id" title="binder">st''</span></a> <a id="ast'':83" class="idref" href="#ast'':83"><span class="id" title="binder">ast''</span></a> <a id="os<sub>1</sub>:84" class="idref" href="#os<sub>1</sub>:84"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:85" class="idref" href="#os<sub>2</sub>:85"><span class="id" title="binder">os<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:78"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:79"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:76"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':80"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':81"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:84"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a>  <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':80"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':81"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:77"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st'':82"><span class="id" title="variable">st''</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast'':83"><span class="id" title="variable">ast''</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:85"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:78"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:79"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a>  <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:76"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:77"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st'':82"><span class="id" title="variable">st''</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast'':83"><span class="id" title="variable">ast''</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:84"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="SpecCT.html#os<sub>2</sub>:85"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CTE_IfTrue" class="idref" href="#CTE_IfTrue"><span class="id" title="constructor">CTE_IfTrue</span></a> : <span class="id" title="keyword">∀</span> <a id="st:86" class="idref" href="#st:86"><span class="id" title="binder">st</span></a> <a id="ast:87" class="idref" href="#ast:87"><span class="id" title="binder">ast</span></a> <a id="st':88" class="idref" href="#st':88"><span class="id" title="binder">st'</span></a> <a id="ast':89" class="idref" href="#ast':89"><span class="id" title="binder">ast'</span></a> <a id="b:90" class="idref" href="#b:90"><span class="id" title="binder">b</span></a> <a id="c<sub>1</sub>:91" class="idref" href="#c<sub>1</sub>:91"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:92" class="idref" href="#c<sub>2</sub>:92"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="os<sub>1</sub>:93" class="idref" href="#os<sub>1</sub>:93"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="n:94" class="idref" href="#n:94"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:86"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#b:90"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="SpecCT.html#n:94"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:86"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:87"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:91"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':88"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':89"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:93"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:86"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:87"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#b:90"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:91"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:92"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':88"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':89"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:93"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CTE_IfFalse" class="idref" href="#CTE_IfFalse"><span class="id" title="constructor">CTE_IfFalse</span></a> : <span class="id" title="keyword">∀</span> <a id="st:95" class="idref" href="#st:95"><span class="id" title="binder">st</span></a> <a id="ast:96" class="idref" href="#ast:96"><span class="id" title="binder">ast</span></a> <a id="st':97" class="idref" href="#st':97"><span class="id" title="binder">st'</span></a> <a id="ast':98" class="idref" href="#ast':98"><span class="id" title="binder">ast'</span></a> <a id="b:99" class="idref" href="#b:99"><span class="id" title="binder">b</span></a> <a id="c<sub>1</sub>:100" class="idref" href="#c<sub>1</sub>:100"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:101" class="idref" href="#c<sub>2</sub>:101"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="os<sub>1</sub>:102" class="idref" href="#os<sub>1</sub>:102"><span class="id" title="binder">os<sub>1</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:95"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#b:99"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> 0<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:95"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:96"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:101"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':97"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':98"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:102"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:95"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:96"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#b:99"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:100"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:101"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':97"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':98"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:102"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CTE_While" class="idref" href="#CTE_While"><span class="id" title="constructor">CTE_While</span></a> : <span class="id" title="keyword">∀</span> <a id="b:103" class="idref" href="#b:103"><span class="id" title="binder">b</span></a> <a id="st:104" class="idref" href="#st:104"><span class="id" title="binder">st</span></a> <a id="ast:105" class="idref" href="#ast:105"><span class="id" title="binder">ast</span></a> <a id="st':106" class="idref" href="#st':106"><span class="id" title="binder">st'</span></a> <a id="ast':107" class="idref" href="#ast':107"><span class="id" title="binder">ast'</span></a> <a id="os:108" class="idref" href="#os:108"><span class="id" title="binder">os</span></a> <a id="c:109" class="idref" href="#c:109"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:104"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a><a class="idref" href="SpecCT.html#ast:105"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#b:103"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c:109"><span class="id" title="variable">c</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#b:103"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c:109"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':106"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':107"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:108"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="comment">(*&nbsp;&lt;^-&nbsp;Nice&nbsp;trick;&nbsp;from&nbsp;small-step&nbsp;semantics&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:104"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a><a class="idref" href="SpecCT.html#ast:105"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#b:103"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c:109"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':106"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':107"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:108"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CTE_ARead" class="idref" href="#CTE_ARead"><span class="id" title="constructor">CTE_ARead</span></a> : <span class="id" title="keyword">∀</span> <a id="st:110" class="idref" href="#st:110"><span class="id" title="binder">st</span></a> <a id="ast:111" class="idref" href="#ast:111"><span class="id" title="binder">ast</span></a> <a id="x:112" class="idref" href="#x:112"><span class="id" title="binder">x</span></a> <a id="a:113" class="idref" href="#a:113"><span class="id" title="binder">a</span></a> <a id="ie:114" class="idref" href="#ie:114"><span class="id" title="binder">ie</span></a> <a id="i:115" class="idref" href="#i:115"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:110"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:114"><span class="id" title="variable">ie</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:115"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:115"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#ast:111"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a:113"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:110"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:111"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:112"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#a:113"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#ie:114"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:112"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="SpecCT.html#i:115"><span class="id" title="variable">i</span></a> (<a class="idref" href="SpecCT.html#ast:111"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a:113"><span class="id" title="variable">a</span></a>) 0<span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:110"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:111"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OARead"><span class="id" title="constructor">OARead</span></a> <a class="idref" href="SpecCT.html#a:113"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:115"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CTE_Write" class="idref" href="#CTE_Write"><span class="id" title="constructor">CTE_Write</span></a> : <span class="id" title="keyword">∀</span> <a id="st:116" class="idref" href="#st:116"><span class="id" title="binder">st</span></a> <a id="ast:117" class="idref" href="#ast:117"><span class="id" title="binder">ast</span></a> <a id="a:118" class="idref" href="#a:118"><span class="id" title="binder">a</span></a> <a id="ie:119" class="idref" href="#ie:119"><span class="id" title="binder">ie</span></a> <a id="i:120" class="idref" href="#i:120"><span class="id" title="binder">i</span></a> <a id="e:121" class="idref" href="#e:121"><span class="id" title="binder">e</span></a> <a id="n:122" class="idref" href="#n:122"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:116"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:121"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:122"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:116"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:119"><span class="id" title="variable">ie</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:120"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:120"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#ast:117"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a:118"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:116"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:117"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#a:118"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#ie:119"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#e:121"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:116"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a:118"><span class="id" title="variable">a</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#upd"><span class="id" title="definition">upd</span></a> <a class="idref" href="SpecCT.html#i:120"><span class="id" title="variable">i</span></a> (<a class="idref" href="SpecCT.html#ast:117"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a:118"><span class="id" title="variable">a</span></a>) <a class="idref" href="SpecCT.html#n:122"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#ast:117"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OAWrite"><span class="id" title="constructor">OAWrite</span></a> <a class="idref" href="SpecCT.html#a:118"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:120"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="5fa47eea02f04b19747c38c6e11199c<sub>7</sub>" class="idref" href="#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&quot;</span></a>&lt;( st , ast )&gt; =[ c ]=&gt; &lt;( stt , astt , os )&gt;" := (<a class="idref" href="SpecCT.html#cteval:68"><span class="id" title="inductive">cteval</span></a> <span class="id" title="var">c</span> <span class="id" title="var">st</span> <span class="id" title="var">ast</span> <span class="id" title="var">stt</span> <span class="id" title="var">astt</span> <span class="id" title="var">os</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="SpecCT.html#cteval"><span class="id" title="inductive">cteval</span></a> : <span class="id" title="var">core</span>.<br/>
</div>

<div class="doc">
<a id="lab53"></a><h2 class="section">Constant-time security definition</h2>

</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="label" class="idref" href="#label"><span class="id" title="definition">label</span></a> := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="public" class="idref" href="#public"><span class="id" title="definition">public</span></a> : <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a> := <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="secret" class="idref" href="#secret"><span class="id" title="definition">secret</span></a> : <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a> := <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="pub_vars" class="idref" href="#pub_vars"><span class="id" title="definition">pub_vars</span></a> := <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="pub_arrs" class="idref" href="#pub_arrs"><span class="id" title="definition">pub_arrs</span></a> := <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="pub_equiv" class="idref" href="#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> (<a id="P:123" class="idref" href="#P:123"><span class="id" title="binder">P</span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>) {<a id="X:124" class="idref" href="#X:124"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="s<sub>1</sub>:125" class="idref" href="#s<sub>1</sub>:125"><span class="id" title="binder">s<sub>1</sub></span></a> <a id="s<sub>2</sub>:126" class="idref" href="#s<sub>2</sub>:126"><span class="id" title="binder">s<sub>2</sub></span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#X:124"><span class="id" title="variable">X</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:127" class="idref" href="#x:127"><span class="id" title="binder">x</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>, <a class="idref" href="SpecCT.html#P:123"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#x:127"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:125"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#x:127"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:126"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#x:127"><span class="id" title="variable">x</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="pub_equiv_refl" class="idref" href="#pub_equiv_refl"><span class="id" title="lemma">pub_equiv_refl</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:128" class="idref" href="#X:128"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="P:129" class="idref" href="#P:129"><span class="id" title="binder">P</span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>) (<a id="s:130" class="idref" href="#s:130"><span class="id" title="binder">s</span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#X:128"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:129"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s:130"><span class="id" title="variable">s</span></a> <a class="idref" href="SpecCT.html#s:130"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">P</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="pub_equiv_sym" class="idref" href="#pub_equiv_sym"><span class="id" title="lemma">pub_equiv_sym</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:131" class="idref" href="#X:131"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="P:132" class="idref" href="#P:132"><span class="id" title="binder">P</span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>) (<a id="s<sub>1</sub>:133" class="idref" href="#s<sub>1</sub>:133"><span class="id" title="binder">s<sub>1</sub></span></a> <a id="s<sub>2</sub>:134" class="idref" href="#s<sub>2</sub>:134"><span class="id" title="binder">s<sub>2</sub></span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#X:131"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:132"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:133"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:134"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:132"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:134"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:133"><span class="id" title="variable">s<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">P</span> <span class="id" title="var">s<sub>1</sub></span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">Px</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="pub_equiv_trans" class="idref" href="#pub_equiv_trans"><span class="id" title="lemma">pub_equiv_trans</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:135" class="idref" href="#X:135"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="P:136" class="idref" href="#P:136"><span class="id" title="binder">P</span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>) (<a id="s<sub>1</sub>:137" class="idref" href="#s<sub>1</sub>:137"><span class="id" title="binder">s<sub>1</sub></span></a> <a id="s<sub>2</sub>:138" class="idref" href="#s<sub>2</sub>:138"><span class="id" title="binder">s<sub>2</sub></span></a> <a id="s<sub>3</sub>:139" class="idref" href="#s<sub>3</sub>:139"><span class="id" title="binder">s<sub>3</sub></span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#X:135"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:136"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:137"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:138"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:136"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:138"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>3</sub>:139"><span class="id" title="variable">s<sub>3</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:136"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:137"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>3</sub>:139"><span class="id" title="variable">s<sub>3</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">P</span> <span class="id" title="var">s<sub>1</sub></span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">s<sub>3</sub></span> <span class="id" title="var">H<sub>12</sub></span> <span class="id" title="var">H<sub>23</sub></span> <span class="id" title="var">x</span> <span class="id" title="var">Px</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H<sub>23</sub></span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="cct_secure" class="idref" href="#cct_secure"><span class="id" title="definition">cct_secure</span></a> <a id="P:140" class="idref" href="#P:140"><span class="id" title="binder">P</span></a> <a id="PA:141" class="idref" href="#PA:141"><span class="id" title="binder">PA</span></a> <a id="c:142" class="idref" href="#c:142"><span class="id" title="binder">c</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="st<sub>1</sub>:143" class="idref" href="#st<sub>1</sub>:143"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:144" class="idref" href="#st<sub>2</sub>:144"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="ast1:145" class="idref" href="#ast1:145"><span class="id" title="binder">ast1</span></a> <a id="ast2:146" class="idref" href="#ast2:146"><span class="id" title="binder">ast2</span></a> <a id="st<sub>1</sub>':147" class="idref" href="#st<sub>1</sub>':147"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':148" class="idref" href="#st<sub>2</sub>':148"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="ast1':149" class="idref" href="#ast1':149"><span class="id" title="binder">ast1'</span></a> <a id="ast2':150" class="idref" href="#ast2':150"><span class="id" title="binder">ast2'</span></a> <a id="os<sub>1</sub>:151" class="idref" href="#os<sub>1</sub>:151"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:152" class="idref" href="#os<sub>2</sub>:152"><span class="id" title="binder">os<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:140"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:143"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:144"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:141"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#ast1:145"><span class="id" title="variable">ast1</span></a> <a class="idref" href="SpecCT.html#ast2:146"><span class="id" title="variable">ast2</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>:143"><span class="id" title="variable">st<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast1:145"><span class="id" title="variable">ast1</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:142"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>':147"><span class="id" title="variable">st<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast1':149"><span class="id" title="variable">ast1'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:151"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>:144"><span class="id" title="variable">st<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast2:146"><span class="id" title="variable">ast2</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:142"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>':148"><span class="id" title="variable">st<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast2':150"><span class="id" title="variable">ast2'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:152"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#os<sub>1</sub>:151"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:152"><span class="id" title="variable">os<sub>2</sub></span></a>.<br/>
</div>

<div class="doc">
<a id="lab54"></a><h2 class="section">Example pc secure program that is not constant-time secure</h2>

</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="cct_insecure_prog" class="idref" href="#cct_insecure_prog"><span class="id" title="definition">cct_insecure_prog</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#A"><span class="id" title="definition">A</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> .<br/><hr class='doublespaceincode'/>
<span class="comment">(*&nbsp;This&nbsp;program&nbsp;is&nbsp;trivially&nbsp;pc&nbsp;secure,&nbsp;because&nbsp;it&nbsp;does&nbsp;not&nbsp;branch&nbsp;at&nbsp;all.<br/>
&nbsp;&nbsp;&nbsp;But&nbsp;it&nbsp;is&nbsp;not&nbsp;constant-time&nbsp;secure,&nbsp;if&nbsp;Y&nbsp;is&nbsp;a&nbsp;secret&nbsp;variable.&nbsp;This&nbsp;is<br/>
&nbsp;&nbsp;&nbsp;shown&nbsp;below.&nbsp;*)</span><br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Example</span> <a id="cct_insecure_prog_is_not_cct_secure" class="idref" href="#cct_insecure_prog_is_not_cct_secure"><span class="id" title="definition">cct_insecure_prog_is_not_cct_secure</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="P:153" class="idref" href="#P:153"><span class="id" title="binder">P</span></a> <a id="PA:154" class="idref" href="#PA:154"><span class="id" title="binder">PA</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#cct_secure"><span class="id" title="definition">cct_secure</span></a> <a class="idref" href="SpecCT.html#P:153"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#PA:154"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#cct_insecure_prog"><span class="id" title="definition">cct_insecure_prog</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#secret"><span class="id" title="definition">secret</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">_</span><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="SpecCT.html#A"><span class="id" title="definition">A</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#secret"><span class="id" title="definition">secret</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">_</span><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#cct_secure"><span class="id" title="definition">cct_secure</span></a>, <a class="idref" href="SpecCT.html#cct_insecure_prog"><span class="id" title="definition">cct_insecure_prog</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">CTSEC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 1<span class="id" title="notation">;</span> <span class="id" title="notation">_</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 0) <span class="id" title="keyword">as</span> <span class="id" title="var">st<sub>1</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 2<span class="id" title="notation">;</span> <span class="id" title="notation">_</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 0) <span class="id" title="keyword">as</span> <span class="id" title="var">st<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#A"><span class="id" title="definition">A</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>1<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>2<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>3<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">_</span><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">ast</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">CTSEC</span> <span class="id" title="var">st<sub>1</sub></span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">ast</span> <span class="id" title="var">ast</span>).<br/><hr class='doublespaceincode'/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Contra</span>: <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OARead"><span class="id" title="constructor">OARead</span></a> <a class="idref" href="SpecCT.html#A"><span class="id" title="definition">A</span></a> 1<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OARead"><span class="id" title="constructor">OARead</span></a> <a class="idref" href="SpecCT.html#A"><span class="id" title="definition">A</span></a> 2<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">CTSEC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;public&nbsp;variables&nbsp;equivalent&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hneq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hx</span>; [| <span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; [| <span class="id" title="tactic">assumption</span>]). <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;public&nbsp;arrays&nbsp;equivalent&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#pub_equiv_refl"><span class="id" title="lemma">pub_equiv_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CTE_ARead"><span class="id" title="constructor">CTE_ARead</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CTE_ARead"><span class="id" title="constructor">CTE_ARead</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. }<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab55"></a><h2 class="section">Type system for cryptographic constant-time programming</h2>

</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="join" class="idref" href="#join"><span class="id" title="definition">join</span></a> (<a id="l<sub>1</sub>:155" class="idref" href="#l<sub>1</sub>:155"><span class="id" title="binder">l<sub>1</sub></span></a> <a id="l<sub>2</sub>:156" class="idref" href="#l<sub>2</sub>:156"><span class="id" title="binder">l<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>) : <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a> := <a class="idref" href="SpecCT.html#l<sub>1</sub>:155"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="SpecCT.html#l<sub>2</sub>:156"><span class="id" title="variable">l<sub>2</sub></span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="join_public" class="idref" href="#join_public"><span class="id" title="lemma">join_public</span></a> : <span class="id" title="keyword">∀</span> {<a id="l<sub>1</sub>:157" class="idref" href="#l<sub>1</sub>:157"><span class="id" title="binder">l<sub>1</sub></span></a> <a id="l<sub>2</sub>:158" class="idref" href="#l<sub>2</sub>:158"><span class="id" title="binder">l<sub>2</sub></span></a>},<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="SpecCT.html#l<sub>1</sub>:157"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#l<sub>2</sub>:158"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#l<sub>1</sub>:157"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#l<sub>2</sub>:158"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#andb_prop"><span class="id" title="lemma">andb_prop</span></a>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="can_flow" class="idref" href="#can_flow"><span class="id" title="definition">can_flow</span></a> (<a id="l<sub>1</sub>:159" class="idref" href="#l<sub>1</sub>:159"><span class="id" title="binder">l<sub>1</sub></span></a> <a id="l<sub>2</sub>:160" class="idref" href="#l<sub>2</sub>:160"><span class="id" title="binder">l<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>) : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <a class="idref" href="SpecCT.html#l<sub>1</sub>:159"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <a class="idref" href="SpecCT.html#l<sub>2</sub>:160"><span class="id" title="variable">l<sub>2</sub></span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Reserved Notation</span> &quot;P '&#x22A2;' a &#x2208; l" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="aexp_has_label" class="idref" href="#aexp_has_label"><span class="id" title="definition, inductive"><span id="aexp_has_label_ind" class="id"><span id="aexp_has_label_sind" class="id">aexp_has_label</span></span></span></a> (<a id="P:161" class="idref" href="#P:161"><span class="id" title="binder">P</span></a>:<a class="idref" href="SpecCT.html#pub_vars"><span class="id" title="definition">pub_vars</span></a>) : <a class="idref" href="SpecCT.html#aexp"><span class="id" title="inductive">aexp</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="T_Num" class="idref" href="#T_Num"><span class="id" title="constructor">T_Num</span></a> : <span class="id" title="keyword">∀</span> <a id="n:164" class="idref" href="#n:164"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:161"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">ANum</span></a> <a class="idref" href="SpecCT.html#n:164"><span class="id" title="variable">n</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">)</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a><br/>
&nbsp;&nbsp;| <a id="T_Id" class="idref" href="#T_Id"><span class="id" title="constructor">T_Id</span></a> : <span class="id" title="keyword">∀</span> <a id="X:165" class="idref" href="#X:165"><span class="id" title="binder">X</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:161"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#AId"><span class="id" title="constructor">AId</span></a> <a class="idref" href="SpecCT.html#X:165"><span class="id" title="variable">X</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">)</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#P:161"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#X:165"><span class="id" title="variable">X</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a id="T_Bin" class="idref" href="#T_Bin"><span class="id" title="constructor">T_Bin</span></a> : <span class="id" title="keyword">∀</span> <a id="op:166" class="idref" href="#op:166"><span class="id" title="binder">op</span></a> <a id="a<sub>1</sub>:167" class="idref" href="#a<sub>1</sub>:167"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="l<sub>1</sub>:168" class="idref" href="#l<sub>1</sub>:168"><span class="id" title="binder">l<sub>1</sub></span></a> <a id="a<sub>2</sub>:169" class="idref" href="#a<sub>2</sub>:169"><span class="id" title="binder">a<sub>2</sub></span></a> <a id="l<sub>2</sub>:170" class="idref" href="#l<sub>2</sub>:170"><span class="id" title="binder">l<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:161"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>:167"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l<sub>1</sub>:168"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:161"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>:169"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l<sub>2</sub>:170"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:161"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <a class="idref" href="SpecCT.html#op:166"><span class="id" title="variable">op</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>:167"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>:169"><span class="id" title="variable">a<sub>2</sub></span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">)</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="SpecCT.html#l<sub>1</sub>:168"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#l<sub>2</sub>:170"><span class="id" title="variable">l<sub>2</sub></span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a id="T_CTIf" class="idref" href="#T_CTIf"><span class="id" title="constructor">T_CTIf</span></a> : <span class="id" title="keyword">∀</span> <a id="be:171" class="idref" href="#be:171"><span class="id" title="binder">be</span></a> <a id="l:172" class="idref" href="#l:172"><span class="id" title="binder">l</span></a> <a id="a<sub>1</sub>:173" class="idref" href="#a<sub>1</sub>:173"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="l<sub>1</sub>:174" class="idref" href="#l<sub>1</sub>:174"><span class="id" title="binder">l<sub>1</sub></span></a> <a id="a<sub>2</sub>:175" class="idref" href="#a<sub>2</sub>:175"><span class="id" title="binder">a<sub>2</sub></span></a> <a id="l<sub>2</sub>:176" class="idref" href="#l<sub>2</sub>:176"><span class="id" title="binder">l<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:161"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#be:171"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l:172"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:161"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>:173"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l<sub>1</sub>:174"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:161"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>:175"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l<sub>2</sub>:176"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:161"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="SpecCT.html#be:171"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>:173"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>:175"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="SpecCT.html#l:172"><span class="id" title="variable">l</span></a> (<a class="idref" href="SpecCT.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="SpecCT.html#l<sub>1</sub>:174"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#l<sub>2</sub>:176"><span class="id" title="variable">l<sub>2</sub></span></a>)<a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">)</span></a><br/>
<br/>
<span class="id" title="keyword">where</span> <a id="3b5796de2387691122e67a3516cd710b" class="idref" href="#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&quot;</span></a>P '&#x22A2;' a '&#x2208;' l" := (<a class="idref" href="SpecCT.html#aexp_has_label:163"><span class="id" title="inductive">aexp_has_label</span></a> <span class="id" title="var">P</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="SpecCT.html#aexp_has_label"><span class="id" title="inductive">aexp_has_label</span></a> : <span class="id" title="var">core</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="noninterferent_aexp" class="idref" href="#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a> : <span class="id" title="keyword">∀</span> {<a id="P:177" class="idref" href="#P:177"><span class="id" title="binder">P</span></a> <a id="s<sub>1</sub>:178" class="idref" href="#s<sub>1</sub>:178"><span class="id" title="binder">s<sub>1</sub></span></a> <a id="s<sub>2</sub>:179" class="idref" href="#s<sub>2</sub>:179"><span class="id" title="binder">s<sub>2</sub></span></a> <a id="a:180" class="idref" href="#a:180"><span class="id" title="binder">a</span></a>},<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:177"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:178"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:179"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:177"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#a:180"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:178"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#a:180"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:179"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#a:180"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">s<sub>1</sub></span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">a</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Ht</span>. <span class="id" title="var">remember</span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#join_public"><span class="id" title="lemma">join_public</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heql</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HP<sub>1</sub></span> <span class="id" title="var">HP<sub>2</sub></span>]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHHt1</span>, <span class="id" title="var">IHHt2</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#join_public"><span class="id" title="lemma">join_public</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heql</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HP</span> <span class="id" title="var">HP'</span>]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#join_public"><span class="id" title="lemma">join_public</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HP'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HP'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HP<sub>1</sub></span> <span class="id" title="var">HP<sub>2</sub></span>]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHHt1</span>, <span class="id" title="var">IHHt2</span>, <span class="id" title="var">IHHt3</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (CCT_Skip) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P ;; PA &#x22A2;ct- skip</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2; a &#x2208; l&nbsp;&nbsp;&nbsp;&nbsp;can_flow l (P X) = true</td>
  <td class="infrulenamecol" rowspan="3">
    (CCT_Asgn) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P ;; PA &#x22A2;ct- X := a</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">P ;; PA &#x22A2;ct- c<sub>1</sub>&nbsp;&nbsp;&nbsp;&nbsp;P ;; PA &#x22A2;ct- c<sub>2</sub></td>
  <td class="infrulenamecol" rowspan="3">
    (CCT_Seq) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P ;; PA &#x22A2;ct- c<sub>1</sub>;c<sub>2</sub></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2;b- b &#x2208; public&nbsp;&nbsp;&nbsp;&nbsp;P ;; PA &#x22A2;ct- c<sub>1</sub>&nbsp;&nbsp;&nbsp;&nbsp;P ;; PA &#x22A2;ct- c<sub>2</sub></td>
  <td class="infrulenamecol" rowspan="3">
    (CCT_If) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P ;; PA &#x22A2;ct- if b then c<sub>1</sub> else c<sub>2</sub></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2;b- b &#x2208; public&nbsp;&nbsp;&nbsp;&nbsp;P &#x22A2;ct- c</td>
  <td class="infrulenamecol" rowspan="3">
    (CCT_While) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P ;; PA &#x22A2;ct- while b then c end</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2; i &#x2208; public&nbsp;&nbsp;&nbsp;can_flow (PA a) (P x) = true</td>
  <td class="infrulenamecol" rowspan="3">
    (CCT_ARead) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P ;; PA &#x22A2;ct- x <- a[[i]]</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2; i &#x2208; public&nbsp;&nbsp;&nbsp;P &#x22A2; e &#x2208; l&nbsp;&nbsp;&nbsp;can_flow l (PA a) = true</td>
  <td class="infrulenamecol" rowspan="3">
    (CCT_AWrite) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P ;; PA &#x22A2;ct- a[i] <- e</td>
  <td></td>
</tr>
</table></center>
</div>
<div class="code">

<span class="id" title="keyword">Reserved Notation</span> &quot;P ';;' PA '&#x22A2;ct-' c" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="cct_well_typed" class="idref" href="#cct_well_typed"><span class="id" title="definition, inductive"><span id="cct_well_typed_ind" class="id"><span id="cct_well_typed_sind" class="id">cct_well_typed</span></span></span></a> (<a id="P:181" class="idref" href="#P:181"><span class="id" title="binder">P</span></a>:<a class="idref" href="SpecCT.html#pub_vars"><span class="id" title="definition">pub_vars</span></a>) (<a id="PA:182" class="idref" href="#PA:182"><span class="id" title="binder">PA</span></a>:<a class="idref" href="SpecCT.html#pub_arrs"><span class="id" title="definition">pub_arrs</span></a>) : <a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="CCT_Skip" class="idref" href="#CCT_Skip"><span class="id" title="constructor">CCT_Skip</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:182"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CCT_Asgn" class="idref" href="#CCT_Asgn"><span class="id" title="constructor">CCT_Asgn</span></a> : <span class="id" title="keyword">∀</span> <a id="X:185" class="idref" href="#X:185"><span class="id" title="binder">X</span></a> <a id="a:186" class="idref" href="#a:186"><span class="id" title="binder">a</span></a> <a id="l:187" class="idref" href="#l:187"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#a:186"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l:187"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#can_flow"><span class="id" title="definition">can_flow</span></a> <a class="idref" href="SpecCT.html#l:187"><span class="id" title="variable">l</span></a> (<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#X:185"><span class="id" title="variable">X</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:182"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#X:185"><span class="id" title="variable">X</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#a:186"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CCT_Seq" class="idref" href="#CCT_Seq"><span class="id" title="constructor">CCT_Seq</span></a> : <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:188" class="idref" href="#c<sub>1</sub>:188"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:189" class="idref" href="#c<sub>2</sub>:189"><span class="id" title="binder">c<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:182"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:188"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:182"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:189"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:182"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:188"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:189"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CCT_If" class="idref" href="#CCT_If"><span class="id" title="constructor">CCT_If</span></a> : <span class="id" title="keyword">∀</span> <a id="b:190" class="idref" href="#b:190"><span class="id" title="binder">b</span></a> <a id="c<sub>1</sub>:191" class="idref" href="#c<sub>1</sub>:191"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:192" class="idref" href="#c<sub>2</sub>:192"><span class="id" title="binder">c<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#b:190"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:182"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:191"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:182"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:192"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:182"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#b:190"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:191"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:192"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CCT_While" class="idref" href="#CCT_While"><span class="id" title="constructor">CCT_While</span></a> : <span class="id" title="keyword">∀</span> <a id="b:193" class="idref" href="#b:193"><span class="id" title="binder">b</span></a> <a id="c<sub>1</sub>:194" class="idref" href="#c<sub>1</sub>:194"><span class="id" title="binder">c<sub>1</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#b:193"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:182"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:194"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:182"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#b:193"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:194"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CCT_ARead" class="idref" href="#CCT_ARead"><span class="id" title="constructor">CCT_ARead</span></a> : <span class="id" title="keyword">∀</span> <a id="x:195" class="idref" href="#x:195"><span class="id" title="binder">x</span></a> <a id="a:196" class="idref" href="#a:196"><span class="id" title="binder">a</span></a> <a id="i:197" class="idref" href="#i:197"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#i:197"><span class="id" title="variable">i</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#can_flow"><span class="id" title="definition">can_flow</span></a> (<a class="idref" href="SpecCT.html#PA:182"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#a:196"><span class="id" title="variable">a</span></a>) (<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#x:195"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:182"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#x:195"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#a:196"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#i:197"><span class="id" title="variable">i</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CCT_AWrite" class="idref" href="#CCT_AWrite"><span class="id" title="constructor">CCT_AWrite</span></a> : <span class="id" title="keyword">∀</span> <a id="a:198" class="idref" href="#a:198"><span class="id" title="binder">a</span></a> <a id="i:199" class="idref" href="#i:199"><span class="id" title="binder">i</span></a> <a id="e:200" class="idref" href="#e:200"><span class="id" title="binder">e</span></a> <a id="l:201" class="idref" href="#l:201"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#i:199"><span class="id" title="variable">i</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#e:200"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l:201"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#can_flow"><span class="id" title="definition">can_flow</span></a> <a class="idref" href="SpecCT.html#l:201"><span class="id" title="variable">l</span></a> (<a class="idref" href="SpecCT.html#PA:182"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#a:198"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:181"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:182"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#a:198"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#i:199"><span class="id" title="variable">i</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#e:200"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
<br/>
<span class="id" title="keyword">where</span> <a id="c9439e72577e389a3a955c83b38b5251" class="idref" href="#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&quot;</span></a>P ;; PA '&#x22A2;ct-' c" := (<a class="idref" href="SpecCT.html#cct_well_typed:184"><span class="id" title="inductive">cct_well_typed</span></a> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="SpecCT.html#cct_well_typed"><span class="id" title="inductive">cct_well_typed</span></a> : <span class="id" title="var">core</span>.<br/>
</div>

<div class="doc">
<a id="lab56"></a><h2 class="section">Final theorems: noninterference and constant-time security</h2>

</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="cct_well_typed_noninterferent" class="idref" href="#cct_well_typed_noninterferent"><span class="id" title="lemma">cct_well_typed_noninterferent</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:202" class="idref" href="#P:202"><span class="id" title="binder">P</span></a> <a id="PA:203" class="idref" href="#PA:203"><span class="id" title="binder">PA</span></a> <a id="c:204" class="idref" href="#c:204"><span class="id" title="binder">c</span></a> <a id="s<sub>1</sub>:205" class="idref" href="#s<sub>1</sub>:205"><span class="id" title="binder">s<sub>1</sub></span></a> <a id="s<sub>2</sub>:206" class="idref" href="#s<sub>2</sub>:206"><span class="id" title="binder">s<sub>2</sub></span></a> <a id="a<sub>1</sub>:207" class="idref" href="#a<sub>1</sub>:207"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:208" class="idref" href="#a<sub>2</sub>:208"><span class="id" title="binder">a<sub>2</sub></span></a> <a id="s<sub>1</sub>':209" class="idref" href="#s<sub>1</sub>':209"><span class="id" title="binder">s<sub>1</sub>'</span></a> <a id="s<sub>2</sub>':210" class="idref" href="#s<sub>2</sub>':210"><span class="id" title="binder">s<sub>2</sub>'</span></a> <a id="a<sub>1</sub>':211" class="idref" href="#a<sub>1</sub>':211"><span class="id" title="binder">a<sub>1</sub>'</span></a> <a id="a<sub>2</sub>':212" class="idref" href="#a<sub>2</sub>':212"><span class="id" title="binder">a<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:213" class="idref" href="#os<sub>1</sub>:213"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:214" class="idref" href="#os<sub>2</sub>:214"><span class="id" title="binder">os<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:202"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:203"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:204"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:202"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:205"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:206"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:203"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>:207"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>:208"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s<sub>1</sub>:205"><span class="id" title="variable">s<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>:207"><span class="id" title="variable">a<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:204"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s<sub>1</sub>':209"><span class="id" title="variable">s<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>':211"><span class="id" title="variable">a<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:213"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s<sub>2</sub>:206"><span class="id" title="variable">s<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>:208"><span class="id" title="variable">a<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:204"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s<sub>2</sub>':210"><span class="id" title="variable">s<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>':212"><span class="id" title="variable">a<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:214"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:202"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>':209"><span class="id" title="variable">s<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>':210"><span class="id" title="variable">s<sub>2</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:203"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>':211"><span class="id" title="variable">a<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>':212"><span class="id" title="variable">a<sub>2</sub>'</span></a>.<br/>
<div class="togglescript" id="proofcontrol3" onclick="toggleDisplay('proof3');toggleDisplay('proofcontrol3')"><span class="show"></span></div>
<div class="proofscript" id="proof3" onclick="toggleDisplay('proof3');toggleDisplay('proofcontrol3')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span> <span class="id" title="var">s<sub>1</sub></span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">s<sub>1</sub>'</span> <span class="id" title="var">s<sub>2</sub>'</span> <span class="id" title="var">a<sub>1</sub>'</span> <span class="id" title="var">a<sub>2</sub>'</span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hwt</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">s<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">s<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">a<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">a<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">os<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heval1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">os<sub>2</sub>'</span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">Haeq</span> <span class="id" title="var">a<sub>2</sub>'</span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">Heq</span> <span class="id" title="var">s<sub>2</sub>'</span> <span class="id" title="var">Heval2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwt</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Most&nbsp;cases&nbsp;are&nbsp;the&nbsp;similar&nbsp;as&nbsp;for&nbsp;<span class="inlinecode"><span class="id" title="var">pc_well_typed</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hxy</span> | <span class="id" title="var">Hxy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hxy</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hy</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#can_flow"><span class="id" title="definition">can_flow</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<span class="id" title="axiom">t_update_neq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hxy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">edestruct</span> <span class="id" title="var">IHHeval1_2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1_1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1_1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a> <span class="id" title="var">Heq</span> <span class="id" title="var">H<sub>13</sub></span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H<sub>8</sub></span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>8</sub></span>. <span class="id" title="tactic">discriminate</span> <span class="id" title="var">H<sub>8</sub></span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a> <span class="id" title="var">Heq</span> <span class="id" title="var">H<sub>13</sub></span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H<sub>8</sub></span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>8</sub></span>. <span class="id" title="tactic">discriminate</span> <span class="id" title="var">H<sub>8</sub></span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;NEW&nbsp;CASE:&nbsp;ARead&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hxy</span> | <span class="id" title="var">Hxy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hxy</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hy</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Haeq</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> (<span class="id" title="var">PA</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<span class="id" title="axiom">t_update_neq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hxy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;NEW&nbsp;CASE:&nbsp;AWrite&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span> <span class="id" title="var">Hy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hay</span> | <span class="id" title="var">Hay</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hay</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hy</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Haeq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a> <span class="id" title="var">Heq</span>); <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> (<span class="id" title="axiom">t_update_neq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hay</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Haeq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Theorem</span> <a id="cct_well_typed_secure" class="idref" href="#cct_well_typed_secure"><span class="id" title="lemma">cct_well_typed_secure</span></a> : <span class="id" title="keyword">∀</span> <a id="P:215" class="idref" href="#P:215"><span class="id" title="binder">P</span></a> <a id="PA:216" class="idref" href="#PA:216"><span class="id" title="binder">PA</span></a> <a id="c:217" class="idref" href="#c:217"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:215"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:216"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:217"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#cct_secure"><span class="id" title="definition">cct_secure</span></a> <a class="idref" href="SpecCT.html#P:215"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#PA:216"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c:217"><span class="id" title="variable">c</span></a>.<br/>
<div class="togglescript" id="proofcontrol4" onclick="toggleDisplay('proof4');toggleDisplay('proofcontrol4')"><span class="show"></span></div>
<div class="proofscript" id="proof4" onclick="toggleDisplay('proof4');toggleDisplay('proofcontrol4')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#cct_secure"><span class="id" title="definition">cct_secure</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">st<sub>1</sub></span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">ast1</span> <span class="id" title="var">ast2</span> <span class="id" title="var">st<sub>1</sub>'</span> <span class="id" title="var">st<sub>2</sub>'</span> <span class="id" title="var">ast1'</span> <span class="id" title="var">ast2'</span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Heq</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">ast2'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">ast2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">os<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heval1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">os<sub>2</sub>'</span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">Haeq</span> <span class="id" title="var">a<sub>2</sub>'</span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">Heq</span> <span class="id" title="var">s<sub>2</sub>'</span> <span class="id" title="var">Heval2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwt</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Most&nbsp;cases&nbsp;are&nbsp;the&nbsp;similar&nbsp;as&nbsp;for&nbsp;<span class="inlinecode"><span class="id" title="var">pc_well_typed</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> <span class="id" title="var">IHHeval1_2</span>; [<span class="id" title="var">erewrite</span> <span class="id" title="var">IHHeval1_1</span> | | | |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#cct_well_typed_noninterferent"><span class="id" title="lemma">cct_well_typed_noninterferent</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">c</span>:=<span class="id" title="var">c<sub>1</sub></span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#cct_well_typed_noninterferent"><span class="id" title="lemma">cct_well_typed_noninterferent</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">c</span>:=<span class="id" title="var">c<sub>1</sub></span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a> <span class="id" title="var">Heq</span> <span class="id" title="var">H<sub>13</sub></span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H<sub>8</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>8</sub></span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>8</sub></span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a> <span class="id" title="var">Heq</span> <span class="id" title="var">H<sub>13</sub></span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H<sub>8</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H<sub>8</sub></span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">discriminate</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a> <span class="id" title="var">Heq</span> <span class="id" title="var">H<sub>13</sub></span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>, <span class="id" title="var">H<sub>8</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>8</sub></span>. <span class="id" title="tactic">discriminate</span> <span class="id" title="var">H<sub>8</sub></span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;NEW&nbsp;CASE:&nbsp;ARead&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;NEW&nbsp;CASE:&nbsp;AWrite&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
<a id="lab57"></a><h1 class="section">Speculative constant-time</h1>

<div class="paragraph"> </div>

 This part is based on the "Spectre Declassified" paper from IEEE SP 2023,
    just in simplified form. 
<div class="paragraph"> </div>

 The observations are the same as above, so we can just reuse them. 
</div>
<div class="code">

<span class="id" title="keyword">Print</span> <span class="id" title="var">observation</span>.<br/>
</div>

<div class="doc">
We additionally add adversary provided directions to our semantics, which
    control speculation behavior. 
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="direction" class="idref" href="#direction"><span class="id" title="definition, inductive"><span id="direction_rect" class="id"><span id="direction_ind" class="id"><span id="direction_rec" class="id"><span id="direction_sind" class="id">direction</span></span></span></span></span></a> :=<br/>
| <a id="DStep" class="idref" href="#DStep"><span class="id" title="constructor">DStep</span></a><br/>
| <a id="DForce" class="idref" href="#DForce"><span class="id" title="constructor">DForce</span></a><br/>
| <a id="DLoad" class="idref" href="#DLoad"><span class="id" title="constructor">DLoad</span></a> (<a id="a:220" class="idref" href="#a:220"><span class="id" title="binder">a</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="i:221" class="idref" href="#i:221"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
| <a id="DStore" class="idref" href="#DStore"><span class="id" title="constructor">DStore</span></a> (<a id="a:222" class="idref" href="#a:222"><span class="id" title="binder">a</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="i:223" class="idref" href="#i:223"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="dirs" class="idref" href="#dirs"><span class="id" title="definition">dirs</span></a> := <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#direction"><span class="id" title="inductive">direction</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Reserved Notation</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"'&lt;(' st , ast , b , ds ')&gt;' '=[' c ']=&gt;' '&lt;(' stt , astt , bb , os ')&gt;'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">c</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">st</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">ast</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">stt</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">astt</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="spec_eval" class="idref" href="#spec_eval"><span class="id" title="definition, inductive"><span id="spec_eval_ind" class="id"><span id="spec_eval_sind" class="id">spec_eval</span></span></span></a> : <a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#astate"><span class="id" title="definition">astate</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#astate"><span class="id" title="definition">astate</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Spec_Skip" class="idref" href="#Spec_Skip"><span class="id" title="constructor">Spec_Skip</span></a> : <span class="id" title="keyword">∀</span> <a id="st:226" class="idref" href="#st:226"><span class="id" title="binder">st</span></a> <a id="ast:227" class="idref" href="#ast:227"><span class="id" title="binder">ast</span></a> <a id="b:228" class="idref" href="#b:228"><span class="id" title="binder">b</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:226"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:227"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:228"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:226"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:227"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:228"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_Asgn" class="idref" href="#Spec_Asgn"><span class="id" title="constructor">Spec_Asgn</span></a>  : <span class="id" title="keyword">∀</span> <a id="st:229" class="idref" href="#st:229"><span class="id" title="binder">st</span></a> <a id="ast:230" class="idref" href="#ast:230"><span class="id" title="binder">ast</span></a> <a id="b:231" class="idref" href="#b:231"><span class="id" title="binder">b</span></a> <a id="e:232" class="idref" href="#e:232"><span class="id" title="binder">e</span></a> <a id="n:233" class="idref" href="#n:233"><span class="id" title="binder">n</span></a> <a id="x:234" class="idref" href="#x:234"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:229"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:232"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:233"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:229"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:230"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:231"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:234"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#e:232"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:234"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:233"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:229"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:230"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:231"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_Seq" class="idref" href="#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a> : <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:235" class="idref" href="#c<sub>1</sub>:235"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:236" class="idref" href="#c<sub>2</sub>:236"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="st:237" class="idref" href="#st:237"><span class="id" title="binder">st</span></a> <a id="ast:238" class="idref" href="#ast:238"><span class="id" title="binder">ast</span></a> <a id="b:239" class="idref" href="#b:239"><span class="id" title="binder">b</span></a> <a id="st':240" class="idref" href="#st':240"><span class="id" title="binder">st'</span></a> <a id="ast':241" class="idref" href="#ast':241"><span class="id" title="binder">ast'</span></a> <a id="b':242" class="idref" href="#b':242"><span class="id" title="binder">b'</span></a> <a id="st'':243" class="idref" href="#st'':243"><span class="id" title="binder">st''</span></a> <a id="ast'':244" class="idref" href="#ast'':244"><span class="id" title="binder">ast''</span></a> <a id="b'':245" class="idref" href="#b'':245"><span class="id" title="binder">b''</span></a> <a id="os<sub>1</sub>:246" class="idref" href="#os<sub>1</sub>:246"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:247" class="idref" href="#os<sub>2</sub>:247"><span class="id" title="binder">os<sub>2</sub></span></a> <a id="ds<sub>1</sub>:248" class="idref" href="#ds<sub>1</sub>:248"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="ds<sub>2</sub>:249" class="idref" href="#ds<sub>2</sub>:249"><span class="id" title="binder">ds<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:237"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:238"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:239"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:248"><span class="id" title="variable">ds<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:235"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':240"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':241"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':242"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:246"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a>  <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':240"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':241"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':242"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:249"><span class="id" title="variable">ds<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:236"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st'':243"><span class="id" title="variable">st''</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast'':244"><span class="id" title="variable">ast''</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b'':245"><span class="id" title="variable">b''</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:247"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:237"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:238"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:239"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:248"><span class="id" title="variable">ds<sub>1</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="SpecCT.html#ds<sub>2</sub>:249"><span class="id" title="variable">ds<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a>  <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:235"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:236"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st'':243"><span class="id" title="variable">st''</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast'':244"><span class="id" title="variable">ast''</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b'':245"><span class="id" title="variable">b''</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:246"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="SpecCT.html#os<sub>2</sub>:247"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_If" class="idref" href="#Spec_If"><span class="id" title="constructor">Spec_If</span></a> : <span class="id" title="keyword">∀</span> <a id="st:250" class="idref" href="#st:250"><span class="id" title="binder">st</span></a> <a id="ast:251" class="idref" href="#ast:251"><span class="id" title="binder">ast</span></a> <a id="b:252" class="idref" href="#b:252"><span class="id" title="binder">b</span></a> <a id="st':253" class="idref" href="#st':253"><span class="id" title="binder">st'</span></a> <a id="ast':254" class="idref" href="#ast':254"><span class="id" title="binder">ast'</span></a> <a id="b':255" class="idref" href="#b':255"><span class="id" title="binder">b'</span></a> <a id="be:256" class="idref" href="#be:256"><span class="id" title="binder">be</span></a> <a id="c<sub>1</sub>:257" class="idref" href="#c<sub>1</sub>:257"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:258" class="idref" href="#c<sub>2</sub>:258"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="os<sub>1</sub>:259" class="idref" href="#os<sub>1</sub>:259"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="ds:260" class="idref" href="#ds:260"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:250"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:251"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:252"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:260"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:250"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:256"><span class="id" title="variable">be</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="SpecCT.html#c<sub>2</sub>:258"><span class="id" title="variable">c<sub>2</sub></span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#c<sub>1</sub>:257"><span class="id" title="variable">c<sub>1</sub></span></a> <span class="id" title="keyword">end</span> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':253"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':254"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':255"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:259"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:250"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:251"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:252"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#ds:260"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#be:256"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:257"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:258"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':253"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':254"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':255"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:250"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:256"><span class="id" title="variable">be</span></a>))<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:259"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_If_F" class="idref" href="#Spec_If_F"><span class="id" title="constructor">Spec_If_F</span></a> : <span class="id" title="keyword">∀</span> <a id="st:261" class="idref" href="#st:261"><span class="id" title="binder">st</span></a> <a id="ast:262" class="idref" href="#ast:262"><span class="id" title="binder">ast</span></a> <a id="b:263" class="idref" href="#b:263"><span class="id" title="binder">b</span></a> <a id="st':264" class="idref" href="#st':264"><span class="id" title="binder">st'</span></a> <a id="ast':265" class="idref" href="#ast':265"><span class="id" title="binder">ast'</span></a> <a id="b':266" class="idref" href="#b':266"><span class="id" title="binder">b'</span></a> <a id="be:267" class="idref" href="#be:267"><span class="id" title="binder">be</span></a> <a id="c<sub>1</sub>:268" class="idref" href="#c<sub>1</sub>:268"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:269" class="idref" href="#c<sub>2</sub>:269"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="os<sub>1</sub>:270" class="idref" href="#os<sub>1</sub>:270"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="ds:271" class="idref" href="#ds:271"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:261"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:262"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:271"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:261"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:267"><span class="id" title="variable">be</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="SpecCT.html#c<sub>1</sub>:268"><span class="id" title="variable">c<sub>1</sub></span></a> <span class="comment">(*&nbsp;&lt;--&nbsp;branches&nbsp;swapped&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#c<sub>2</sub>:269"><span class="id" title="variable">c<sub>2</sub></span></a> <span class="id" title="keyword">end</span> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':264"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':265"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':266"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:270"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:261"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:262"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:263"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#ds:271"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#be:267"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:268"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:269"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':264"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':265"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':266"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:261"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:267"><span class="id" title="variable">be</span></a>))<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:270"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_While" class="idref" href="#Spec_While"><span class="id" title="constructor">Spec_While</span></a> : <span class="id" title="keyword">∀</span> <a id="be:272" class="idref" href="#be:272"><span class="id" title="binder">be</span></a> <a id="st:273" class="idref" href="#st:273"><span class="id" title="binder">st</span></a> <a id="ast:274" class="idref" href="#ast:274"><span class="id" title="binder">ast</span></a> <a id="b:275" class="idref" href="#b:275"><span class="id" title="binder">b</span></a> <a id="ds:276" class="idref" href="#ds:276"><span class="id" title="binder">ds</span></a> <a id="st':277" class="idref" href="#st':277"><span class="id" title="binder">st'</span></a> <a id="ast':278" class="idref" href="#ast':278"><span class="id" title="binder">ast'</span></a> <a id="b':279" class="idref" href="#b':279"><span class="id" title="binder">b'</span></a> <a id="os:280" class="idref" href="#os:280"><span class="id" title="binder">os</span></a> <a id="c:281" class="idref" href="#c:281"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:273"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:274"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:275"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:276"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#be:272"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c:281"><span class="id" title="variable">c</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#be:272"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c:281"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':277"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':278"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':279"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:280"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:273"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:274"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:275"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:276"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#be:272"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c:281"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':277"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':278"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':279"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:280"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_ARead" class="idref" href="#Spec_ARead"><span class="id" title="constructor">Spec_ARead</span></a> : <span class="id" title="keyword">∀</span> <a id="st:282" class="idref" href="#st:282"><span class="id" title="binder">st</span></a> <a id="ast:283" class="idref" href="#ast:283"><span class="id" title="binder">ast</span></a> <a id="b:284" class="idref" href="#b:284"><span class="id" title="binder">b</span></a> <a id="x:285" class="idref" href="#x:285"><span class="id" title="binder">x</span></a> <a id="a:286" class="idref" href="#a:286"><span class="id" title="binder">a</span></a> <a id="ie:287" class="idref" href="#ie:287"><span class="id" title="binder">ie</span></a> <a id="i:288" class="idref" href="#i:288"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:282"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:287"><span class="id" title="variable">ie</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:288"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:288"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#ast:283"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a:286"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:282"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:283"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:284"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:285"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#a:286"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#ie:287"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:285"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="SpecCT.html#i:288"><span class="id" title="variable">i</span></a> (<a class="idref" href="SpecCT.html#ast:283"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a:286"><span class="id" title="variable">a</span></a>) 0<span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:282"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:283"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:284"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OARead"><span class="id" title="constructor">OARead</span></a> <a class="idref" href="SpecCT.html#a:286"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:288"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_ARead_U" class="idref" href="#Spec_ARead_U"><span class="id" title="constructor">Spec_ARead_U</span></a> : <span class="id" title="keyword">∀</span> <a id="st:289" class="idref" href="#st:289"><span class="id" title="binder">st</span></a> <a id="ast:290" class="idref" href="#ast:290"><span class="id" title="binder">ast</span></a> <a id="x:291" class="idref" href="#x:291"><span class="id" title="binder">x</span></a> <a id="a:292" class="idref" href="#a:292"><span class="id" title="binder">a</span></a> <a id="ie:293" class="idref" href="#ie:293"><span class="id" title="binder">ie</span></a> <a id="i:294" class="idref" href="#i:294"><span class="id" title="binder">i</span></a> <a id="a':295" class="idref" href="#a':295"><span class="id" title="binder">a'</span></a> <a id="i':296" class="idref" href="#i':296"><span class="id" title="binder">i'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:289"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:293"><span class="id" title="variable">ie</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:294"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:294"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f<sub>9</sub>"><span class="id" title="notation">≥</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#ast:290"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a:292"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i':296"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#ast:290"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a':295"><span class="id" title="variable">a'</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:289"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:290"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DLoad"><span class="id" title="constructor">DLoad</span></a> <a class="idref" href="SpecCT.html#a':295"><span class="id" title="variable">a'</span></a> <a class="idref" href="SpecCT.html#i':296"><span class="id" title="variable">i'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:291"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#a:292"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#ie:293"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:291"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="SpecCT.html#i':296"><span class="id" title="variable">i'</span></a> (<a class="idref" href="SpecCT.html#ast:290"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a':295"><span class="id" title="variable">a'</span></a>) 0<span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:289"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:290"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OARead"><span class="id" title="constructor">OARead</span></a> <a class="idref" href="SpecCT.html#a:292"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:294"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_Write" class="idref" href="#Spec_Write"><span class="id" title="constructor">Spec_Write</span></a> : <span class="id" title="keyword">∀</span> <a id="st:297" class="idref" href="#st:297"><span class="id" title="binder">st</span></a> <a id="ast:298" class="idref" href="#ast:298"><span class="id" title="binder">ast</span></a> <a id="b:299" class="idref" href="#b:299"><span class="id" title="binder">b</span></a> <a id="a:300" class="idref" href="#a:300"><span class="id" title="binder">a</span></a> <a id="ie:301" class="idref" href="#ie:301"><span class="id" title="binder">ie</span></a> <a id="i:302" class="idref" href="#i:302"><span class="id" title="binder">i</span></a> <a id="e:303" class="idref" href="#e:303"><span class="id" title="binder">e</span></a> <a id="n:304" class="idref" href="#n:304"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:297"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:303"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:304"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:297"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:301"><span class="id" title="variable">ie</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:302"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:302"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#ast:298"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a:300"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:297"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:298"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:299"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#a:300"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#ie:301"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#e:303"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:297"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a:300"><span class="id" title="variable">a</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#upd"><span class="id" title="definition">upd</span></a> <a class="idref" href="SpecCT.html#i:302"><span class="id" title="variable">i</span></a> (<a class="idref" href="SpecCT.html#ast:298"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a:300"><span class="id" title="variable">a</span></a>) <a class="idref" href="SpecCT.html#n:304"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#ast:298"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:299"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OAWrite"><span class="id" title="constructor">OAWrite</span></a> <a class="idref" href="SpecCT.html#a:300"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:302"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_Write_U" class="idref" href="#Spec_Write_U"><span class="id" title="constructor">Spec_Write_U</span></a> : <span class="id" title="keyword">∀</span> <a id="st:305" class="idref" href="#st:305"><span class="id" title="binder">st</span></a> <a id="ast:306" class="idref" href="#ast:306"><span class="id" title="binder">ast</span></a> <a id="a:307" class="idref" href="#a:307"><span class="id" title="binder">a</span></a> <a id="ie:308" class="idref" href="#ie:308"><span class="id" title="binder">ie</span></a> <a id="i:309" class="idref" href="#i:309"><span class="id" title="binder">i</span></a> <a id="e:310" class="idref" href="#e:310"><span class="id" title="binder">e</span></a> <a id="n:311" class="idref" href="#n:311"><span class="id" title="binder">n</span></a> <a id="a':312" class="idref" href="#a':312"><span class="id" title="binder">a'</span></a> <a id="i':313" class="idref" href="#i':313"><span class="id" title="binder">i'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:305"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:310"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:311"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:305"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:308"><span class="id" title="variable">ie</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:309"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:309"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f<sub>9</sub>"><span class="id" title="notation">≥</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#ast:306"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a:307"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i':313"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#ast:306"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a':312"><span class="id" title="variable">a'</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:305"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:306"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStore"><span class="id" title="constructor">DStore</span></a> <a class="idref" href="SpecCT.html#a':312"><span class="id" title="variable">a'</span></a> <a class="idref" href="SpecCT.html#i':313"><span class="id" title="variable">i'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#a:307"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#ie:308"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#e:310"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:305"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a':312"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#upd"><span class="id" title="definition">upd</span></a> <a class="idref" href="SpecCT.html#i':313"><span class="id" title="variable">i'</span></a> (<a class="idref" href="SpecCT.html#ast:306"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a':312"><span class="id" title="variable">a'</span></a>) <a class="idref" href="SpecCT.html#n:311"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#ast:306"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OAWrite"><span class="id" title="constructor">OAWrite</span></a> <a class="idref" href="SpecCT.html#a:307"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:309"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="f865af67109ca842cb3177ef3e4fadcb" class="idref" href="#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&quot;</span></a>&lt;( st , ast , b , ds )&gt; =[ c ]=&gt; &lt;( stt , astt , bb , os )&gt;" :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#spec_eval:225"><span class="id" title="inductive">spec_eval</span></a> <span class="id" title="var">c</span> <span class="id" title="var">st</span> <span class="id" title="var">ast</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">stt</span> <span class="id" title="var">astt</span> <span class="id" title="var">bb</span> <span class="id" title="var">os</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="SpecCT.html#spec_eval"><span class="id" title="inductive">spec_eval</span></a> : <span class="id" title="var">core</span>.<br/>
</div>

<div class="doc">
<a id="lab58"></a><h2 class="section">Speculative constant-time security definition</h2>

</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="spec_ct_secure" class="idref" href="#spec_ct_secure"><span class="id" title="definition">spec_ct_secure</span></a> <a id="P:314" class="idref" href="#P:314"><span class="id" title="binder">P</span></a> <a id="PA:315" class="idref" href="#PA:315"><span class="id" title="binder">PA</span></a> <a id="c:316" class="idref" href="#c:316"><span class="id" title="binder">c</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="st<sub>1</sub>:317" class="idref" href="#st<sub>1</sub>:317"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:318" class="idref" href="#st<sub>2</sub>:318"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="ast1:319" class="idref" href="#ast1:319"><span class="id" title="binder">ast1</span></a> <a id="ast2:320" class="idref" href="#ast2:320"><span class="id" title="binder">ast2</span></a> <a id="st<sub>1</sub>':321" class="idref" href="#st<sub>1</sub>':321"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':322" class="idref" href="#st<sub>2</sub>':322"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="ast1':323" class="idref" href="#ast1':323"><span class="id" title="binder">ast1'</span></a> <a id="ast2':324" class="idref" href="#ast2':324"><span class="id" title="binder">ast2'</span></a> <a id="b<sub>1</sub>':325" class="idref" href="#b<sub>1</sub>':325"><span class="id" title="binder">b<sub>1</sub>'</span></a> <a id="b<sub>2</sub>':326" class="idref" href="#b<sub>2</sub>':326"><span class="id" title="binder">b<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:327" class="idref" href="#os<sub>1</sub>:327"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:328" class="idref" href="#os<sub>2</sub>:328"><span class="id" title="binder">os<sub>2</sub></span></a> <a id="ds:329" class="idref" href="#ds:329"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:314"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:317"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:318"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:315"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#ast1:319"><span class="id" title="variable">ast1</span></a> <a class="idref" href="SpecCT.html#ast2:320"><span class="id" title="variable">ast2</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>:317"><span class="id" title="variable">st<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast1:319"><span class="id" title="variable">ast1</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:329"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:316"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>':321"><span class="id" title="variable">st<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast1':323"><span class="id" title="variable">ast1'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>1</sub>':325"><span class="id" title="variable">b<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:327"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>:318"><span class="id" title="variable">st<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast2:320"><span class="id" title="variable">ast2</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:329"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:316"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>':322"><span class="id" title="variable">st<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast2':324"><span class="id" title="variable">ast2'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>2</sub>':326"><span class="id" title="variable">b<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:328"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#os<sub>1</sub>:327"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:328"><span class="id" title="variable">os<sub>2</sub></span></a>.<br/>
</div>

<div class="doc">
<a id="lab59"></a><h2 class="section">Example CCT programs that are insecure under speculative execution</h2>

</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="spec_insecure_prog" class="idref" href="#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="SpecCT.html#:com::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 1 <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="comment">(*&nbsp;where&nbsp;1&nbsp;is&nbsp;the&nbsp;size&nbsp;of&nbsp;AP,&nbsp;but&nbsp;this&nbsp;can&nbsp;mispeculate&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#Z"><span class="id" title="definition">Z</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="comment">(*&nbsp;loads&nbsp;secret&nbsp;to&nbsp;public&nbsp;variable&nbsp;X<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;a&nbsp;speculatively&nbsp;out&nbsp;of&nbsp;bounds&nbsp;access&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> 5 <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 1 <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0 <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <span class="comment">(*&nbsp;speculatively&nbsp;leak&nbsp;X&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> .<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Example</span> <a id="spec_insecure_prog_is_ct_and_spec_insecure" class="idref" href="#spec_insecure_prog_is_ct_and_spec_insecure"><span class="id" title="definition">spec_insecure_prog_is_ct_and_spec_insecure</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="P:330" class="idref" href="#P:330"><span class="id" title="binder">P</span></a> <a id="PA:331" class="idref" href="#PA:331"><span class="id" title="binder">PA</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:330"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:331"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#spec_ct_secure"><span class="id" title="definition">spec_ct_secure</span></a> <a class="idref" href="SpecCT.html#P:330"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#PA:331"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> .<br/>
<div class="togglescript" id="proofcontrol5" onclick="toggleDisplay('proof5');toggleDisplay('proofcontrol5')"><span class="show"></span></div>
<div class="proofscript" id="proof5" onclick="toggleDisplay('proof5');toggleDisplay('proofcontrol5')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#Z"><span class="id" title="definition">Z</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">_</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#secret"><span class="id" title="definition">secret</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#AS"><span class="id" title="definition">AS</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#secret"><span class="id" title="definition">secret</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">_</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">econstructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="SpecCT.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a>) <span class="id" title="tactic">at</span> 4 <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="var">admit</span>. - <span class="id" title="tactic">intros</span> <span class="id" title="var">Hcs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#Z"><span class="id" title="definition">Z</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 1<span class="id" title="notation">;</span> <span class="id" title="notation">_</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 0) <span class="id" title="keyword">as</span> <span class="id" title="var">st</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a>1<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#AS"><span class="id" title="definition">AS</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>1<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>3<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">_</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">ast1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a>1<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#AS"><span class="id" title="definition">AS</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>1<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>7<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">_</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">ast2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DLoad"><span class="id" title="constructor">DLoad</span></a> "AS" 1<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">ds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> ((<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OARead"><span class="id" title="constructor">OARead</span></a> "AP" 1<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">os<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> ((<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OARead"><span class="id" title="constructor">OARead</span></a> "AP" 1<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">)++</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">os<sub>2</sub></span>.<br/><hr class='doublespaceincode'/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heval1</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 1<span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 3<span class="id" title="notation">;</span> <span class="id" title="var">st</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">os<sub>1</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_If_F"><span class="id" title="constructor">Spec_If_F</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_ARead_U"><span class="id" title="constructor">Spec_ARead_U</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_If"><span class="id" title="constructor">Spec_If</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Asgn"><span class="id" title="constructor">Spec_Asgn</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heval2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast2</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 0<span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 7<span class="id" title="notation">;</span> <span class="id" title="var">st</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast2</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">os<sub>2</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_If_F"><span class="id" title="constructor">Spec_If_F</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_ARead_U"><span class="id" title="constructor">Spec_ARead_U</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_If"><span class="id" title="constructor">Spec_If</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Asgn"><span class="id" title="constructor">Spec_Asgn</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hcs</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Heval1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval2</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_refl"><span class="id" title="lemma">pub_equiv_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> "AP" <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">HeqAP</span> | <span class="id" title="var">HneqAP</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> "AS" <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">HeqAS</span> | <span class="id" title="var">HneqAS</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hx</span>; [| <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">do</span> 4 (<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; [| <span class="id" title="tactic">assumption</span>]). <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>
</div>
</div>

<div class="doc">
Here is a more realistic example 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="spec_insecure_prog_2" class="idref" href="#spec_insecure_prog_2"><span class="id" title="definition">spec_insecure_prog_2</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0<a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0<a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="SpecCT.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> 2 <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <a class="idref" href="SpecCT.html#Z"><span class="id" title="definition">Z</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="SpecCT.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> 42 <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#W"><span class="id" title="definition">W</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 1 <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#W"><span class="id" title="definition">W</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0 <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a>  <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> .<br/>
</div>

<div class="doc">
This example is formalized at the end of the file. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="speculation_bit_monotonic" class="idref" href="#speculation_bit_monotonic"><span class="id" title="lemma">speculation_bit_monotonic</span></a> : <span class="id" title="keyword">∀</span> <a id="c:332" class="idref" href="#c:332"><span class="id" title="binder">c</span></a> <a id="s:333" class="idref" href="#s:333"><span class="id" title="binder">s</span></a> <a id="a:334" class="idref" href="#a:334"><span class="id" title="binder">a</span></a> <a id="b:335" class="idref" href="#b:335"><span class="id" title="binder">b</span></a> <a id="ds:336" class="idref" href="#ds:336"><span class="id" title="binder">ds</span></a> <a id="s':337" class="idref" href="#s':337"><span class="id" title="binder">s'</span></a> <a id="a':338" class="idref" href="#a':338"><span class="id" title="binder">a'</span></a> <a id="b':339" class="idref" href="#b':339"><span class="id" title="binder">b'</span></a> <a id="os:340" class="idref" href="#os:340"><span class="id" title="binder">os</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s:333"><span class="id" title="variable">s</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a:334"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:335"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:336"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:332"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s':337"><span class="id" title="variable">s'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a':338"><span class="id" title="variable">a'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':339"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:340"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b:335"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b':339"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">s'</span> <span class="id" title="var">a'</span> <span class="id" title="var">b'</span> <span class="id" title="var">os</span> <span class="id" title="var">Heval</span> <span class="id" title="var">Hb</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="speculation_needs_force" class="idref" href="#speculation_needs_force"><span class="id" title="lemma">speculation_needs_force</span></a> : <span class="id" title="keyword">∀</span> <a id="c:341" class="idref" href="#c:341"><span class="id" title="binder">c</span></a> <a id="s:342" class="idref" href="#s:342"><span class="id" title="binder">s</span></a> <a id="a:343" class="idref" href="#a:343"><span class="id" title="binder">a</span></a> <a id="b:344" class="idref" href="#b:344"><span class="id" title="binder">b</span></a> <a id="ds:345" class="idref" href="#ds:345"><span class="id" title="binder">ds</span></a> <a id="s':346" class="idref" href="#s':346"><span class="id" title="binder">s'</span></a> <a id="a':347" class="idref" href="#a':347"><span class="id" title="binder">a'</span></a> <a id="b':348" class="idref" href="#b':348"><span class="id" title="binder">b'</span></a> <a id="os:349" class="idref" href="#os:349"><span class="id" title="binder">os</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s:342"><span class="id" title="variable">s</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a:343"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:344"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:345"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:341"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s':346"><span class="id" title="variable">s'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a':347"><span class="id" title="variable">a'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':348"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:349"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b:344"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b':348"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a> <a class="idref" href="SpecCT.html#ds:345"><span class="id" title="variable">ds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">s'</span> <span class="id" title="var">a'</span> <span class="id" title="var">b'</span> <span class="id" title="var">os</span> <span class="id" title="var">Heval</span> <span class="id" title="var">Hb</span> <span class="id" title="var">Hb'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">in_or_app</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">b'</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
We can recover sequential execution from <span class="inlinecode"><span class="id" title="var">spec_eval</span></span> if there is no
    speculation, so all directives are <span class="inlinecode"><span class="id" title="var">DStep</span></span> and speculation flag starts <span class="inlinecode"><span class="id" title="var">false</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="seq_spec_eval" class="idref" href="#seq_spec_eval"><span class="id" title="definition">seq_spec_eval</span></a> (<a id="c:350" class="idref" href="#c:350"><span class="id" title="binder">c</span></a> :<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) (<a id="st:351" class="idref" href="#st:351"><span class="id" title="binder">st</span></a> :<a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a>) (<a id="ast:352" class="idref" href="#ast:352"><span class="id" title="binder">ast</span></a> :<a class="idref" href="SpecCT.html#astate"><span class="id" title="definition">astate</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="st':353" class="idref" href="#st':353"><span class="id" title="binder">st'</span></a> :<a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a>) (<a id="ast':354" class="idref" href="#ast':354"><span class="id" title="binder">ast'</span></a> :<a class="idref" href="SpecCT.html#astate"><span class="id" title="definition">astate</span></a>) (<a id="os:355" class="idref" href="#os:355"><span class="id" title="binder">os</span></a> :<a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="ds:356" class="idref" href="#ds:356"><span class="id" title="binder">ds</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="d:357" class="idref" href="#d:357"><span class="id" title="binder">d</span></a>, <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="SpecCT.html#d:357"><span class="id" title="variable">d</span></a> <a class="idref" href="SpecCT.html#ds:356"><span class="id" title="variable">ds</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#d:357"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:351"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:352"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:356"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:350"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':353"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':354"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:355"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a>.<br/><hr class='doublespaceincode'/>
<span class="comment">(*&nbsp;We&nbsp;prove&nbsp;that&nbsp;this&nbsp;new&nbsp;definition&nbsp;for&nbsp;sequential&nbsp;execution&nbsp;is&nbsp;equivalent&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;the&nbsp;old&nbsp;one,&nbsp;i.e.&nbsp;<span class="inlinecode"><span class="id" title="var">cteval</span></span>.&nbsp;&nbsp;*)</span><br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="cteval_equiv_seq_spec_eval" class="idref" href="#cteval_equiv_seq_spec_eval"><span class="id" title="lemma">cteval_equiv_seq_spec_eval</span></a> : <span class="id" title="keyword">∀</span> <a id="c:358" class="idref" href="#c:358"><span class="id" title="binder">c</span></a> <a id="st:359" class="idref" href="#st:359"><span class="id" title="binder">st</span></a> <a id="ast:360" class="idref" href="#ast:360"><span class="id" title="binder">ast</span></a> <a id="st':361" class="idref" href="#st':361"><span class="id" title="binder">st'</span></a> <a id="ast':362" class="idref" href="#ast':362"><span class="id" title="binder">ast'</span></a> <a id="os:363" class="idref" href="#os:363"><span class="id" title="binder">os</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#seq_spec_eval"><span class="id" title="definition">seq_spec_eval</span></a> <a class="idref" href="SpecCT.html#c:358"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#st:359"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ast:360"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#st':361"><span class="id" title="variable">st'</span></a> <a class="idref" href="SpecCT.html#ast':362"><span class="id" title="variable">ast'</span></a> <a class="idref" href="SpecCT.html#os:363"><span class="id" title="variable">os</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:359"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:360"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:358"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':361"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':362"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:363"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a>.<br/>
<div class="togglescript" id="proofcontrol6" onclick="toggleDisplay('proof6');toggleDisplay('proofcontrol6')"><span class="show"></span></div>
<div class="proofscript" id="proof6" onclick="toggleDisplay('proof6');toggleDisplay('proofcontrol6')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">st</span> <span class="id" title="var">ast</span> <span class="id" title="var">st'</span> <span class="id" title="var">ast'</span> <span class="id" title="var">os</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#seq_spec_eval"><span class="id" title="definition">seq_spec_eval</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ds</span> [<span class="id" title="var">Hstep</span> <span class="id" title="var">Heval</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Spec_Seq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CTE_Seq"><span class="id" title="constructor">CTE_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span>: <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">d</span> <span class="id" title="var">ds<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">d</span> <span class="id" title="var">ds<sub>2</sub></span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">left</span>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">in_or_app</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hstep</span> <span class="id" title="keyword">in</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval2</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span>: <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">d</span> <span class="id" title="var">ds<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">d</span> <span class="id" title="var">ds<sub>2</sub></span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#in_or_app"><span class="id" title="lemma">in_or_app</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hstep</span> <span class="id" title="keyword">in</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Spec_If&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CTE_IfFalse"><span class="id" title="constructor">CTE_IfFalse</span></a>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqbe</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> <span class="id" title="var">d</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">HdIn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hstep</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HdIn</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CTE_IfTrue"><span class="id" title="constructor">CTE_IfTrue</span></a>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqbe</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.eqb_refl"><span class="id" title="lemma">eqb_refl</span></a> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> <span class="id" title="var">d</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">HdIn</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hstep</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HdIn</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Spec_IF_F;&nbsp;contra&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Hstep</span> <a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a>). <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Spec_ARead_U;&nbsp;contra&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="SpecCT.html#DLoad"><span class="id" title="constructor">DLoad</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Hstep</span> (<a class="idref" href="SpecCT.html#DLoad"><span class="id" title="constructor">DLoad</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">i'</span>)). <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Spec_AWrite_U;&nbsp;contra&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="SpecCT.html#DStore"><span class="id" title="constructor">DStore</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">Hstep</span> (<a class="idref" href="SpecCT.html#DStore"><span class="id" title="constructor">DStore</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">i'</span>)). <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;&lt;-&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;CTE_Skip&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Skip"><span class="id" title="constructor">Spec_Skip</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">Contra</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;CTE_Asgn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Asgn"><span class="id" title="constructor">Spec_Asgn</span></a>; <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">Contra</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;CTE_Seq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHcteval1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ds<sub>1</sub></span> [<span class="id" title="var">Hds1</span> <span class="id" title="var">Heval1</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHcteval2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ds<sub>2</sub></span> [<span class="id" title="var">Hds2</span> <span class="id" title="var">Heval2</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">ds<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <span class="id" title="var">ds<sub>2</sub></span>). <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a>; <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#in_app_or"><span class="id" title="lemma">in_app_or</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HdIn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HdIn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin1</span> | <span class="id" title="var">Hin2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">Hds1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hin1</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">Hds2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hin2</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;CTE_IfTrue&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHcteval</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ds</span> [<span class="id" title="var">Hds</span> <span class="id" title="var">Heval</span>] ]. <span class="id" title="tactic">∃</span> (<a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ds</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#in_inv"><span class="id" title="lemma">in_inv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HdIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HdIn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">HIn</span>]; [<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">assumption</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hds</span>; <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="SpecCT.html#not_zero_aeval_S"><span class="id" title="lemma">not_zero_aeval_S</span></a>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_If"><span class="id" title="constructor">Spec_If</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;CTE_IfFalse&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHcteval</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ds</span> [<span class="id" title="var">Hds</span> <span class="id" title="var">Heval</span>] ]. <span class="id" title="tactic">∃</span> (<a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ds</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#in_inv"><span class="id" title="lemma">in_inv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HdIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HdIn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">HIn</span>]; [<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">assumption</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hds</span>; <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="SpecCT.html#not_zero_aeval_O"><span class="id" title="lemma">not_zero_aeval_O</span></a>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_If"><span class="id" title="constructor">Spec_If</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;CTE_While&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHcteval</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ds</span> [<span class="id" title="var">Hds</span> <span class="id" title="var">Heval</span>] ]. <span class="id" title="tactic">∃</span> <span class="id" title="var">ds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span> |]. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_While"><span class="id" title="constructor">Spec_While</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;CTE_ARead&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HdIn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Contra</span>]; [| <span class="id" title="tactic">destruct</span> <span class="id" title="var">Contra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_ARead"><span class="id" title="constructor">Spec_ARead</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;CTE_AWrite&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">HdIn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Contra</span>]; [| <span class="id" title="tactic">destruct</span> <span class="id" title="var">Contra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Write"><span class="id" title="constructor">Spec_Write</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="ct_well_typed_seq_spec_eval_ct_secure" class="idref" href="#ct_well_typed_seq_spec_eval_ct_secure"><span class="id" title="lemma">ct_well_typed_seq_spec_eval_ct_secure</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:364" class="idref" href="#P:364"><span class="id" title="binder">P</span></a> <a id="PA:365" class="idref" href="#PA:365"><span class="id" title="binder">PA</span></a> <a id="c:366" class="idref" href="#c:366"><span class="id" title="binder">c</span></a> <a id="st<sub>1</sub>:367" class="idref" href="#st<sub>1</sub>:367"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:368" class="idref" href="#st<sub>2</sub>:368"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="ast1:369" class="idref" href="#ast1:369"><span class="id" title="binder">ast1</span></a> <a id="ast2:370" class="idref" href="#ast2:370"><span class="id" title="binder">ast2</span></a> <a id="st<sub>1</sub>':371" class="idref" href="#st<sub>1</sub>':371"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':372" class="idref" href="#st<sub>2</sub>':372"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="ast1':373" class="idref" href="#ast1':373"><span class="id" title="binder">ast1'</span></a> <a id="ast2':374" class="idref" href="#ast2':374"><span class="id" title="binder">ast2'</span></a> <a id="os<sub>1</sub>:375" class="idref" href="#os<sub>1</sub>:375"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:376" class="idref" href="#os<sub>2</sub>:376"><span class="id" title="binder">os<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:364"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:365"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:366"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:364"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:367"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:368"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:365"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#ast1:369"><span class="id" title="variable">ast1</span></a> <a class="idref" href="SpecCT.html#ast2:370"><span class="id" title="variable">ast2</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#seq_spec_eval"><span class="id" title="definition">seq_spec_eval</span></a> <a class="idref" href="SpecCT.html#c:366"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:367"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#ast1:369"><span class="id" title="variable">ast1</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>':371"><span class="id" title="variable">st<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#ast1':373"><span class="id" title="variable">ast1'</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:375"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#seq_spec_eval"><span class="id" title="definition">seq_spec_eval</span></a> <a class="idref" href="SpecCT.html#c:366"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:368"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#ast2:370"><span class="id" title="variable">ast2</span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>':372"><span class="id" title="variable">st<sub>2</sub>'</span></a> <a class="idref" href="SpecCT.html#ast2':374"><span class="id" title="variable">ast2'</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:376"><span class="id" title="variable">os<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#os<sub>1</sub>:375"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:376"><span class="id" title="variable">os<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span> <span class="id" title="var">st<sub>1</sub></span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">ast1</span> <span class="id" title="var">ast2</span> <span class="id" title="var">st<sub>1</sub>'</span> <span class="id" title="var">st<sub>2</sub>'</span> <span class="id" title="var">ast1'</span> <span class="id" title="var">ast2'</span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span> <span class="id" title="var">Hwt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">HP</span> <span class="id" title="var">HPA</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#cteval_equiv_seq_spec_eval"><span class="id" title="lemma">cteval_equiv_seq_spec_eval</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval1</span>, <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#cct_well_typed_secure"><span class="id" title="lemma">cct_well_typed_secure</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hwt</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hwt</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab60"></a><h2 class="section">Selective SLH transformation</h2>

<div class="paragraph"> </div>

 Selective SLH transformation that we will show enforces speculative
    constant-time security. 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="msf" class="idref" href="#msf"><span class="id" title="definition">msf</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "msf".<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a id="sel_slh" class="idref" href="#sel_slh"><span class="id" title="definition">sel_slh</span></a> (<a id="P:377" class="idref" href="#P:377"><span class="id" title="binder">P</span></a>:<a class="idref" href="SpecCT.html#pub_vars"><span class="id" title="definition">pub_vars</span></a>) (<a id="c:378" class="idref" href="#c:378"><span class="id" title="binder">c</span></a>:<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#c:378"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">e</span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">e</span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">c<sub>1</sub></span><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#sel_slh:379"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:377"><span class="id" title="variable">P</span></a> <span class="id" title="var">c<sub>1</sub></span><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#sel_slh:379"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:377"><span class="id" title="variable">P</span></a> <span class="id" title="var">c<sub>2</sub></span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> 1<a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#sel_slh:379"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:377"><span class="id" title="variable">P</span></a> <span class="id" title="var">c<sub>1</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> 1 <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a><a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#sel_slh:379"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:377"><span class="id" title="variable">P</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> 1<a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#sel_slh:379"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:377"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c:378"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> 1 <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a><a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">a</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><span class="id" title="var">i</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#P:377"><span class="id" title="variable">P</span></a> <span class="id" title="var">x</span> <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">a</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><span class="id" title="var">i</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">=</span></a> 1<a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> 0 <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> <span class="id" title="var">x</span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">a</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><span class="id" title="var">i</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">a</span><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><span class="id" title="var">i</span><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">e</span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">a</span><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><span class="id" title="var">i</span><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">e</span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
<a id="lab61"></a><h2 class="section">Ideal semantics definition</h2>

<div class="paragraph"> </div>

 To prove this transformation secure, Spectre Declassified uses an ideal
    semantics, capturing selective speculative load hardening more abstractly.
    The proof effort is decomposed into:
    1. a speculative constant-time proof for the ideal semantics;
    2. a compiler correctness proof for the <span class="inlinecode"><span class="id" title="var">sel_slh</span></span> transformation taking source
       programs which are executed using the ideal semantics to target programs
       executed using the speculative semantics.
 
</div>
<div class="code">

<span class="id" title="keyword">Reserved Notation</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"P '&#x22A2;' '&lt;(' st , ast , b , ds ')&gt;' '=[' c ']=&gt;' '&lt;(' stt , astt , bb , os ')&gt;'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">c</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">st</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">ast</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">stt</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">astt</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="ideal_eval" class="idref" href="#ideal_eval"><span class="id" title="definition, inductive"><span id="ideal_eval_ind" class="id"><span id="ideal_eval_sind" class="id">ideal_eval</span></span></span></a> (<a id="P:381" class="idref" href="#P:381"><span class="id" title="binder">P</span></a>:<a class="idref" href="SpecCT.html#pub_vars"><span class="id" title="definition">pub_vars</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#astate"><span class="id" title="definition">astate</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#astate"><span class="id" title="definition">astate</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Ideal_Skip" class="idref" href="#Ideal_Skip"><span class="id" title="constructor">Ideal_Skip</span></a> : <span class="id" title="keyword">∀</span> <a id="st:384" class="idref" href="#st:384"><span class="id" title="binder">st</span></a> <a id="ast:385" class="idref" href="#ast:385"><span class="id" title="binder">ast</span></a> <a id="b:386" class="idref" href="#b:386"><span class="id" title="binder">b</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:384"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:385"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:386"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:384"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:385"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:386"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_Asgn" class="idref" href="#Ideal_Asgn"><span class="id" title="constructor">Ideal_Asgn</span></a>  : <span class="id" title="keyword">∀</span> <a id="st:387" class="idref" href="#st:387"><span class="id" title="binder">st</span></a> <a id="ast:388" class="idref" href="#ast:388"><span class="id" title="binder">ast</span></a> <a id="b:389" class="idref" href="#b:389"><span class="id" title="binder">b</span></a> <a id="e:390" class="idref" href="#e:390"><span class="id" title="binder">e</span></a> <a id="n:391" class="idref" href="#n:391"><span class="id" title="binder">n</span></a> <a id="x:392" class="idref" href="#x:392"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:387"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:390"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:391"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:387"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:388"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:389"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:392"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#e:390"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:392"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:391"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:387"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:388"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:389"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_Seq" class="idref" href="#Ideal_Seq"><span class="id" title="constructor">Ideal_Seq</span></a> : <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:393" class="idref" href="#c<sub>1</sub>:393"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:394" class="idref" href="#c<sub>2</sub>:394"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="st:395" class="idref" href="#st:395"><span class="id" title="binder">st</span></a> <a id="ast:396" class="idref" href="#ast:396"><span class="id" title="binder">ast</span></a> <a id="b:397" class="idref" href="#b:397"><span class="id" title="binder">b</span></a> <a id="st':398" class="idref" href="#st':398"><span class="id" title="binder">st'</span></a> <a id="ast':399" class="idref" href="#ast':399"><span class="id" title="binder">ast'</span></a> <a id="b':400" class="idref" href="#b':400"><span class="id" title="binder">b'</span></a> <a id="st'':401" class="idref" href="#st'':401"><span class="id" title="binder">st''</span></a> <a id="ast'':402" class="idref" href="#ast'':402"><span class="id" title="binder">ast''</span></a> <a id="b'':403" class="idref" href="#b'':403"><span class="id" title="binder">b''</span></a> <a id="os<sub>1</sub>:404" class="idref" href="#os<sub>1</sub>:404"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:405" class="idref" href="#os<sub>2</sub>:405"><span class="id" title="binder">os<sub>2</sub></span></a> <a id="ds<sub>1</sub>:406" class="idref" href="#ds<sub>1</sub>:406"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="ds<sub>2</sub>:407" class="idref" href="#ds<sub>2</sub>:407"><span class="id" title="binder">ds<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:395"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:396"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:397"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:406"><span class="id" title="variable">ds<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:393"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':398"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':399"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':400"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:404"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a>  <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':398"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':399"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':400"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:407"><span class="id" title="variable">ds<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:394"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st'':401"><span class="id" title="variable">st''</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast'':402"><span class="id" title="variable">ast''</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b'':403"><span class="id" title="variable">b''</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:405"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:395"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:396"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:397"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:406"><span class="id" title="variable">ds<sub>1</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="SpecCT.html#ds<sub>2</sub>:407"><span class="id" title="variable">ds<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a>  <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:393"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:394"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st'':401"><span class="id" title="variable">st''</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast'':402"><span class="id" title="variable">ast''</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b'':403"><span class="id" title="variable">b''</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:404"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="SpecCT.html#os<sub>2</sub>:405"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_If" class="idref" href="#Ideal_If"><span class="id" title="constructor">Ideal_If</span></a> : <span class="id" title="keyword">∀</span> <a id="st:408" class="idref" href="#st:408"><span class="id" title="binder">st</span></a> <a id="ast:409" class="idref" href="#ast:409"><span class="id" title="binder">ast</span></a> <a id="b:410" class="idref" href="#b:410"><span class="id" title="binder">b</span></a> <a id="st':411" class="idref" href="#st':411"><span class="id" title="binder">st'</span></a> <a id="ast':412" class="idref" href="#ast':412"><span class="id" title="binder">ast'</span></a> <a id="b':413" class="idref" href="#b':413"><span class="id" title="binder">b'</span></a> <a id="be:414" class="idref" href="#be:414"><span class="id" title="binder">be</span></a> <a id="c<sub>1</sub>:415" class="idref" href="#c<sub>1</sub>:415"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:416" class="idref" href="#c<sub>2</sub>:416"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="os<sub>1</sub>:417" class="idref" href="#os<sub>1</sub>:417"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="ds:418" class="idref" href="#ds:418"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:408"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:409"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:410"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:418"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:408"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:414"><span class="id" title="variable">be</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="SpecCT.html#c<sub>2</sub>:416"><span class="id" title="variable">c<sub>2</sub></span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#c<sub>1</sub>:415"><span class="id" title="variable">c<sub>1</sub></span></a> <span class="id" title="keyword">end</span> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':411"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':412"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':413"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:417"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:408"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:409"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:410"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#ds:418"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#be:414"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:415"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:416"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':411"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':412"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':413"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:408"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:414"><span class="id" title="variable">be</span></a>))<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:417"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_If_F" class="idref" href="#Ideal_If_F"><span class="id" title="constructor">Ideal_If_F</span></a> : <span class="id" title="keyword">∀</span> <a id="st:419" class="idref" href="#st:419"><span class="id" title="binder">st</span></a> <a id="ast:420" class="idref" href="#ast:420"><span class="id" title="binder">ast</span></a> <a id="b:421" class="idref" href="#b:421"><span class="id" title="binder">b</span></a> <a id="st':422" class="idref" href="#st':422"><span class="id" title="binder">st'</span></a> <a id="ast':423" class="idref" href="#ast':423"><span class="id" title="binder">ast'</span></a> <a id="b':424" class="idref" href="#b':424"><span class="id" title="binder">b'</span></a> <a id="be:425" class="idref" href="#be:425"><span class="id" title="binder">be</span></a> <a id="c<sub>1</sub>:426" class="idref" href="#c<sub>1</sub>:426"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:427" class="idref" href="#c<sub>2</sub>:427"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="os<sub>1</sub>:428" class="idref" href="#os<sub>1</sub>:428"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="ds:429" class="idref" href="#ds:429"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:419"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:420"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:429"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:419"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:425"><span class="id" title="variable">be</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="SpecCT.html#c<sub>1</sub>:426"><span class="id" title="variable">c<sub>1</sub></span></a> <span class="comment">(*&nbsp;&lt;--&nbsp;branches&nbsp;swapped&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#c<sub>2</sub>:427"><span class="id" title="variable">c<sub>2</sub></span></a> <span class="id" title="keyword">end</span> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':422"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':423"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':424"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:428"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:419"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:420"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:421"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#ds:429"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#be:425"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:426"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:427"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':422"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':423"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':424"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:419"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:425"><span class="id" title="variable">be</span></a>))<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:428"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_While" class="idref" href="#Ideal_While"><span class="id" title="constructor">Ideal_While</span></a> : <span class="id" title="keyword">∀</span> <a id="be:430" class="idref" href="#be:430"><span class="id" title="binder">be</span></a> <a id="st:431" class="idref" href="#st:431"><span class="id" title="binder">st</span></a> <a id="ast:432" class="idref" href="#ast:432"><span class="id" title="binder">ast</span></a> <a id="b:433" class="idref" href="#b:433"><span class="id" title="binder">b</span></a> <a id="ds:434" class="idref" href="#ds:434"><span class="id" title="binder">ds</span></a> <a id="st':435" class="idref" href="#st':435"><span class="id" title="binder">st'</span></a> <a id="ast':436" class="idref" href="#ast':436"><span class="id" title="binder">ast'</span></a> <a id="b':437" class="idref" href="#b':437"><span class="id" title="binder">b'</span></a> <a id="os:438" class="idref" href="#os:438"><span class="id" title="binder">os</span></a> <a id="c:439" class="idref" href="#c:439"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:431"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:432"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:433"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:434"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#be:430"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c:439"><span class="id" title="variable">c</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#be:430"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c:439"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':435"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':436"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':437"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:438"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:431"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:432"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:433"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:434"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#be:430"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c:439"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':435"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':436"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':437"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:438"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_ARead" class="idref" href="#Ideal_ARead"><span class="id" title="constructor">Ideal_ARead</span></a> : <span class="id" title="keyword">∀</span> <a id="st:440" class="idref" href="#st:440"><span class="id" title="binder">st</span></a> <a id="ast:441" class="idref" href="#ast:441"><span class="id" title="binder">ast</span></a> <a id="b:442" class="idref" href="#b:442"><span class="id" title="binder">b</span></a> <a id="x:443" class="idref" href="#x:443"><span class="id" title="binder">x</span></a> <a id="a:444" class="idref" href="#a:444"><span class="id" title="binder">a</span></a> <a id="ie:445" class="idref" href="#ie:445"><span class="id" title="binder">ie</span></a> <a id="i:446" class="idref" href="#i:446"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:440"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:445"><span class="id" title="variable">ie</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:446"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:446"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#ast:441"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a:444"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:440"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:441"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:442"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:443"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#a:444"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#ie:445"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:443"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#b:442"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#x:443"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">then</span> 0 <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="SpecCT.html#i:446"><span class="id" title="variable">i</span></a> (<a class="idref" href="SpecCT.html#ast:441"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a:444"><span class="id" title="variable">a</span></a>) 0<span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:440"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:441"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:442"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OARead"><span class="id" title="constructor">OARead</span></a> <a class="idref" href="SpecCT.html#a:444"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:446"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_ARead_U" class="idref" href="#Ideal_ARead_U"><span class="id" title="constructor">Ideal_ARead_U</span></a> : <span class="id" title="keyword">∀</span> <a id="st:447" class="idref" href="#st:447"><span class="id" title="binder">st</span></a> <a id="ast:448" class="idref" href="#ast:448"><span class="id" title="binder">ast</span></a> <a id="x:449" class="idref" href="#x:449"><span class="id" title="binder">x</span></a> <a id="a:450" class="idref" href="#a:450"><span class="id" title="binder">a</span></a> <a id="ie:451" class="idref" href="#ie:451"><span class="id" title="binder">ie</span></a> <a id="i:452" class="idref" href="#i:452"><span class="id" title="binder">i</span></a> <a id="a':453" class="idref" href="#a':453"><span class="id" title="binder">a'</span></a> <a id="i':454" class="idref" href="#i':454"><span class="id" title="binder">i'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:447"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:451"><span class="id" title="variable">ie</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:452"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:452"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f<sub>9</sub>"><span class="id" title="notation">≥</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#ast:448"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a:450"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i':454"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#ast:448"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a':453"><span class="id" title="variable">a'</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:447"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:448"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DLoad"><span class="id" title="constructor">DLoad</span></a> <a class="idref" href="SpecCT.html#a':453"><span class="id" title="variable">a'</span></a> <a class="idref" href="SpecCT.html#i':454"><span class="id" title="variable">i'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:449"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#a:450"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#ie:451"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:449"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#x:449"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">then</span> 0 <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="SpecCT.html#i':454"><span class="id" title="variable">i'</span></a> (<a class="idref" href="SpecCT.html#ast:448"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a':453"><span class="id" title="variable">a'</span></a>) 0<span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:447"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:448"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OARead"><span class="id" title="constructor">OARead</span></a> <a class="idref" href="SpecCT.html#a:450"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:452"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_Write" class="idref" href="#Ideal_Write"><span class="id" title="constructor">Ideal_Write</span></a> : <span class="id" title="keyword">∀</span> <a id="st:455" class="idref" href="#st:455"><span class="id" title="binder">st</span></a> <a id="ast:456" class="idref" href="#ast:456"><span class="id" title="binder">ast</span></a> <a id="b:457" class="idref" href="#b:457"><span class="id" title="binder">b</span></a> <a id="a:458" class="idref" href="#a:458"><span class="id" title="binder">a</span></a> <a id="ie:459" class="idref" href="#ie:459"><span class="id" title="binder">ie</span></a> <a id="i:460" class="idref" href="#i:460"><span class="id" title="binder">i</span></a> <a id="e:461" class="idref" href="#e:461"><span class="id" title="binder">e</span></a> <a id="n:462" class="idref" href="#n:462"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:455"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:461"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:462"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:455"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:459"><span class="id" title="variable">ie</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:460"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:460"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#ast:456"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a:458"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:455"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:456"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:457"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#a:458"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#ie:459"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#e:461"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:455"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a:458"><span class="id" title="variable">a</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#upd"><span class="id" title="definition">upd</span></a> <a class="idref" href="SpecCT.html#i:460"><span class="id" title="variable">i</span></a> (<a class="idref" href="SpecCT.html#ast:456"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a:458"><span class="id" title="variable">a</span></a>) <a class="idref" href="SpecCT.html#n:462"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#ast:456"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:457"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OAWrite"><span class="id" title="constructor">OAWrite</span></a> <a class="idref" href="SpecCT.html#a:458"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:460"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_Write_U" class="idref" href="#Ideal_Write_U"><span class="id" title="constructor">Ideal_Write_U</span></a> : <span class="id" title="keyword">∀</span> <a id="st:463" class="idref" href="#st:463"><span class="id" title="binder">st</span></a> <a id="ast:464" class="idref" href="#ast:464"><span class="id" title="binder">ast</span></a> <a id="a:465" class="idref" href="#a:465"><span class="id" title="binder">a</span></a> <a id="ie:466" class="idref" href="#ie:466"><span class="id" title="binder">ie</span></a> <a id="i:467" class="idref" href="#i:467"><span class="id" title="binder">i</span></a> <a id="e:468" class="idref" href="#e:468"><span class="id" title="binder">e</span></a> <a id="n:469" class="idref" href="#n:469"><span class="id" title="binder">n</span></a> <a id="a':470" class="idref" href="#a':470"><span class="id" title="binder">a'</span></a> <a id="i':471" class="idref" href="#i':471"><span class="id" title="binder">i'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:463"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:468"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:469"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:463"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:466"><span class="id" title="variable">ie</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:467"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:467"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f<sub>9</sub>"><span class="id" title="notation">≥</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#ast:464"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a:465"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i':471"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#ast:464"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a':470"><span class="id" title="variable">a'</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:381"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:463"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:464"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStore"><span class="id" title="constructor">DStore</span></a> <a class="idref" href="SpecCT.html#a':470"><span class="id" title="variable">a'</span></a> <a class="idref" href="SpecCT.html#i':471"><span class="id" title="variable">i'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#a:465"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#ie:466"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#e:468"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:463"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a':470"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#upd"><span class="id" title="definition">upd</span></a> <a class="idref" href="SpecCT.html#i':471"><span class="id" title="variable">i'</span></a> (<a class="idref" href="SpecCT.html#ast:464"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#a':470"><span class="id" title="variable">a'</span></a>) <a class="idref" href="SpecCT.html#n:469"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#ast:464"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OAWrite"><span class="id" title="constructor">OAWrite</span></a> <a class="idref" href="SpecCT.html#a:465"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:467"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="c9c46b7086132b0692eed0ee8e179392" class="idref" href="#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&quot;</span></a>P &#x22A2; &lt;( st , ast , b , ds )&gt; =[ c ]=&gt; &lt;( stt , astt , bb , os )&gt;" :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#ideal_eval:383"><span class="id" title="inductive">ideal_eval</span></a> <span class="id" title="var">P</span> <span class="id" title="var">c</span> <span class="id" title="var">st</span> <span class="id" title="var">ast</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">stt</span> <span class="id" title="var">astt</span> <span class="id" title="var">bb</span> <span class="id" title="var">os</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="SpecCT.html#ideal_eval"><span class="id" title="inductive">ideal_eval</span></a> : <span class="id" title="var">core</span>.<br/>
</div>

<div class="doc">
<a id="lab62"></a><h2 class="section">Ideal semantics enforces speculative constant-time</h2>

<div class="paragraph"> </div>

 Let's now prove that the ideal semantics does enforce speculative constant-time.
    As in the proofs we did before for constant-time and pc security, we rely
    on a proof of noninterference. For our ideal semantics
    this noninterference proof is very interesting. 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="prefix" class="idref" href="#prefix"><span class="id" title="definition">prefix</span></a> {<a id="X:472" class="idref" href="#X:472"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="xs:473" class="idref" href="#xs:473"><span class="id" title="binder">xs</span></a> <a id="ys:474" class="idref" href="#ys:474"><span class="id" title="binder">ys</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:472"><span class="id" title="variable">X</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="zs:475" class="idref" href="#zs:475"><span class="id" title="binder">zs</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#xs:473"><span class="id" title="variable">xs</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#zs:475"><span class="id" title="variable">zs</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#ys:474"><span class="id" title="variable">ys</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_refl" class="idref" href="#prefix_refl"><span class="id" title="lemma">prefix_refl</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:476" class="idref" href="#X:476"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} {<a id="ds:477" class="idref" href="#ds:477"><span class="id" title="binder">ds</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:476"><span class="id" title="variable">X</span></a>},<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds:477"><span class="id" title="variable">ds</span></a> <a class="idref" href="SpecCT.html#ds:477"><span class="id" title="variable">ds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">ds</span>. <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_nil" class="idref" href="#prefix_nil"><span class="id" title="lemma">prefix_nil</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:478" class="idref" href="#X:478"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="ds:479" class="idref" href="#ds:479"><span class="id" title="binder">ds</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:478"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="SpecCT.html#ds:479"><span class="id" title="variable">ds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">ds</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_heads_and_tails" class="idref" href="#prefix_heads_and_tails"><span class="id" title="lemma">prefix_heads_and_tails</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:480" class="idref" href="#X:480"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="h<sub>1</sub>:481" class="idref" href="#h<sub>1</sub>:481"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:482" class="idref" href="#h<sub>2</sub>:482"><span class="id" title="binder">h<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#X:480"><span class="id" title="variable">X</span></a>) (<a id="t<sub>1</sub>:483" class="idref" href="#t<sub>1</sub>:483"><span class="id" title="binder">t<sub>1</sub></span></a> <a id="t<sub>2</sub>:484" class="idref" href="#t<sub>2</sub>:484"><span class="id" title="binder">t<sub>2</sub></span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:480"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> (<a class="idref" href="SpecCT.html#h<sub>1</sub>:481"><span class="id" title="variable">h<sub>1</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="SpecCT.html#t<sub>1</sub>:483"><span class="id" title="variable">t<sub>1</sub></span></a>) (<a class="idref" href="SpecCT.html#h<sub>2</sub>:482"><span class="id" title="variable">h<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="SpecCT.html#t<sub>2</sub>:484"><span class="id" title="variable">t<sub>2</sub></span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#h<sub>1</sub>:481"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#h<sub>2</sub>:482"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#t<sub>1</sub>:483"><span class="id" title="variable">t<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#t<sub>2</sub>:484"><span class="id" title="variable">t<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="var">h<sub>2</sub></span> <span class="id" title="var">t<sub>1</sub></span> <span class="id" title="var">t<sub>2</sub></span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hpre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpre</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">zs</span> <span class="id" title="var">Hpre</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hpre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hpre</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_heads" class="idref" href="#prefix_heads"><span class="id" title="lemma">prefix_heads</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:485" class="idref" href="#X:485"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="h<sub>1</sub>:486" class="idref" href="#h<sub>1</sub>:486"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:487" class="idref" href="#h<sub>2</sub>:487"><span class="id" title="binder">h<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#X:485"><span class="id" title="variable">X</span></a>) (<a id="t<sub>1</sub>:488" class="idref" href="#t<sub>1</sub>:488"><span class="id" title="binder">t<sub>1</sub></span></a> <a id="t<sub>2</sub>:489" class="idref" href="#t<sub>2</sub>:489"><span class="id" title="binder">t<sub>2</sub></span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:485"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> (<a class="idref" href="SpecCT.html#h<sub>1</sub>:486"><span class="id" title="variable">h<sub>1</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="SpecCT.html#t<sub>1</sub>:488"><span class="id" title="variable">t<sub>1</sub></span></a>) (<a class="idref" href="SpecCT.html#h<sub>2</sub>:487"><span class="id" title="variable">h<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="SpecCT.html#t<sub>2</sub>:489"><span class="id" title="variable">t<sub>2</sub></span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#h<sub>1</sub>:486"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#h<sub>2</sub>:487"><span class="id" title="variable">h<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="var">h<sub>2</sub></span> <span class="id" title="var">t<sub>1</sub></span> <span class="id" title="var">t<sub>2</sub></span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_heads_and_tails"><span class="id" title="lemma">prefix_heads_and_tails</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_or_heads" class="idref" href="#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:490" class="idref" href="#X:490"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="x:491" class="idref" href="#x:491"><span class="id" title="binder">x</span></a> <a id="y:492" class="idref" href="#y:492"><span class="id" title="binder">y</span></a> : <a class="idref" href="SpecCT.html#X:490"><span class="id" title="variable">X</span></a>) (<a id="xs:493" class="idref" href="#xs:493"><span class="id" title="binder">xs</span></a> <a id="ys:494" class="idref" href="#ys:494"><span class="id" title="binder">ys</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:490"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> (<a class="idref" href="SpecCT.html#x:491"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#xs:493"><span class="id" title="variable">xs</span></a>) (<a class="idref" href="SpecCT.html#y:492"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#ys:494"><span class="id" title="variable">ys</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> (<a class="idref" href="SpecCT.html#y:492"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#ys:494"><span class="id" title="variable">ys</span></a>) (<a class="idref" href="SpecCT.html#x:491"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#xs:493"><span class="id" title="variable">xs</span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#x:491"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#y:492"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">xs</span> <span class="id" title="var">ys</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> | <span class="id" title="var">H</span>]; <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_heads"><span class="id" title="lemma">prefix_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_cons" class="idref" href="#prefix_cons"><span class="id" title="lemma">prefix_cons</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:495" class="idref" href="#X:495"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="d:496" class="idref" href="#d:496"><span class="id" title="binder">d</span></a> :<a class="idref" href="SpecCT.html#X:495"><span class="id" title="variable">X</span></a>) (<a id="ds<sub>1</sub>:497" class="idref" href="#ds<sub>1</sub>:497"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="ds<sub>2</sub>:498" class="idref" href="#ds<sub>2</sub>:498"><span class="id" title="binder">ds<sub>2</sub></span></a>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:495"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:497"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:498"><span class="id" title="variable">ds<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> (<a class="idref" href="SpecCT.html#d:496"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="SpecCT.html#ds<sub>1</sub>:497"><span class="id" title="variable">ds<sub>1</sub></span></a>) (<a class="idref" href="SpecCT.html#d:496"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="SpecCT.html#ds<sub>2</sub>:498"><span class="id" title="variable">ds<sub>2</sub></span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">d</span> <span class="id" title="var">ds<sub>1</sub></span> <span class="id" title="var">ds<sub>2</sub></span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a>| ]; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_heads_and_tails"><span class="id" title="lemma">prefix_heads_and_tails</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>]. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_app" class="idref" href="#prefix_app"><span class="id" title="lemma">prefix_app</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:499" class="idref" href="#X:499"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} {<a id="ds<sub>1</sub>:500" class="idref" href="#ds<sub>1</sub>:500"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="ds<sub>2</sub>:501" class="idref" href="#ds<sub>2</sub>:501"><span class="id" title="binder">ds<sub>2</sub></span></a> <a id="ds<sub>0</sub>:502" class="idref" href="#ds<sub>0</sub>:502"><span class="id" title="binder">ds<sub>0</sub></span></a> <a id="ds<sub>3</sub>:503" class="idref" href="#ds<sub>3</sub>:503"><span class="id" title="binder">ds<sub>3</sub></span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:499"><span class="id" title="variable">X</span></a>},<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> (<a class="idref" href="SpecCT.html#ds<sub>1</sub>:500"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:501"><span class="id" title="variable">ds<sub>2</sub></span></a>) (<a class="idref" href="SpecCT.html#ds<sub>0</sub>:502"><span class="id" title="variable">ds<sub>0</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#ds<sub>3</sub>:503"><span class="id" title="variable">ds<sub>3</sub></span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:500"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>0</sub>:502"><span class="id" title="variable">ds<sub>0</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds<sub>0</sub>:502"><span class="id" title="variable">ds<sub>0</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:500"><span class="id" title="variable">ds<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">ds<sub>1</sub></span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">ds<sub>1</sub></span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">d<sub>1</sub></span> <span class="id" title="var">ds<sub>1</sub>'</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">ds<sub>2</sub></span> <span class="id" title="var">ds<sub>0</sub></span> <span class="id" title="var">ds<sub>3</sub></span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_nil"><span class="id" title="lemma">prefix_nil</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">ds<sub>0</sub></span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">d<sub>0</sub></span> <span class="id" title="var">ds<sub>0</sub>'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">D<sub>0</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_nil"><span class="id" title="lemma">prefix_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_heads_and_tails"><span class="id" title="lemma">prefix_heads_and_tails</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">Hpre</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hpre</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpre</span>; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_cons"><span class="id" title="lemma">prefix_cons</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_append_front" class="idref" href="#prefix_append_front"><span class="id" title="lemma">prefix_append_front</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:504" class="idref" href="#X:504"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} {<a id="ds<sub>1</sub>:505" class="idref" href="#ds<sub>1</sub>:505"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="ds<sub>2</sub>:506" class="idref" href="#ds<sub>2</sub>:506"><span class="id" title="binder">ds<sub>2</sub></span></a> <a id="ds<sub>3</sub>:507" class="idref" href="#ds<sub>3</sub>:507"><span class="id" title="binder">ds<sub>3</sub></span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:504"><span class="id" title="variable">X</span></a>},<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> (<a class="idref" href="SpecCT.html#ds<sub>1</sub>:505"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:506"><span class="id" title="variable">ds<sub>2</sub></span></a>) (<a class="idref" href="SpecCT.html#ds<sub>1</sub>:505"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#ds<sub>3</sub>:507"><span class="id" title="variable">ds<sub>3</sub></span></a>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:506"><span class="id" title="variable">ds<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>3</sub>:507"><span class="id" title="variable">ds<sub>3</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">ds<sub>1</sub></span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">ds<sub>1</sub></span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">d<sub>1</sub></span> <span class="id" title="var">ds<sub>1</sub>'</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">ds<sub>2</sub></span> <span class="id" title="var">ds<sub>3</sub></span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_cons"><span class="id" title="lemma">prefix_cons</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="app_eq_prefix" class="idref" href="#app_eq_prefix"><span class="id" title="lemma">app_eq_prefix</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:508" class="idref" href="#X:508"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} {<a id="ds<sub>1</sub>:509" class="idref" href="#ds<sub>1</sub>:509"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="ds<sub>2</sub>:510" class="idref" href="#ds<sub>2</sub>:510"><span class="id" title="binder">ds<sub>2</sub></span></a> <a id="ds<sub>1</sub>':511" class="idref" href="#ds<sub>1</sub>':511"><span class="id" title="binder">ds<sub>1</sub>'</span></a> <a id="ds<sub>2</sub>':512" class="idref" href="#ds<sub>2</sub>':512"><span class="id" title="binder">ds<sub>2</sub>'</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:508"><span class="id" title="variable">X</span></a>},<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#ds<sub>1</sub>:509"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:510"><span class="id" title="variable">ds<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>':511"><span class="id" title="variable">ds<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>':512"><span class="id" title="variable">ds<sub>2</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:509"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>':511"><span class="id" title="variable">ds<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>':511"><span class="id" title="variable">ds<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:509"><span class="id" title="variable">ds<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">ds<sub>1</sub></span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">ds<sub>1</sub></span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="var">t<sub>1</sub></span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">ds<sub>2</sub></span> <span class="id" title="var">ds<sub>1</sub>'</span> <span class="id" title="var">ds<sub>2</sub>'</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_nil"><span class="id" title="lemma">prefix_nil</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">ds<sub>1</sub>'</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">h<sub>1</sub>'</span> <span class="id" title="var">t<sub>1</sub>'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">D<sub>1</sub>'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_nil"><span class="id" title="lemma">prefix_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>2</sub></span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H<sub>2</sub></span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HL</span> | <span class="id" title="var">HR</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>]; <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_cons"><span class="id" title="lemma">prefix_cons</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">split4</span> := <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">split</span>] ].<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="pub_equiv_update_public" class="idref" href="#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a> : <span class="id" title="keyword">∀</span> <a id="P:513" class="idref" href="#P:513"><span class="id" title="binder">P</span></a> {<a id="A:514" class="idref" href="#A:514"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="t<sub>1</sub>:515" class="idref" href="#t<sub>1</sub>:515"><span class="id" title="binder">t<sub>1</sub></span></a> <a id="t<sub>2</sub>:516" class="idref" href="#t<sub>2</sub>:516"><span class="id" title="binder">t<sub>2</sub></span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#A:514"><span class="id" title="variable">A</span></a>) (<a id="X:517" class="idref" href="#X:517"><span class="id" title="binder">X</span></a> :<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="a<sub>1</sub>:518" class="idref" href="#a<sub>1</sub>:518"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:519" class="idref" href="#a<sub>2</sub>:519"><span class="id" title="binder">a<sub>2</sub></span></a> :<a class="idref" href="SpecCT.html#A:514"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:513"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#t<sub>1</sub>:515"><span class="id" title="variable">t<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#t<sub>2</sub>:516"><span class="id" title="variable">t<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:513"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#X:517"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#a<sub>1</sub>:518"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>:519"><span class="id" title="variable">a<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:513"><span class="id" title="variable">P</span></a> (<a class="idref" href="SpecCT.html#X:517"><span class="id" title="variable">X</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#a<sub>1</sub>:518"><span class="id" title="variable">a<sub>1</sub></span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#t<sub>1</sub>:515"><span class="id" title="variable">t<sub>1</sub></span></a>) (<a class="idref" href="SpecCT.html#X:517"><span class="id" title="variable">X</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#a<sub>2</sub>:519"><span class="id" title="variable">a<sub>2</sub></span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#t<sub>2</sub>:516"><span class="id" title="variable">t<sub>2</sub></span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">t<sub>1</sub></span> <span class="id" title="var">t<sub>2</sub></span> <span class="id" title="var">X</span> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">Hequiv</span> <span class="id" title="var">Hpub</span> <span class="id" title="var">Ha1a<sub>2</sub></span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">X</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hneq</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>;[| <span class="id" title="tactic">auto</span>]). <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hequiv</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="pub_equiv_update_secret" class="idref" href="#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a> : <span class="id" title="keyword">∀</span> <a id="P:520" class="idref" href="#P:520"><span class="id" title="binder">P</span></a> {<a id="A:521" class="idref" href="#A:521"><span class="id" title="binder">A</span></a>:<span class="id" title="keyword">Type</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="t<sub>1</sub>:522" class="idref" href="#t<sub>1</sub>:522"><span class="id" title="binder">t<sub>1</sub></span></a> <a id="t<sub>2</sub>:523" class="idref" href="#t<sub>2</sub>:523"><span class="id" title="binder">t<sub>2</sub></span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#A:521"><span class="id" title="variable">A</span></a>) (<a id="X:524" class="idref" href="#X:524"><span class="id" title="binder">X</span></a> :<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="a<sub>1</sub>:525" class="idref" href="#a<sub>1</sub>:525"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:526" class="idref" href="#a<sub>2</sub>:526"><span class="id" title="binder">a<sub>2</sub></span></a> :<a class="idref" href="SpecCT.html#A:521"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:520"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#t<sub>1</sub>:522"><span class="id" title="variable">t<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#t<sub>2</sub>:523"><span class="id" title="variable">t<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:520"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#X:524"><span class="id" title="variable">X</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#secret"><span class="id" title="definition">secret</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:520"><span class="id" title="variable">P</span></a> (<a class="idref" href="SpecCT.html#X:524"><span class="id" title="variable">X</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#a<sub>1</sub>:525"><span class="id" title="variable">a<sub>1</sub></span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#t<sub>1</sub>:522"><span class="id" title="variable">t<sub>1</sub></span></a>) (<a class="idref" href="SpecCT.html#X:524"><span class="id" title="variable">X</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#a<sub>2</sub>:526"><span class="id" title="variable">a<sub>2</sub></span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#t<sub>2</sub>:523"><span class="id" title="variable">t<sub>2</sub></span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">A</span> <span class="id" title="var">t<sub>1</sub></span> <span class="id" title="var">t<sub>2</sub></span> <span class="id" title="var">X</span> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">Hequiv</span> <span class="id" title="var">Hsec</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">X</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hneq</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hsec</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;-  <span class="id" title="tactic">do</span> 2 (<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>;[| <span class="id" title="tactic">auto</span>]). <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hequiv</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="ct_well_typed_ideal_noninterferent_general" class="idref" href="#ct_well_typed_ideal_noninterferent_general"><span class="id" title="lemma">ct_well_typed_ideal_noninterferent_general</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:527" class="idref" href="#P:527"><span class="id" title="binder">P</span></a> <a id="PA:528" class="idref" href="#PA:528"><span class="id" title="binder">PA</span></a> <a id="c:529" class="idref" href="#c:529"><span class="id" title="binder">c</span></a> <a id="st<sub>1</sub>:530" class="idref" href="#st<sub>1</sub>:530"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:531" class="idref" href="#st<sub>2</sub>:531"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="ast1:532" class="idref" href="#ast1:532"><span class="id" title="binder">ast1</span></a> <a id="ast2:533" class="idref" href="#ast2:533"><span class="id" title="binder">ast2</span></a> <a id="b:534" class="idref" href="#b:534"><span class="id" title="binder">b</span></a> <a id="st<sub>1</sub>':535" class="idref" href="#st<sub>1</sub>':535"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':536" class="idref" href="#st<sub>2</sub>':536"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="ast1':537" class="idref" href="#ast1':537"><span class="id" title="binder">ast1'</span></a> <a id="ast2':538" class="idref" href="#ast2':538"><span class="id" title="binder">ast2'</span></a> <a id="b<sub>1</sub>':539" class="idref" href="#b<sub>1</sub>':539"><span class="id" title="binder">b<sub>1</sub>'</span></a> <a id="b<sub>2</sub>':540" class="idref" href="#b<sub>2</sub>':540"><span class="id" title="binder">b<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:541" class="idref" href="#os<sub>1</sub>:541"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:542" class="idref" href="#os<sub>2</sub>:542"><span class="id" title="binder">os<sub>2</sub></span></a> <a id="ds<sub>1</sub>:543" class="idref" href="#ds<sub>1</sub>:543"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="ds<sub>2</sub>:544" class="idref" href="#ds<sub>2</sub>:544"><span class="id" title="binder">ds<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:527"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:528"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:529"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:527"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:530"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:531"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#b:534"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:528"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#ast1:532"><span class="id" title="variable">ast1</span></a> <a class="idref" href="SpecCT.html#ast2:533"><span class="id" title="variable">ast2</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:543"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:544"><span class="id" title="variable">ds<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:544"><span class="id" title="variable">ds<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:543"><span class="id" title="variable">ds<sub>1</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="comment">(*&nbsp;&lt;-&nbsp;interesting&nbsp;generalization&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:527"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>:530"><span class="id" title="variable">st<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast1:532"><span class="id" title="variable">ast1</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:534"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:543"><span class="id" title="variable">ds<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:529"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>':535"><span class="id" title="variable">st<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast1':537"><span class="id" title="variable">ast1'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>1</sub>':539"><span class="id" title="variable">b<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:541"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:527"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>:531"><span class="id" title="variable">st<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast2:533"><span class="id" title="variable">ast2</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:534"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:544"><span class="id" title="variable">ds<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:529"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>':536"><span class="id" title="variable">st<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast2':538"><span class="id" title="variable">ast2'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>2</sub>':540"><span class="id" title="variable">b<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:542"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:527"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>':535"><span class="id" title="variable">st<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>':536"><span class="id" title="variable">st<sub>2</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#b<sub>1</sub>':539"><span class="id" title="variable">b<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#b<sub>2</sub>':540"><span class="id" title="variable">b<sub>2</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#b<sub>1</sub>':539"><span class="id" title="variable">b<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:528"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#ast1':537"><span class="id" title="variable">ast1'</span></a> <a class="idref" href="SpecCT.html#ast2':538"><span class="id" title="variable">ast2'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#ds<sub>1</sub>:543"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:544"><span class="id" title="variable">ds<sub>2</sub></span></a>. <span class="comment">(*&nbsp;&lt;-&nbsp;interesting&nbsp;generalization&nbsp;*)</span><br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span> <span class="id" title="var">st<sub>1</sub></span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">ast1</span> <span class="id" title="var">ast2</span> <span class="id" title="var">b</span> <span class="id" title="var">st<sub>1</sub>'</span> <span class="id" title="var">st<sub>2</sub>'</span> <span class="id" title="var">ast1'</span> <span class="id" title="var">ast2'</span> <span class="id" title="var">b<sub>1</sub>'</span> <span class="id" title="var">b<sub>2</sub>'</span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span> <span class="id" title="var">ds<sub>1</sub></span> <span class="id" title="var">ds<sub>2</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hwt</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">Hds</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">ast2'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">ast2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">os<sub>2</sub></span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">b<sub>2</sub>'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">ds<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heval1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">ds2X</span> <span class="id" title="var">Hds</span> <span class="id" title="var">b<sub>2</sub>'</span> <span class="id" title="var">os<sub>2</sub>'</span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">Haeq</span> <span class="id" title="var">a<sub>2</sub>'</span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">Heq</span> <span class="id" title="var">s<sub>2</sub>'</span> <span class="id" title="var">Heval2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwt</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Skip&nbsp;*)</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Asgn&nbsp;*)</span> <span class="id" title="var">split4</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EqPx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; [<span class="id" title="tactic">auto</span> | <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>14</sub></span>; <span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Seq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hds</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpre</span> | <span class="id" title="var">Hpre</span>]; <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_app"><span class="id" title="lemma">prefix_app</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hpre</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hds1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;prefix&nbsp;(ds<sub>1</sub>&nbsp;++&nbsp;ds<sub>2</sub>)&nbsp;(ds<sub>0</sub>&nbsp;++&nbsp;ds<sub>3</sub>)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1_1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hds1</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">Hstates</span> [<span class="id" title="var">Hbits</span> [<span class="id" title="var">Hastates</span> <span class="id" title="var">Hdirections</span>] ] ]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#prefix_append_front"><span class="id" title="lemma">prefix_append_front</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hpre</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hds2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1_2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>14</sub></span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">firstorder</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;prefix&nbsp;(ds<sub>0</sub>&nbsp;++&nbsp;ds<sub>3</sub>)&nbsp;(ds<sub>1</sub>&nbsp;++&nbsp;ds<sub>2</sub>)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1_1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ds<sub>2</sub></span>:=<span class="id" title="var">ds<sub>0</sub></span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>; <span class="id" title="tactic">eauto</span>; [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H<sub>13</sub></span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">Hstates</span> [<span class="id" title="var">Hbits</span> [<span class="id" title="var">Hastates</span> <span class="id" title="var">Hdirections</span>] ] ]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#prefix_append_front"><span class="id" title="lemma">prefix_append_front</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hpre</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hds2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1_2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>14</sub></span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">firstorder</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;If&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">G</span> : <span class="id" title="var">P</span> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <span class="id" title="var">PA</span> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">(</span></a><span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <span class="id" title="var">c<sub>2</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">c<sub>1</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>); <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Gds</span> : <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <span class="id" title="var">ds</span> <span class="id" title="var">ds<sub>0</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <span class="id" title="var">ds<sub>0</sub></span> <span class="id" title="var">ds</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hds</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hds</span> | <span class="id" title="var">Hds</span>]; <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_cons"><span class="id" title="lemma">prefix_cons</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>; <span class="id" title="tactic">tauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>10</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHeval1</span> <span class="id" title="var">G</span> <span class="id" title="var">_</span> <span class="id" title="var">Gds</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span> <span class="id" title="var">_</span> <span class="id" title="var">H<sub>10</sub></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#pub_equiv_sym"><span class="id" title="lemma">pub_equiv_sym</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;IF;&nbsp;contra&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hds</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;IF;&nbsp;contra&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hds</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;If_F;&nbsp;analog&nbsp;to&nbsp;If&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">G</span> : <span class="id" title="var">P</span> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <span class="id" title="var">PA</span> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">(</span></a><span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <span class="id" title="var">c<sub>1</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">c<sub>2</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>); <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Gds</span> : <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <span class="id" title="var">ds</span> <span class="id" title="var">ds<sub>0</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <span class="id" title="var">ds<sub>0</sub></span> <span class="id" title="var">ds</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hds</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hds</span> | <span class="id" title="var">Hds</span>]; <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_cons"><span class="id" title="lemma">prefix_cons</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>; <span class="id" title="tactic">tauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>10</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span>(<span class="id" title="var">GG</span>: <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <span class="id" title="var">PA</span> <span class="id" title="var">ast</span> <span class="id" title="var">a<sub>2</sub></span>). <span class="comment">(*&nbsp;&lt;-&nbsp;only&nbsp;difference&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">Hc</span>. <span class="id" title="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHeval1</span> <span class="id" title="var">G</span> <span class="id" title="var">_</span> <span class="id" title="var">Gds</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">GG</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span> <span class="id" title="var">_</span> <span class="id" title="var">H<sub>10</sub></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#pub_equiv_sym"><span class="id" title="lemma">pub_equiv_sym</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;While&nbsp;*)</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ARead&nbsp;*)</span> <span class="id" title="var">split4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EqPx</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b<sub>2</sub>'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqb2'</span>; <span class="id" title="tactic">simpl</span>; [<span class="id" title="tactic">reflexivity</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#can_flow"><span class="id" title="definition">can_flow</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>18</sub></span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Bool.Bool.html#orb_true_iff"><span class="id" title="lemma">orb_true_iff</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>18</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H<sub>18</sub></span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hapub</span> | <span class="id" title="var">Contra</span>]; [| <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Contra</span>; <span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Haeq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hapub</span>; [| <span class="id" title="tactic">reflexivity</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hapub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ARead_U&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EqPx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hds</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ARead&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EqPx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hds</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Aread_U&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EqPx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Write&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split4</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hb<sub>2</sub>'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">PA</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EqPAa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>19</sub></span>, <span class="id" title="var">H<sub>20</sub></span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H<sub>19</sub></span>, <span class="id" title="var">H<sub>20</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Haeq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hb<sub>2</sub>'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hb<sub>2</sub>'</span> <span class="id" title="keyword">in</span> <span class="id" title="var">EqPAa</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EqPAa</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>21</sub></span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Write_U;&nbsp;contra&nbsp;*)</span> <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hds</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Write;&nbsp;contra&nbsp;*)</span> <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hds</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Write_U;&nbsp;contra&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">discriminate</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="ct_well_typed_ideal_noninterferent" class="idref" href="#ct_well_typed_ideal_noninterferent"><span class="id" title="lemma">ct_well_typed_ideal_noninterferent</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:545" class="idref" href="#P:545"><span class="id" title="binder">P</span></a> <a id="PA:546" class="idref" href="#PA:546"><span class="id" title="binder">PA</span></a> <a id="c:547" class="idref" href="#c:547"><span class="id" title="binder">c</span></a> <a id="s<sub>1</sub>:548" class="idref" href="#s<sub>1</sub>:548"><span class="id" title="binder">s<sub>1</sub></span></a> <a id="s<sub>2</sub>:549" class="idref" href="#s<sub>2</sub>:549"><span class="id" title="binder">s<sub>2</sub></span></a> <a id="a<sub>1</sub>:550" class="idref" href="#a<sub>1</sub>:550"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:551" class="idref" href="#a<sub>2</sub>:551"><span class="id" title="binder">a<sub>2</sub></span></a> <a id="b:552" class="idref" href="#b:552"><span class="id" title="binder">b</span></a> <a id="s<sub>1</sub>':553" class="idref" href="#s<sub>1</sub>':553"><span class="id" title="binder">s<sub>1</sub>'</span></a> <a id="s<sub>2</sub>':554" class="idref" href="#s<sub>2</sub>':554"><span class="id" title="binder">s<sub>2</sub>'</span></a> <a id="a<sub>1</sub>':555" class="idref" href="#a<sub>1</sub>':555"><span class="id" title="binder">a<sub>1</sub>'</span></a> <a id="a<sub>2</sub>':556" class="idref" href="#a<sub>2</sub>':556"><span class="id" title="binder">a<sub>2</sub>'</span></a> <a id="b<sub>1</sub>':557" class="idref" href="#b<sub>1</sub>':557"><span class="id" title="binder">b<sub>1</sub>'</span></a> <a id="b<sub>2</sub>':558" class="idref" href="#b<sub>2</sub>':558"><span class="id" title="binder">b<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:559" class="idref" href="#os<sub>1</sub>:559"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:560" class="idref" href="#os<sub>2</sub>:560"><span class="id" title="binder">os<sub>2</sub></span></a> <a id="ds:561" class="idref" href="#ds:561"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:545"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:546"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:547"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:545"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:548"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:549"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#b:552"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:546"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>:550"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>:551"><span class="id" title="variable">a<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:545"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s<sub>1</sub>:548"><span class="id" title="variable">s<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>:550"><span class="id" title="variable">a<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:552"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:561"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:547"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s<sub>1</sub>':553"><span class="id" title="variable">s<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>':555"><span class="id" title="variable">a<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>1</sub>':557"><span class="id" title="variable">b<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:559"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:545"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s<sub>2</sub>:549"><span class="id" title="variable">s<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>:551"><span class="id" title="variable">a<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:552"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:561"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:547"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s<sub>2</sub>':554"><span class="id" title="variable">s<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>':556"><span class="id" title="variable">a<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>2</sub>':558"><span class="id" title="variable">b<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:560"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:545"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>':553"><span class="id" title="variable">s<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>':554"><span class="id" title="variable">s<sub>2</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#b<sub>1</sub>':557"><span class="id" title="variable">b<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#b<sub>2</sub>':558"><span class="id" title="variable">b<sub>2</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#b<sub>1</sub>':557"><span class="id" title="variable">b<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:546"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>':555"><span class="id" title="variable">a<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>':556"><span class="id" title="variable">a<sub>2</sub>'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span> <span class="id" title="var">s<sub>1</sub></span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">b</span> <span class="id" title="var">s<sub>1</sub>'</span> <span class="id" title="var">s<sub>2</sub>'</span> <span class="id" title="var">a<sub>1</sub>'</span> <span class="id" title="var">a<sub>2</sub>'</span> <span class="id" title="var">b<sub>1</sub>'</span> <span class="id" title="var">b<sub>2</sub>'</span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span> <span class="id" title="var">ds</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hwt</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#ct_well_typed_ideal_noninterferent_general"><span class="id" title="lemma">ct_well_typed_ideal_noninterferent_general</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval2</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_refl"><span class="id" title="lemma">prefix_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
This corollary (used below in the sequence case) also follows from <span class="inlinecode"><span class="id" title="var">noninterferent_general</span></span> 
</div>
<div class="code">
<span class="id" title="keyword">Corollary</span> <a id="aux" class="idref" href="#aux"><span class="id" title="lemma">aux</span></a> : <span class="id" title="keyword">∀</span> <a id="P:562" class="idref" href="#P:562"><span class="id" title="binder">P</span></a> <a id="PA:563" class="idref" href="#PA:563"><span class="id" title="binder">PA</span></a> <a id="s<sub>1</sub>:564" class="idref" href="#s<sub>1</sub>:564"><span class="id" title="binder">s<sub>1</sub></span></a> <a id="s<sub>2</sub>:565" class="idref" href="#s<sub>2</sub>:565"><span class="id" title="binder">s<sub>2</sub></span></a> <a id="a<sub>1</sub>:566" class="idref" href="#a<sub>1</sub>:566"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:567" class="idref" href="#a<sub>2</sub>:567"><span class="id" title="binder">a<sub>2</sub></span></a> <a id="b:568" class="idref" href="#b:568"><span class="id" title="binder">b</span></a> <a id="ds<sub>1</sub>:569" class="idref" href="#ds<sub>1</sub>:569"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="ds<sub>2</sub>:570" class="idref" href="#ds<sub>2</sub>:570"><span class="id" title="binder">ds<sub>2</sub></span></a> <a id="c:571" class="idref" href="#c:571"><span class="id" title="binder">c</span></a> <a id="st<sub>1</sub>:572" class="idref" href="#st<sub>1</sub>:572"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:573" class="idref" href="#st<sub>2</sub>:573"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="ast1:574" class="idref" href="#ast1:574"><span class="id" title="binder">ast1</span></a> <a id="ast2:575" class="idref" href="#ast2:575"><span class="id" title="binder">ast2</span></a> <a id="b<sub>1</sub>:576" class="idref" href="#b<sub>1</sub>:576"><span class="id" title="binder">b<sub>1</sub></span></a> <a id="b<sub>2</sub>:577" class="idref" href="#b<sub>2</sub>:577"><span class="id" title="binder">b<sub>2</sub></span></a> <a id="os<sub>1</sub>:578" class="idref" href="#os<sub>1</sub>:578"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:579" class="idref" href="#os<sub>2</sub>:579"><span class="id" title="binder">os<sub>2</sub></span></a> <a id="ds<sub>1</sub>':580" class="idref" href="#ds<sub>1</sub>':580"><span class="id" title="binder">ds<sub>1</sub>'</span></a> <a id="ds<sub>2</sub>':581" class="idref" href="#ds<sub>2</sub>':581"><span class="id" title="binder">ds<sub>2</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#ds<sub>2</sub>:570"><span class="id" title="variable">ds<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>':581"><span class="id" title="variable">ds<sub>2</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:569"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>':580"><span class="id" title="variable">ds<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:562"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:563"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:571"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:562"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:564"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:565"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#b:568"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:563"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>:566"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>:567"><span class="id" title="variable">a<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:562"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s<sub>1</sub>:564"><span class="id" title="variable">s<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>:566"><span class="id" title="variable">a<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:568"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:569"><span class="id" title="variable">ds<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:571"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>:572"><span class="id" title="variable">st<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast1:574"><span class="id" title="variable">ast1</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>1</sub>:576"><span class="id" title="variable">b<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:578"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a>  <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:562"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s<sub>2</sub>:565"><span class="id" title="variable">s<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>:567"><span class="id" title="variable">a<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:568"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:570"><span class="id" title="variable">ds<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:571"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>:573"><span class="id" title="variable">st<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast2:575"><span class="id" title="variable">ast2</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>2</sub>:577"><span class="id" title="variable">b<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:579"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#ds<sub>1</sub>:569"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:570"><span class="id" title="variable">ds<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>':580"><span class="id" title="variable">ds<sub>1</sub>'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>':581"><span class="id" title="variable">ds<sub>2</sub>'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">s<sub>1</sub></span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">b</span> <span class="id" title="var">ds<sub>1</sub></span> <span class="id" title="var">ds<sub>2</sub></span> <span class="id" title="var">c</span> <span class="id" title="var">st<sub>1</sub></span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">ast1</span> <span class="id" title="var">ast2</span> <span class="id" title="var">b<sub>1</sub></span> <span class="id" title="var">b<sub>2</sub></span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span> <span class="id" title="var">ds<sub>1</sub>'</span> <span class="id" title="var">ds<sub>2</sub>'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hds</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hds</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#app_eq_prefix"><span class="id" title="lemma">app_eq_prefix</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#ct_well_typed_ideal_noninterferent_general"><span class="id" title="lemma">ct_well_typed_ideal_noninterferent_general</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ | | | | <span class="id" title="tactic">apply</span> <span class="id" title="var">Heval1</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Heval2</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">_</span> [ <span class="id" title="var">_</span> [ <span class="id" title="var">_</span> <span class="id" title="var">H</span>] ] ]. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_inv_head"><span class="id" title="lemma">app_inv_head</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="ideal_spec_ct_secure" class="idref" href="#ideal_spec_ct_secure"><span class="id" title="lemma">ideal_spec_ct_secure</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:582" class="idref" href="#P:582"><span class="id" title="binder">P</span></a> <a id="PA:583" class="idref" href="#PA:583"><span class="id" title="binder">PA</span></a> <a id="c:584" class="idref" href="#c:584"><span class="id" title="binder">c</span></a> <a id="s<sub>1</sub>:585" class="idref" href="#s<sub>1</sub>:585"><span class="id" title="binder">s<sub>1</sub></span></a> <a id="s<sub>2</sub>:586" class="idref" href="#s<sub>2</sub>:586"><span class="id" title="binder">s<sub>2</sub></span></a> <a id="a<sub>1</sub>:587" class="idref" href="#a<sub>1</sub>:587"><span class="id" title="binder">a<sub>1</sub></span></a> <a id="a<sub>2</sub>:588" class="idref" href="#a<sub>2</sub>:588"><span class="id" title="binder">a<sub>2</sub></span></a> <a id="b:589" class="idref" href="#b:589"><span class="id" title="binder">b</span></a> <a id="s<sub>1</sub>':590" class="idref" href="#s<sub>1</sub>':590"><span class="id" title="binder">s<sub>1</sub>'</span></a> <a id="s<sub>2</sub>':591" class="idref" href="#s<sub>2</sub>':591"><span class="id" title="binder">s<sub>2</sub>'</span></a> <a id="a<sub>1</sub>':592" class="idref" href="#a<sub>1</sub>':592"><span class="id" title="binder">a<sub>1</sub>'</span></a> <a id="a<sub>2</sub>':593" class="idref" href="#a<sub>2</sub>':593"><span class="id" title="binder">a<sub>2</sub>'</span></a> <a id="b<sub>1</sub>':594" class="idref" href="#b<sub>1</sub>':594"><span class="id" title="binder">b<sub>1</sub>'</span></a> <a id="b<sub>2</sub>':595" class="idref" href="#b<sub>2</sub>':595"><span class="id" title="binder">b<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:596" class="idref" href="#os<sub>1</sub>:596"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:597" class="idref" href="#os<sub>2</sub>:597"><span class="id" title="binder">os<sub>2</sub></span></a> <a id="ds:598" class="idref" href="#ds:598"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:582"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:583"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:584"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:582"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:585"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:586"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#b:589"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:583"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>:587"><span class="id" title="variable">a<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>:588"><span class="id" title="variable">a<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:582"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s<sub>1</sub>:585"><span class="id" title="variable">s<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>:587"><span class="id" title="variable">a<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:589"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:598"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:584"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s<sub>1</sub>':590"><span class="id" title="variable">s<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a<sub>1</sub>':592"><span class="id" title="variable">a<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>1</sub>':594"><span class="id" title="variable">b<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:596"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:582"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s<sub>2</sub>:586"><span class="id" title="variable">s<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>:588"><span class="id" title="variable">a<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:589"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:598"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:584"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s<sub>2</sub>':591"><span class="id" title="variable">s<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a<sub>2</sub>':593"><span class="id" title="variable">a<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>2</sub>':595"><span class="id" title="variable">b<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:597"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#os<sub>1</sub>:596"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:597"><span class="id" title="variable">os<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span> <span class="id" title="var">s<sub>1</sub></span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">b</span> <span class="id" title="var">s<sub>1</sub>'</span> <span class="id" title="var">s<sub>2</sub>'</span> <span class="id" title="var">a<sub>1</sub>'</span> <span class="id" title="var">a<sub>2</sub>'</span> <span class="id" title="var">b<sub>1</sub>'</span> <span class="id" title="var">b<sub>2</sub>'</span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span> <span class="id" title="var">ds</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hwt</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">s<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">s<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">a<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">a<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">os<sub>2</sub></span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">b<sub>2</sub>'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heval1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">b<sub>2</sub>'</span> <span class="id" title="var">os<sub>2</sub>'</span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">Haeq</span> <span class="id" title="var">a<sub>2</sub>'</span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">Heq</span> <span class="id" title="var">s<sub>2</sub>'</span> <span class="id" title="var">Heval2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwt</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Skip&nbsp;*)</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Skip&nbsp;*)</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Seq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#aux"><span class="id" title="lemma">aux</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>1</sub></span>; [| | | | <span class="id" title="tactic">apply</span> <span class="id" title="var">Heval1_1</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">H<sub>5</sub></span> ]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H<sub>1</sub></span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H<sub>1</sub></span> <span class="id" title="var">H<sub>1</sub>'</span>]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NI<sub>1</sub></span> : <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <span class="id" title="var">P</span> <span class="id" title="var">st'</span> <span class="id" title="var">st'0</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">b'</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">b'0</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="var">b'</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <span class="id" title="var">PA</span> <span class="id" title="var">ast'</span> <span class="id" title="var">ast'0</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#ct_well_typed_ideal_noninterferent"><span class="id" title="lemma">ct_well_typed_ideal_noninterferent</span></a>; [ | | | <span class="id" title="var">eassumption</span> | <span class="id" title="var">eassumption</span>]; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">NI<sub>1</sub></span> <span class="id" title="keyword">as</span> [<span class="id" title="var">NI1eq</span> [<span class="id" title="var">NIb</span> <span class="id" title="var">NIaeq</span>] ]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">IHHeval1_2</span>; [<span class="id" title="var">erewrite</span> <span class="id" title="var">IHHeval1_1</span> | | | |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;If&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>); <span class="id" title="var">eassumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a> <span class="id" title="var">Heq</span> <span class="id" title="var">H<sub>14</sub></span>); <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;If_F&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>); <span class="id" title="var">eassumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">discriminate</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">erewrite</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;While&nbsp;*)</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ARead&nbsp;*)</span> <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ARead_U&nbsp;*)</span> <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;AWrite&nbsp;*)</span> <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;AWrite&nbsp;*)</span> <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_aexp"><span class="id" title="lemma">noninterferent_aexp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab63"></a><h2 class="section">Correctness of sel_slh as a compiler from ideal to speculative semantics</h2>

<div class="paragraph"> </div>

 We now prove that the ideal semantics correctly captures the programs
    produced by <span class="inlinecode"><span class="id" title="var">sel_slh</span></span> when executed using the speculative semantics. We
    phrase this as a backwards compiler correctness proof for <span class="inlinecode"><span class="id" title="var">sel_slh</span></span>. 
<div class="paragraph"> </div>

 All results about <span class="inlinecode"><span class="id" title="var">sel_slh</span></span> below assume that the original <span class="inlinecode"><span class="id" title="var">c</span></span> doesn't
    already use the variable <span class="inlinecode"><span class="id" title="var">msf</span></span> needed by the <span class="inlinecode"><span class="id" title="var">sel_slh</span></span> translation. 
</div>
<div class="code">

<span class="id" title="keyword">Fixpoint</span> <a id="a_unused" class="idref" href="#a_unused"><span class="id" title="definition">a_unused</span></a> (<a id="x:599" class="idref" href="#x:599"><span class="id" title="binder">x</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="a:600" class="idref" href="#a:600"><span class="id" title="binder">a</span></a>:<a class="idref" href="SpecCT.html#aexp"><span class="id" title="inductive">aexp</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#a:600"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n</span>      ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#AId"><span class="id" title="constructor">AId</span></a> <span class="id" title="var">y</span>       ⇒ <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="SpecCT.html#x:599"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a<sub>1</sub></span> <span class="id" title="var">a<sub>2</sub></span> ⇒ <a class="idref" href="SpecCT.html#a_unused:601"><span class="id" title="definition">a_unused</span></a> <a class="idref" href="SpecCT.html#x:599"><span class="id" title="variable">x</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#a_unused:601"><span class="id" title="definition">a_unused</span></a> <a class="idref" href="SpecCT.html#x:599"><span class="id" title="variable">x</span></a> <span class="id" title="var">a<sub>2</sub></span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><span class="id" title="var">b</span> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> <span class="id" title="var">a<sub>2</sub></span><a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#a_unused:601"><span class="id" title="definition">a_unused</span></a> <a class="idref" href="SpecCT.html#x:599"><span class="id" title="variable">x</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#a_unused:601"><span class="id" title="definition">a_unused</span></a> <a class="idref" href="SpecCT.html#x:599"><span class="id" title="variable">x</span></a> <span class="id" title="var">a<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#a_unused:601"><span class="id" title="definition">a_unused</span></a> <a class="idref" href="SpecCT.html#x:599"><span class="id" title="variable">x</span></a> <span class="id" title="var">a<sub>2</sub></span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a id="unused" class="idref" href="#unused"><span class="id" title="definition">unused</span></a> (<a id="x:603" class="idref" href="#x:603"><span class="id" title="binder">x</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="c:604" class="idref" href="#c:604"><span class="id" title="binder">c</span></a>:<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#c:604"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">y</span> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">e</span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="SpecCT.html#x:603"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#a_unused"><span class="id" title="definition">a_unused</span></a> <a class="idref" href="SpecCT.html#x:603"><span class="id" title="variable">x</span></a> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">c<sub>1</sub></span><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#unused:605"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#x:603"><span class="id" title="variable">x</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#unused:605"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#x:603"><span class="id" title="variable">x</span></a> <span class="id" title="var">c<sub>2</sub></span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#a_unused"><span class="id" title="definition">a_unused</span></a> <a class="idref" href="SpecCT.html#x:603"><span class="id" title="variable">x</span></a> <span class="id" title="var">be</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#unused:605"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#x:603"><span class="id" title="variable">x</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#unused:605"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#x:603"><span class="id" title="variable">x</span></a> <span class="id" title="var">c<sub>2</sub></span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#a_unused"><span class="id" title="definition">a_unused</span></a> <a class="idref" href="SpecCT.html#x:603"><span class="id" title="variable">x</span></a> <span class="id" title="var">be</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#unused:605"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#x:603"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#c:604"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">y</span> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">a</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><span class="id" title="var">i</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="SpecCT.html#x:603"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#a_unused"><span class="id" title="definition">a_unused</span></a> <a class="idref" href="SpecCT.html#x:603"><span class="id" title="variable">x</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">a</span><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><span class="id" title="var">i</span><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">e</span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#a_unused"><span class="id" title="definition">a_unused</span></a> <a class="idref" href="SpecCT.html#x:603"><span class="id" title="variable">x</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#a_unused"><span class="id" title="definition">a_unused</span></a> <a class="idref" href="SpecCT.html#x:603"><span class="id" title="variable">x</span></a> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
As a warm-up we prove that <span class="inlinecode"><span class="id" title="var">sel_slh</span></span> properly updates the variable msf. 
<div class="paragraph"> </div>

 Proving this by induction on <span class="inlinecode"><span class="id" title="var">com</span></span> or <span class="inlinecode"><span class="id" title="var">spec_eval</span></span> leads to induction
    hypotheses, that are not strong enough to prove the <span class="inlinecode"><span class="id" title="var">While</span></span> or <span class="inlinecode"><span class="id" title="var">Spec_While</span></span>
    case. Therefore we will prove it by induction on the <span class="inlinecode"><span class="id" title="var">size</span></span>
    of a the pair of the <span class="inlinecode">(<span class="id" title="var">c</span>:<span class="id" title="var">com</span>)</span> and the <span class="inlinecode">(<span class="id" title="var">ds</span>:<span class="id" title="var">dirs</span>)</span>. 
</div>
<div class="code">

<span class="id" title="keyword">Fixpoint</span> <a id="com_size" class="idref" href="#com_size"><span class="id" title="definition">com_size</span></a> (<a id="c:607" class="idref" href="#c:607"><span class="id" title="binder">c</span></a> :<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) :<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#c:607"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <span class="id" title="var">c<sub>1</sub></span><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ 1 <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#com_size:608"><span class="id" title="definition">com_size</span></a> <span class="id" title="var">c<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#com_size:608"><span class="id" title="definition">com_size</span></a> <span class="id" title="var">c<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;For&nbsp;conditionals&nbsp;the&nbsp;maximum&nbsp;of&nbsp;both&nbsp;branches&nbsp;is&nbsp;tighter,&nbsp;but&nbsp;a<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;looser&nbsp;bound&nbsp;based&nbsp;on&nbsp;blindly&nbsp;"counting&nbsp;all&nbsp;constructors"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(commented&nbsp;here)&nbsp;works&nbsp;just&nbsp;as&nbsp;well,&nbsp;and&nbsp;is&nbsp;easier&nbsp;to&nbsp;explain&nbsp;on<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paper&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="id" title="var">ct</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <span class="id" title="var">cf</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ 1 <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.max"><span class="id" title="definition">max</span></a> (<a class="idref" href="SpecCT.html#com_size:608"><span class="id" title="definition">com_size</span></a> <span class="id" title="var">ct</span>) (<a class="idref" href="SpecCT.html#com_size:608"><span class="id" title="definition">com_size</span></a> <span class="id" title="var">cf</span>)<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;|&nbsp;&lt;<span style='letter-spacing:-.4em;'>{</span>{&nbsp;if&nbsp;be&nbsp;then&nbsp;ct&nbsp;else&nbsp;cf&nbsp;end&nbsp;<span style='letter-spacing:-.4em;'>}</span>}&gt;&nbsp;=&gt;&nbsp;1&nbsp;+&nbsp;(com_size&nbsp;ct)&nbsp;+&nbsp;(com_size&nbsp;cf)&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">cw</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ 1 <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#com_size:608"><span class="id" title="definition">com_size</span></a> <span class="id" title="var">cw</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ 1<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span>  ⇒ 1<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="size" class="idref" href="#size"><span class="id" title="definition">size</span></a> (<a id="c:610" class="idref" href="#c:610"><span class="id" title="binder">c</span></a> :<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) (<a id="ds:611" class="idref" href="#ds:611"><span class="id" title="binder">ds</span></a> :<a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>) :<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> := <a class="idref" href="SpecCT.html#com_size"><span class="id" title="definition">com_size</span></a> <a class="idref" href="SpecCT.html#c:610"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="SpecCT.html#ds:611"><span class="id" title="variable">ds</span></a>.<br/>
</div>

<div class="doc">
The induction principle on <span class="inlinecode"><span class="id" title="var">size</span></span> 
</div>
<div class="code">

<span class="id" title="keyword">Check</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.measure_induction"><span class="id" title="lemma">measure_induction</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="size_ind" class="idref" href="#size_ind"><span class="id" title="lemma">size_ind</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:612" class="idref" href="#P:612"><span class="id" title="binder">P</span></a> : <a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="c:613" class="idref" href="#c:613"><span class="id" title="binder">c</span></a> <a id="ds:614" class="idref" href="#ds:614"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a> <span class="id" title="keyword">∀</span> <a id="c':615" class="idref" href="#c':615"><span class="id" title="binder">c'</span></a> <a id="ds':616" class="idref" href="#ds':616"><span class="id" title="binder">ds'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="SpecCT.html#c':615"><span class="id" title="variable">c'</span></a> <a class="idref" href="SpecCT.html#ds':616"><span class="id" title="variable">ds'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="SpecCT.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="SpecCT.html#c:613"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#ds:614"><span class="id" title="variable">ds</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:612"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c':615"><span class="id" title="variable">c'</span></a> <a class="idref" href="SpecCT.html#ds':616"><span class="id" title="variable">ds'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#P:612"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c:613"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#ds:614"><span class="id" title="variable">ds</span></a>  <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="c:617" class="idref" href="#c:617"><span class="id" title="binder">c</span></a> <a id="ds:618" class="idref" href="#ds:618"><span class="id" title="binder">ds</span></a>, <a class="idref" href="SpecCT.html#P:612"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c:617"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#ds:618"><span class="id" title="variable">ds</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="keyword">fun</span> <a id="c_ds:619" class="idref" href="#c_ds:619"><span class="id" title="binder"><span id="c_ds:620" class="id">c_ds</span></span></a> ⇒ <span class="id" title="var">P</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="SpecCT.html#c_ds:619"><span class="id" title="variable">c_ds</span></a>) (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="SpecCT.html#c_ds:619"><span class="id" title="variable">c_ds</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">P'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">P</span> <span class="id" title="var">c</span> <span class="id" title="var">ds</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">P'</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqP'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.measure_induction"><span class="id" title="lemma">measure_induction</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span>:=<span class="id" title="keyword">fun</span> <a id="c_ds:621" class="idref" href="#c_ds:621"><span class="id" title="binder"><span id="c_ds:622" class="id">c_ds</span></span></a> ⇒ <a class="idref" href="SpecCT.html#size"><span class="id" title="definition">size</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="SpecCT.html#c_ds:621"><span class="id" title="variable">c_ds</span></a>) (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="SpecCT.html#c_ds:621"><span class="id" title="variable">c_ds</span></a>)). <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqP'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">c_ds'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">P</span> <span class="id" title="var">c'</span> <span class="id" title="var">ds'</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">P'</span> <span class="id" title="var">c_ds'</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqc_ds'</span>, <span class="id" title="var">HeqP'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H<sub>0</sub></span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqc_ds'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
The proof of <span class="inlinecode"><span class="id" title="var">sel_slh_flag</span></span> 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="size_monotonic" class="idref" href="#size_monotonic"><span class="id" title="lemma">size_monotonic</span></a>: <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:623" class="idref" href="#c<sub>1</sub>:623"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="ds<sub>1</sub>:624" class="idref" href="#ds<sub>1</sub>:624"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="c<sub>2</sub>:625" class="idref" href="#c<sub>2</sub>:625"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="ds<sub>2</sub>:626" class="idref" href="#ds<sub>2</sub>:626"><span class="id" title="binder">ds<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#com_size"><span class="id" title="definition">com_size</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:623"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="SpecCT.html#com_size"><span class="id" title="definition">com_size</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:625"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:624"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:626"><span class="id" title="variable">ds<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#com_size"><span class="id" title="definition">com_size</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:623"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="SpecCT.html#com_size"><span class="id" title="definition">com_size</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:625"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:624"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:626"><span class="id" title="variable">ds<sub>2</sub></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:623"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:624"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="SpecCT.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:625"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:626"><span class="id" title="variable">ds<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="var">ds<sub>1</sub></span> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="var">ds<sub>2</sub></span> [ [<span class="id" title="var">Hcom</span> <span class="id" title="var">Hdir</span>] | [<span class="id" title="var">Hcom</span> <span class="id" title="var">Hdir</span>] ];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#size"><span class="id" title="definition">size</span></a>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Based on the Lemma <span class="inlinecode"><span class="id" title="var">size_monotonic</span></span> we can build a tactic to solve
    the subgoals in the form of <span class="inlinecode"><span class="id" title="var">size</span></span> <span class="inlinecode"><span class="id" title="var">c'</span></span> <span class="inlinecode"><span class="id" title="var">ds'</span></span> <span class="inlinecode">&lt;</span> <span class="inlinecode"><span class="id" title="var">size</span></span> <span class="inlinecode"><span class="id" title="var">c</span></span> <span class="inlinecode"><span class="id" title="var">ds</span></span>,
    which will be produced by <span class="inlinecode"><span class="id" title="var">size_ind</span></span>.
</div>
<div class="code">

<span class="id" title="keyword">Ltac</span> <span class="id" title="var">size_auto</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> ( <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#size_monotonic"><span class="id" title="lemma">size_monotonic</span></a>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>]; <span class="id" title="var">lia</span> );<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> ( <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#size_monotonic"><span class="id" title="lemma">size_monotonic</span></a>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>]; <span class="id" title="var">lia</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> ( <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#size_monotonic"><span class="id" title="lemma">size_monotonic</span></a>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">auto</span> | <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>; <span class="id" title="var">lia</span>] ).<br/>
</div>

<div class="doc">
To properly apply <span class="inlinecode"><span class="id" title="var">size_ind</span></span>, we need to state <span class="inlinecode"><span class="id" title="var">sel_slh_flag</span></span>
    as a proposition of type <span class="inlinecode"><span class="id" title="var">com</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">dirs</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>. Therefore we define the
    following: 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="sel_slh_flag_prop" class="idref" href="#sel_slh_flag_prop"><span class="id" title="definition">sel_slh_flag_prop</span></a> (<a id="c:627" class="idref" href="#c:627"><span class="id" title="binder">c</span></a> :<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) (<a id="ds:628" class="idref" href="#ds:628"><span class="id" title="binder">ds</span></a> :<a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>) :<span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:629" class="idref" href="#P:629"><span class="id" title="binder">P</span></a> <a id="st:630" class="idref" href="#st:630"><span class="id" title="binder">st</span></a> <a id="ast:631" class="idref" href="#ast:631"><span class="id" title="binder">ast</span></a> (<a id="b:632" class="idref" href="#b:632"><span class="id" title="binder">b</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="st':633" class="idref" href="#st':633"><span class="id" title="binder">st'</span></a> <a id="ast':634" class="idref" href="#ast':634"><span class="id" title="binder">ast'</span></a> (<a id="b':635" class="idref" href="#b':635"><span class="id" title="binder">b'</span></a>:<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="os:636" class="idref" href="#os:636"><span class="id" title="binder">os</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#c:627"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#st:630"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#b:632"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:630"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:631"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:632"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:628"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:629"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c:627"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':633"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':634"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':635"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:636"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#st':633"><span class="id" title="variable">st'</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#b':635"><span class="id" title="variable">b'</span></a> <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="sel_slh_flag" class="idref" href="#sel_slh_flag"><span class="id" title="lemma">sel_slh_flag</span></a> : <span class="id" title="keyword">∀</span> <a id="c:637" class="idref" href="#c:637"><span class="id" title="binder">c</span></a> <a id="ds:638" class="idref" href="#ds:638"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#sel_slh_flag_prop"><span class="id" title="definition">sel_slh_flag_prop</span></a> <a class="idref" href="SpecCT.html#c:637"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#ds:638"><span class="id" title="variable">ds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#size_ind"><span class="id" title="lemma">size_ind</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#sel_slh_flag_prop"><span class="id" title="definition">sel_slh_flag_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">ds</span> <span class="id" title="var">IH</span> <span class="id" title="var">P</span> <span class="id" title="var">st</span> <span class="id" title="var">ast</span> <span class="id" title="var">b</span> <span class="id" title="var">st'</span> <span class="id" title="var">ast'</span> <span class="id" title="var">b'</span> <span class="id" title="var">os</span> <span class="id" title="var">Hunused</span> <span class="id" title="var">Hstb</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">try</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Asgn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Seq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>. <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;IF&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Spec_If&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">size_auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="comment">(*&nbsp;analog&nbsp;to&nbsp;true&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">size_auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">tauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Spec_If_F;&nbsp;analog&nbsp;to&nbsp;Spec_If&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">size_auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">size_auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;While&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;non-speculative&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>, <span class="id" title="var">Eqnbe</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hwhile</span>: <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> (<span class="id" title="var">ds<sub>0</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <span class="id" title="var">ds<sub>2</sub></span>)%<span class="id" title="var">list</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <span class="id" title="var">P</span> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> (<span class="id" title="var">os<sub>3</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><span class="id" title="var">os<sub>2</sub></span>)%<span class="id" title="var">list</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a>; <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hwhile</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">size_auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> <span class="id" title="var">Hwhile</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>2</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>2</sub></span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>, <span class="id" title="var">Eqnbe</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;speculative;&nbsp;analog&nbsp;to&nbsp;non_speculative&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hwhile</span>: <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> (<span class="id" title="var">ds<sub>0</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <span class="id" title="var">ds<sub>2</sub></span>)%<span class="id" title="var">list</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a><a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <span class="id" title="var">P</span> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> (<span class="id" title="var">os<sub>3</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><span class="id" title="var">os<sub>2</sub></span>)%<span class="id" title="var">list</span> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a>; <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hwhile</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">size_auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> <span class="id" title="var">Hwhile</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>2</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>2</sub></span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>, <span class="id" title="var">Eqnbe</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>, <span class="id" title="var">Eqnbe</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ARead&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; [<span class="id" title="tactic">assumption</span>| <span class="id" title="tactic">tauto</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; [<span class="id" title="tactic">assumption</span>| <span class="id" title="tactic">tauto</span>]).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
We need a few more lemmas before we prove backwards compiler correctness 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="aeval_unused_update" class="idref" href="#aeval_unused_update"><span class="id" title="lemma">aeval_unused_update</span></a> : <span class="id" title="keyword">∀</span> <a id="X:639" class="idref" href="#X:639"><span class="id" title="binder">X</span></a> <a id="st:640" class="idref" href="#st:640"><span class="id" title="binder">st</span></a> <a id="n:641" class="idref" href="#n:641"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <a id="ae:642" class="idref" href="#ae:642"><span class="id" title="binder">ae</span></a>, <a class="idref" href="SpecCT.html#a_unused"><span class="id" title="definition">a_unused</span></a> <a class="idref" href="SpecCT.html#X:639"><span class="id" title="variable">X</span></a> <a class="idref" href="SpecCT.html#ae:642"><span class="id" title="variable">ae</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> (<a class="idref" href="SpecCT.html#X:639"><span class="id" title="variable">X</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:641"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:640"><span class="id" title="variable">st</span></a>) <a class="idref" href="SpecCT.html#ae:642"><span class="id" title="variable">ae</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <a class="idref" href="SpecCT.html#st:640"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ae:642"><span class="id" title="variable">ae</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">st</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">ae</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHae1</span>; [| <span class="id" title="tactic">tauto</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHae2</span>; [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H<sub>0</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHae1</span>, <span class="id" title="var">IHae2</span>, <span class="id" title="var">IHae3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="ideal_unused_overwrite" class="idref" href="#ideal_unused_overwrite"><span class="id" title="lemma">ideal_unused_overwrite</span></a>: <span class="id" title="keyword">∀</span> <a id="P:643" class="idref" href="#P:643"><span class="id" title="binder">P</span></a> <a id="st:644" class="idref" href="#st:644"><span class="id" title="binder">st</span></a> <a id="ast:645" class="idref" href="#ast:645"><span class="id" title="binder">ast</span></a> <a id="b:646" class="idref" href="#b:646"><span class="id" title="binder">b</span></a> <a id="ds:647" class="idref" href="#ds:647"><span class="id" title="binder">ds</span></a> <a id="c:648" class="idref" href="#c:648"><span class="id" title="binder">c</span></a> <a id="st':649" class="idref" href="#st':649"><span class="id" title="binder">st'</span></a> <a id="ast':650" class="idref" href="#ast':650"><span class="id" title="binder">ast'</span></a> <a id="b':651" class="idref" href="#b':651"><span class="id" title="binder">b'</span></a> <a id="os:652" class="idref" href="#os:652"><span class="id" title="binder">os</span></a> <a id="X:653" class="idref" href="#X:653"><span class="id" title="binder">X</span></a> <a id="n:654" class="idref" href="#n:654"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#X:653"><span class="id" title="variable">X</span></a> <a class="idref" href="SpecCT.html#c:648"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:643"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:644"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:645"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:646"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:647"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:648"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':649"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':650"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':651"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:652"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:643"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#X:653"><span class="id" title="variable">X</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:654"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:644"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:645"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:646"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:647"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:648"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#X:653"><span class="id" title="variable">X</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:654"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st':649"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':650"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':651"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:652"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">st</span> <span class="id" title="var">ast</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">c</span> <span class="id" title="var">st'</span> <span class="id" title="var">ast'</span> <span class="id" title="var">b'</span> <span class="id" title="var">os</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span> <span class="id" title="var">Hu</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Skip&nbsp;*)</span> <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Asgn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_permute</span>; [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#aeval_unused_update"><span class="id" title="lemma">aeval_unused_update</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Seq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHideal_eval1</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHideal_eval2</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;If&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="SpecCT.html#aeval_unused_update"><span class="id" title="lemma">aeval_unused_update</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">n</span>:=<span class="id" title="var">n</span>); [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#aeval_unused_update"><span class="id" title="lemma">aeval_unused_update</span></a>; [ | <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">D</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHideal_eval</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;If_F&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="SpecCT.html#aeval_unused_update"><span class="id" title="lemma">aeval_unused_update</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">n</span>:=<span class="id" title="var">n</span>); [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#aeval_unused_update"><span class="id" title="lemma">aeval_unused_update</span></a>; [ | <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">D</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHideal_eval</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;While&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHideal_eval</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ARead&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_permute</span>; [| <span class="id" title="tactic">tauto</span>]. <span class="id" title="tactic">econstructor</span>; [ | <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#aeval_unused_update"><span class="id" title="lemma">aeval_unused_update</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ARead_U&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_permute</span>; [| <span class="id" title="tactic">tauto</span>]. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#aeval_unused_update"><span class="id" title="lemma">aeval_unused_update</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;AWrite&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#aeval_unused_update"><span class="id" title="lemma">aeval_unused_update</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#aeval_unused_update"><span class="id" title="lemma">aeval_unused_update</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;AWrite_U&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#aeval_unused_update"><span class="id" title="lemma">aeval_unused_update</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#aeval_unused_update"><span class="id" title="lemma">aeval_unused_update</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="ideal_unused_update" class="idref" href="#ideal_unused_update"><span class="id" title="lemma">ideal_unused_update</span></a> : <span class="id" title="keyword">∀</span> <a id="P:655" class="idref" href="#P:655"><span class="id" title="binder">P</span></a> <a id="st:656" class="idref" href="#st:656"><span class="id" title="binder">st</span></a> <a id="ast:657" class="idref" href="#ast:657"><span class="id" title="binder">ast</span></a> <a id="b:658" class="idref" href="#b:658"><span class="id" title="binder">b</span></a> <a id="ds:659" class="idref" href="#ds:659"><span class="id" title="binder">ds</span></a> <a id="c:660" class="idref" href="#c:660"><span class="id" title="binder">c</span></a> <a id="st':661" class="idref" href="#st':661"><span class="id" title="binder">st'</span></a> <a id="ast':662" class="idref" href="#ast':662"><span class="id" title="binder">ast'</span></a> <a id="b':663" class="idref" href="#b':663"><span class="id" title="binder">b'</span></a> <a id="os:664" class="idref" href="#os:664"><span class="id" title="binder">os</span></a> <a id="X:665" class="idref" href="#X:665"><span class="id" title="binder">X</span></a> <a id="n:666" class="idref" href="#n:666"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#X:665"><span class="id" title="variable">X</span></a> <a class="idref" href="SpecCT.html#c:660"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:655"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#X:665"><span class="id" title="variable">X</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:666"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:656"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:657"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:658"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:659"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:660"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#X:665"><span class="id" title="variable">X</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:666"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st':661"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':662"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':663"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:664"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:655"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:656"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:657"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:658"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:659"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:660"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#X:665"><span class="id" title="variable">X</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#st:656"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#X:665"><span class="id" title="variable">X</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st':661"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':662"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':663"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:664"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">st</span> <span class="id" title="var">ast</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">c</span> <span class="id" title="var">st'</span> <span class="id" title="var">ast'</span> <span class="id" title="var">b'</span> <span class="id" title="var">os</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span> <span class="id" title="var">Hu</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#ideal_unused_overwrite"><span class="id" title="lemma">ideal_unused_overwrite</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">n</span>:=(<span class="id" title="var">st</span> <span class="id" title="var">X</span>)) <span class="id" title="keyword">in</span> <span class="id" title="var">Heval</span>; [| <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_shadow</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="ideal_unused_update_rev" class="idref" href="#ideal_unused_update_rev"><span class="id" title="lemma">ideal_unused_update_rev</span></a> : <span class="id" title="keyword">∀</span> <a id="P:667" class="idref" href="#P:667"><span class="id" title="binder">P</span></a> <a id="st:668" class="idref" href="#st:668"><span class="id" title="binder">st</span></a> <a id="ast:669" class="idref" href="#ast:669"><span class="id" title="binder">ast</span></a> <a id="b:670" class="idref" href="#b:670"><span class="id" title="binder">b</span></a> <a id="ds:671" class="idref" href="#ds:671"><span class="id" title="binder">ds</span></a> <a id="c:672" class="idref" href="#c:672"><span class="id" title="binder">c</span></a> <a id="st':673" class="idref" href="#st':673"><span class="id" title="binder">st'</span></a> <a id="ast':674" class="idref" href="#ast':674"><span class="id" title="binder">ast'</span></a> <a id="b':675" class="idref" href="#b':675"><span class="id" title="binder">b'</span></a> <a id="os:676" class="idref" href="#os:676"><span class="id" title="binder">os</span></a> <a id="X:677" class="idref" href="#X:677"><span class="id" title="binder">X</span></a> <a id="n:678" class="idref" href="#n:678"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#X:677"><span class="id" title="variable">X</span></a> <a class="idref" href="SpecCT.html#c:672"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:667"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:668"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:669"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:670"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:671"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:672"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#X:677"><span class="id" title="variable">X</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#st:668"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#X:677"><span class="id" title="variable">X</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st':673"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':674"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':675"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:676"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:667"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#X:677"><span class="id" title="variable">X</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:678"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:668"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:669"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:670"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:671"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:672"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#X:677"><span class="id" title="variable">X</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:678"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st':673"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':674"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':675"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:676"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">st</span> <span class="id" title="var">ast</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">c</span> <span class="id" title="var">st'</span> <span class="id" title="var">ast'</span> <span class="id" title="var">b'</span> <span class="id" title="var">os</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span> <span class="id" title="var">Hu</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#ideal_unused_overwrite"><span class="id" title="lemma">ideal_unused_overwrite</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_shadow</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Finally the backwards compiler correctness proof 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="sel_slh_ideal_prop" class="idref" href="#sel_slh_ideal_prop"><span class="id" title="definition">sel_slh_ideal_prop</span></a> (<a id="c:679" class="idref" href="#c:679"><span class="id" title="binder">c</span></a>: <a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) (<a id="ds:680" class="idref" href="#ds:680"><span class="id" title="binder">ds</span></a> :<a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>) :<span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:681" class="idref" href="#P:681"><span class="id" title="binder">P</span></a> <a id="st:682" class="idref" href="#st:682"><span class="id" title="binder">st</span></a> <a id="ast:683" class="idref" href="#ast:683"><span class="id" title="binder">ast</span></a> (<a id="b:684" class="idref" href="#b:684"><span class="id" title="binder">b</span></a>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="st':685" class="idref" href="#st':685"><span class="id" title="binder">st'</span></a> <a id="ast':686" class="idref" href="#ast':686"><span class="id" title="binder">ast'</span></a> <a id="b':687" class="idref" href="#b':687"><span class="id" title="binder">b'</span></a> <a id="os:688" class="idref" href="#os:688"><span class="id" title="binder">os</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#c:679"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#st:682"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#b:684"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:682"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:683"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:684"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:680"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:681"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c:679"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':685"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':686"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':687"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:688"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:681"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:682"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:683"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:684"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:680"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:679"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#st:682"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st':685"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':686"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':687"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:688"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#c9c46b7086132b0692eed0ee8e179392"><span class="id" title="notation">)&gt;</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="sel_slh_ideal" class="idref" href="#sel_slh_ideal"><span class="id" title="lemma">sel_slh_ideal</span></a> : <span class="id" title="keyword">∀</span> <a id="c:689" class="idref" href="#c:689"><span class="id" title="binder">c</span></a> <a id="ds:690" class="idref" href="#ds:690"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#sel_slh_ideal_prop"><span class="id" title="definition">sel_slh_ideal_prop</span></a> <a class="idref" href="SpecCT.html#c:689"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#ds:690"><span class="id" title="variable">ds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#size_ind"><span class="id" title="lemma">size_ind</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#sel_slh_ideal_prop"><span class="id" title="definition">sel_slh_ideal_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">ds</span> <span class="id" title="var">IH</span> <span class="id" title="var">P</span> <span class="id" title="var">st</span> <span class="id" title="var">ast</span> <span class="id" title="var">b</span> <span class="id" title="var">st'</span> <span class="id" title="var">ast'</span> <span class="id" title="var">b'</span> <span class="id" title="var">os</span> <span class="id" title="var">Hunused</span> <span class="id" title="var">Hstb</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heval</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">discriminate</span>).<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Skip&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_Skip"><span class="id" title="constructor">Ideal_Skip</span></a>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Asgn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_permute</span>; [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Seq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Ideal_Seq"><span class="id" title="constructor">Ideal_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#sel_slh_flag"><span class="id" title="lemma">sel_slh_flag</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>1</sub></span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hstb'0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#ideal_unused_update_rev"><span class="id" title="lemma">ideal_unused_update_rev</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;IF&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;non-speculative&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_If"><span class="id" title="constructor">Ideal_If</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;analog&nbsp;to&nbsp;false&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_If"><span class="id" title="constructor">Ideal_If</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;speculative&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_If_F"><span class="id" title="constructor">Ideal_If_F</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#ideal_unused_update"><span class="id" title="lemma">ideal_unused_update</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;analog&nbsp;to&nbsp;false&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_If_F"><span class="id" title="constructor">Ideal_If_F</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#ideal_unused_update"><span class="id" title="lemma">ideal_unused_update</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;While&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Ideal_While"><span class="id" title="constructor">Ideal_While</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;non-speculative&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Lnil</span>: <span class="id" title="var">os<sub>2</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">ds<sub>2</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Lnil</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_If"><span class="id" title="constructor">Ideal_If</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_Skip"><span class="id" title="constructor">Ideal_Skip</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>2</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>2</sub></span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hwhile</span>: <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds<sub>2</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <span class="id" title="var">P</span> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">os<sub>2</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">replace</span> <span class="id" title="var">ds<sub>2</sub></span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ds<sub>2</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)%<span class="id" title="var">list</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">os<sub>2</sub></span> <span class="id" title="keyword">with</span> (<span class="id" title="var">os<sub>2</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)%<span class="id" title="var">list</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a>; <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Ideal_Seq"><span class="id" title="constructor">Ideal_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">size_auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hwhile</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#ideal_unused_update_rev"><span class="id" title="lemma">ideal_unused_update_rev</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#sel_slh_flag"><span class="id" title="lemma">sel_slh_flag</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;speculative;&nbsp;analog&nbsp;to&nbsp;non_speculative&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Lnil</span>: <span class="id" title="var">os<sub>2</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">ds<sub>2</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Lnil</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_If_F"><span class="id" title="constructor">Ideal_If_F</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>2</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>2</sub></span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hwhile</span>: <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds<sub>2</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <span class="id" title="var">P</span> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">os<sub>2</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">replace</span> <span class="id" title="var">ds<sub>2</sub></span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ds<sub>2</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)%<span class="id" title="var">list</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">os<sub>2</sub></span> <span class="id" title="keyword">with</span> (<span class="id" title="var">os<sub>2</sub></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)%<span class="id" title="var">list</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a>; <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Ideal_Seq"><span class="id" title="constructor">Ideal_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#ideal_unused_update"><span class="id" title="lemma">ideal_unused_update</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>; [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">size_auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hwhile</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#ideal_unused_update_rev"><span class="id" title="lemma">ideal_unused_update_rev</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#sel_slh_flag"><span class="id" title="lemma">sel_slh_flag</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_shadow</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_Skip"><span class="id" title="constructor">Ideal_Skip</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;ARead&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Spec_ARead;&nbsp;public&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>0</sub></span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>0</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="comment">(*&nbsp;Ideal_ARead&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; [| <span class="id" title="tactic">tauto</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hstb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_shadow</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_permute</span>; [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hstb</span> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <span class="id" title="var">b'</span> <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> 1)%<span class="id" title="var">nat</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">b'</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">P</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<span class="id" title="keyword">if</span> <span class="id" title="var">b'</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0)) <span class="id" title="keyword">with</span> (<span class="id" title="var">b'</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">P</span> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">destruct</span> (<span class="id" title="var">b'</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">P</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Ideal_ARead"><span class="id" title="constructor">Ideal_ARead</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="comment">(*&nbsp;Ideal_ARead_U&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; [| <span class="id" title="tactic">tauto</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hstb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_shadow</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_permute</span>; [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hstb</span> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">x</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 0<span class="id" title="notation">;</span> <span class="id" title="var">st</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <span class="id" title="keyword">if</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="keyword">then</span> 0 <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">i'</span> (<span class="id" title="var">ast'</span> <span class="id" title="var">a'</span>) 0<span class="id" title="notation">;</span> <span class="id" title="var">st</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Ideal_ARead_U"><span class="id" title="constructor">Ideal_ARead_U</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Spec_ARead;&nbsp;secret*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_permute</span>; [| <span class="id" title="tactic">tauto</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">x</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">i</span>) (<span class="id" title="var">ast'</span> <span class="id" title="var">a</span>) 0<span class="id" title="notation">;</span> <span class="id" title="var">st</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <span class="id" title="keyword">if</span> <span class="id" title="var">b'</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="keyword">then</span> 0 <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">i</span>) (<span class="id" title="var">ast'</span> <span class="id" title="var">a</span>) 0<span class="id" title="notation">;</span> <span class="id" title="var">st</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b'</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Ideal_ARead"><span class="id" title="constructor">Ideal_ARead</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Spec_Read_U&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_permute</span>; [| <span class="id" title="tactic">tauto</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">x</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">i'</span> (<span class="id" title="var">ast'</span> <span class="id" title="var">a'</span>) 0<span class="id" title="notation">;</span> <span class="id" title="var">st</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <span class="id" title="keyword">if</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="keyword">then</span> 0 <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">i'</span> (<span class="id" title="var">ast'</span> <span class="id" title="var">a'</span>) 0<span class="id" title="notation">;</span> <span class="id" title="var">st</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Ideal_ARead_U"><span class="id" title="constructor">Ideal_ARead_U</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;AWrite&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Spec_Write&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_Write"><span class="id" title="constructor">Ideal_Write</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Spec_Write_U&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_Write_U"><span class="id" title="constructor">Ideal_Write_U</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab64"></a><h2 class="section">Speculative constant-time security for sel_slh</h2>

<div class="paragraph"> </div>

 Finally, we use this to prove spec_ct_secure for sel_slh. 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="sel_slh_spec_ct_secure" class="idref" href="#sel_slh_spec_ct_secure"><span class="id" title="lemma">sel_slh_spec_ct_secure</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:691" class="idref" href="#P:691"><span class="id" title="binder">P</span></a> <a id="PA:692" class="idref" href="#PA:692"><span class="id" title="binder">PA</span></a> <a id="c:693" class="idref" href="#c:693"><span class="id" title="binder">c</span></a> <a id="st<sub>1</sub>:694" class="idref" href="#st<sub>1</sub>:694"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:695" class="idref" href="#st<sub>2</sub>:695"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="ast1:696" class="idref" href="#ast1:696"><span class="id" title="binder">ast1</span></a> <a id="ast2:697" class="idref" href="#ast2:697"><span class="id" title="binder">ast2</span></a> <a id="st<sub>1</sub>':698" class="idref" href="#st<sub>1</sub>':698"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':699" class="idref" href="#st<sub>2</sub>':699"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="ast1':700" class="idref" href="#ast1':700"><span class="id" title="binder">ast1'</span></a> <a id="ast2':701" class="idref" href="#ast2':701"><span class="id" title="binder">ast2'</span></a> <a id="b<sub>1</sub>':702" class="idref" href="#b<sub>1</sub>':702"><span class="id" title="binder">b<sub>1</sub>'</span></a> <a id="b<sub>2</sub>':703" class="idref" href="#b<sub>2</sub>':703"><span class="id" title="binder">b<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:704" class="idref" href="#os<sub>1</sub>:704"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:705" class="idref" href="#os<sub>2</sub>:705"><span class="id" title="binder">os<sub>2</sub></span></a> <a id="ds:706" class="idref" href="#ds:706"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:691"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:692"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:693"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#c:693"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#st<sub>1</sub>:694"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#st<sub>2</sub>:695"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:691"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:694"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:695"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:692"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#ast1:696"><span class="id" title="variable">ast1</span></a> <a class="idref" href="SpecCT.html#ast2:697"><span class="id" title="variable">ast2</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>:694"><span class="id" title="variable">st<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast1:696"><span class="id" title="variable">ast1</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:706"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:691"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c:693"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>':698"><span class="id" title="variable">st<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast1':700"><span class="id" title="variable">ast1'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>1</sub>':702"><span class="id" title="variable">b<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:704"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>:695"><span class="id" title="variable">st<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast2:697"><span class="id" title="variable">ast2</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:706"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:691"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c:693"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>':699"><span class="id" title="variable">st<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast2':701"><span class="id" title="variable">ast2'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>2</sub>':703"><span class="id" title="variable">b<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:705"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#os<sub>1</sub>:704"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:705"><span class="id" title="variable">os<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span> <span class="id" title="var">st<sub>1</sub></span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">ast1</span> <span class="id" title="var">ast2</span> <span class="id" title="var">st<sub>1</sub>'</span> <span class="id" title="var">st<sub>2</sub>'</span> <span class="id" title="var">ast1'</span> <span class="id" title="var">ast2'</span> <span class="id" title="var">b<sub>1</sub>'</span> <span class="id" title="var">b<sub>2</sub>'</span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span> <span class="id" title="var">ds</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hwt</span> <span class="id" title="var">Hunused</span> <span class="id" title="var">Hs1b</span> <span class="id" title="var">Hs2b</span> <span class="id" title="var">Hequiv</span> <span class="id" title="var">Haequiv</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#sel_slh_ideal"><span class="id" title="lemma">sel_slh_ideal</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval1</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#sel_slh_ideal"><span class="id" title="lemma">sel_slh_ideal</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#ideal_spec_ct_secure"><span class="id" title="lemma">ideal_spec_ct_secure</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab65"></a><h1 class="section">Monadic interpreter for speculative semantics (optional)</h1>

</div>
<div class="code">

<span class="id" title="keyword">Module</span> <a id="SpecCTInterpreter" class="idref" href="#SpecCTInterpreter"><span class="id" title="module">SpecCTInterpreter</span></a>.<br/>
</div>

<div class="doc">
Since manually constructing directions for the proofs of examples is very
    time consuming, we introduce a sound monadic interpreter, which can be used
    to simplify the proofs of the examples. 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.prog_st" class="idref" href="#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a> : <span class="id" title="keyword">Type</span> :=  <a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="SpecCT.html#astate"><span class="id" title="definition">astate</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="SpecCTInterpreter.output_st" class="idref" href="#SpecCTInterpreter.output_st"><span class="id" title="definition, inductive"><span id="SpecCTInterpreter.output_st_rect" class="id"><span id="SpecCTInterpreter.output_st_ind" class="id"><span id="SpecCTInterpreter.output_st_rec" class="id"><span id="SpecCTInterpreter.output_st_sind" class="id">output_st</span></span></span></span></span></a> (<a id="A:707" class="idref" href="#A:707"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>): <span class="id" title="keyword">Type</span> :=<br/>
| <a id="SpecCTInterpreter.OST_Error" class="idref" href="#SpecCTInterpreter.OST_Error"><span class="id" title="constructor">OST_Error</span></a> : <a class="idref" href="SpecCT.html#output_st:708"><span class="id" title="inductive">output_st</span></a> <a class="idref" href="SpecCT.html#A:707"><span class="id" title="variable">A</span></a><br/>
| <a id="SpecCTInterpreter.OST_OutOfFuel" class="idref" href="#SpecCTInterpreter.OST_OutOfFuel"><span class="id" title="constructor">OST_OutOfFuel</span></a> : <a class="idref" href="SpecCT.html#output_st:708"><span class="id" title="inductive">output_st</span></a> <a class="idref" href="SpecCT.html#A:707"><span class="id" title="variable">A</span></a><br/>
| <a id="SpecCTInterpreter.OST_Finished" class="idref" href="#SpecCTInterpreter.OST_Finished"><span class="id" title="constructor">OST_Finished</span></a> : <a class="idref" href="SpecCT.html#A:707"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#output_st:708"><span class="id" title="inductive">output_st</span></a> <a class="idref" href="SpecCT.html#A:707"><span class="id" title="variable">A</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.evaluator" class="idref" href="#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> (<a id="A:710" class="idref" href="#A:710"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>): <span class="id" title="keyword">Type</span> := <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#SpecCTInterpreter.output_st"><span class="id" title="inductive">output_st</span></a> <a class="idref" href="SpecCT.html#A:710"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.interpreter" class="idref" href="#SpecCTInterpreter.interpreter"><span class="id" title="definition">interpreter</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.ret" class="idref" href="#SpecCTInterpreter.ret"><span class="id" title="definition">ret</span></a> {<a id="A:711" class="idref" href="#A:711"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="value:712" class="idref" href="#value:712"><span class="id" title="binder">value</span></a> : <a class="idref" href="SpecCT.html#A:711"><span class="id" title="variable">A</span></a>) : <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> <a class="idref" href="SpecCT.html#A:711"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:713" class="idref" href="#pst:713"><span class="id" title="binder">pst</span></a>: <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Finished"><span class="id" title="constructor">OST_Finished</span></a> <a class="idref" href="SpecCT.html#A:711"><span class="id" title="variable">A</span></a> <a class="idref" href="SpecCT.html#value:712"><span class="id" title="variable">value</span></a> <a class="idref" href="SpecCT.html#pst:713"><span class="id" title="variable">pst</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.bind" class="idref" href="#SpecCTInterpreter.bind"><span class="id" title="definition">bind</span></a> {<a id="A:714" class="idref" href="#A:714"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} {<a id="B:715" class="idref" href="#B:715"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="e:716" class="idref" href="#e:716"><span class="id" title="binder">e</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> <a class="idref" href="SpecCT.html#A:714"><span class="id" title="variable">A</span></a>) (<a id="f:717" class="idref" href="#f:717"><span class="id" title="binder">f</span></a> : <a class="idref" href="SpecCT.html#A:714"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> <a class="idref" href="SpecCT.html#B:715"><span class="id" title="variable">B</span></a>): <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> <a class="idref" href="SpecCT.html#B:715"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:718" class="idref" href="#pst:718"><span class="id" title="binder">pst</span></a>: <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#e:716"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#pst:718"><span class="id" title="variable">pst</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Finished"><span class="id" title="constructor">OST_Finished</span></a> <span class="id" title="var">_</span> <span class="id" title="var">value</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>  ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="SpecCT.html#f:717"><span class="id" title="variable">f</span></a> <span class="id" title="var">value</span>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Finished"><span class="id" title="constructor">OST_Finished</span></a> <span class="id" title="var">_</span> <span class="id" title="var">value</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st''</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast''</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b''</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds''</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Finished"><span class="id" title="constructor">OST_Finished</span></a> <a class="idref" href="SpecCT.html#B:715"><span class="id" title="variable">B</span></a> <span class="id" title="var">value</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st''</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast''</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b''</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds''</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os<sub>2</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">ret</span> ⇒ <span class="id" title="var">ret</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Error"><span class="id" title="constructor">OST_Error</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Error"><span class="id" title="constructor">OST_Error</span></a> <a class="idref" href="SpecCT.html#B:715"><span class="id" title="variable">B</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_OutOfFuel"><span class="id" title="constructor">OST_OutOfFuel</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_OutOfFuel"><span class="id" title="constructor">OST_OutOfFuel</span></a> <a class="idref" href="SpecCT.html#B:715"><span class="id" title="variable">B</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="87c6568ae096fc420ea9031cd0129d0f" class="idref" href="#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&quot;</span></a>e &gt;&gt;= f" := (<a class="idref" href="SpecCT.html#SpecCTInterpreter.bind"><span class="id" title="definition">bind</span></a> <span class="id" title="var">e</span> <span class="id" title="var">f</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 58, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id="SpecCTInterpreter.:::x_'&gt;&gt;'_x" class="idref" href="#SpecCTInterpreter.:::x_'&gt;&gt;'_x"><span class="id" title="notation">&quot;</span></a>e &gt;&gt; f" := (<a class="idref" href="SpecCT.html#SpecCTInterpreter.bind"><span class="id" title="definition">bind</span></a> <span class="id" title="var">e</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">f</span>)) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 58, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>
</div>

<div class="doc">
<a id="lab66"></a><h2 class="section">Helper functions for individual instructions</h2>

</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.finish" class="idref" href="#SpecCTInterpreter.finish"><span class="id" title="definition">finish</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.interpreter"><span class="id" title="definition">interpreter</span></a> := <a class="idref" href="SpecCT.html#SpecCTInterpreter.ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.get_var" class="idref" href="#SpecCTInterpreter.get_var"><span class="id" title="definition">get_var</span></a> (<a id="name:719" class="idref" href="#name:719"><span class="id" title="binder">name</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>): <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:720" class="idref" href="#pst:720"><span class="id" title="binder">pst</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:720"><span class="id" title="variable">pst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.ret"><span class="id" title="definition">ret</span></a> (<span class="id" title="var">st</span> <a class="idref" href="SpecCT.html#name:719"><span class="id" title="variable">name</span></a>) <a class="idref" href="SpecCT.html#pst:720"><span class="id" title="variable">pst</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.set_var" class="idref" href="#SpecCTInterpreter.set_var"><span class="id" title="definition">set_var</span></a> (<a id="name:722" class="idref" href="#name:722"><span class="id" title="binder">name</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="value:723" class="idref" href="#value:723"><span class="id" title="binder">value</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="SpecCT.html#SpecCTInterpreter.interpreter"><span class="id" title="definition">interpreter</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:724" class="idref" href="#pst:724"><span class="id" title="binder">pst</span></a>: <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:724"><span class="id" title="variable">pst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="new_st:726" class="idref" href="#new_st:726"><span class="id" title="binder">new_st</span></a> := (<a class="idref" href="SpecCT.html#name:722"><span class="id" title="variable">name</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#value:723"><span class="id" title="variable">value</span></a><span class="id" title="notation">;</span> <span class="id" title="var">st</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.finish"><span class="id" title="definition">finish</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#new_st:726"><span class="id" title="variable">new_st</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.get_arr" class="idref" href="#SpecCTInterpreter.get_arr"><span class="id" title="definition">get_arr</span></a> (<a id="name:727" class="idref" href="#name:727"><span class="id" title="binder">name</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>): <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:728" class="idref" href="#pst:728"><span class="id" title="binder">pst</span></a>: <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:728"><span class="id" title="variable">pst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.ret"><span class="id" title="definition">ret</span></a> (<span class="id" title="var">ast</span> <a class="idref" href="SpecCT.html#name:727"><span class="id" title="variable">name</span></a>) <a class="idref" href="SpecCT.html#pst:728"><span class="id" title="variable">pst</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.set_arr" class="idref" href="#SpecCTInterpreter.set_arr"><span class="id" title="definition">set_arr</span></a> (<a id="name:730" class="idref" href="#name:730"><span class="id" title="binder">name</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="value:731" class="idref" href="#value:731"><span class="id" title="binder">value</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="SpecCT.html#SpecCTInterpreter.interpreter"><span class="id" title="definition">interpreter</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:732" class="idref" href="#pst:732"><span class="id" title="binder">pst</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:732"><span class="id" title="variable">pst</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="new_ast:734" class="idref" href="#new_ast:734"><span class="id" title="binder">new_ast</span></a> := (<a class="idref" href="SpecCT.html#name:730"><span class="id" title="variable">name</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#value:731"><span class="id" title="variable">value</span></a> <span class="id" title="notation">;</span> <span class="id" title="var">ast</span>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.finish"><span class="id" title="definition">finish</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#new_ast:734"><span class="id" title="variable">new_ast</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.start_speculating" class="idref" href="#SpecCTInterpreter.start_speculating"><span class="id" title="definition">start_speculating</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.interpreter"><span class="id" title="definition">interpreter</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:735" class="idref" href="#pst:735"><span class="id" title="binder">pst</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:735"><span class="id" title="variable">pst</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.finish"><span class="id" title="definition">finish</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.is_speculating" class="idref" href="#SpecCTInterpreter.is_speculating"><span class="id" title="definition">is_speculating</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:737" class="idref" href="#pst:737"><span class="id" title="binder">pst</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:737"><span class="id" title="variable">pst</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.ret"><span class="id" title="definition">ret</span></a> <span class="id" title="var">b</span> <a class="idref" href="SpecCT.html#pst:737"><span class="id" title="variable">pst</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.eval_aexp" class="idref" href="#SpecCTInterpreter.eval_aexp"><span class="id" title="definition">eval_aexp</span></a> (<a id="a:739" class="idref" href="#a:739"><span class="id" title="binder">a</span></a> : <a class="idref" href="SpecCT.html#aexp"><span class="id" title="inductive">aexp</span></a>) : <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:740" class="idref" href="#pst:740"><span class="id" title="binder">pst</span></a>: <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:740"><span class="id" title="variable">pst</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="v:742" class="idref" href="#v:742"><span class="id" title="binder">v</span></a> := <a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <a class="idref" href="SpecCT.html#a:739"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="SpecCT.html#v:742"><span class="id" title="variable">v</span></a> <a class="idref" href="SpecCT.html#pst:740"><span class="id" title="variable">pst</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.raise_error" class="idref" href="#SpecCTInterpreter.raise_error"><span class="id" title="definition">raise_error</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.interpreter"><span class="id" title="definition">interpreter</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Error"><span class="id" title="constructor">OST_Error</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.observe" class="idref" href="#SpecCTInterpreter.observe"><span class="id" title="definition">observe</span></a> (<a id="o:743" class="idref" href="#o:743"><span class="id" title="binder">o</span></a> : <a class="idref" href="SpecCT.html#observation"><span class="id" title="inductive">observation</span></a>) : <a class="idref" href="SpecCT.html#SpecCTInterpreter.interpreter"><span class="id" title="definition">interpreter</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:744" class="idref" href="#pst:744"><span class="id" title="binder">pst</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:744"><span class="id" title="variable">pst</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Finished"><span class="id" title="constructor">OST_Finished</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<span class="id" title="var">os</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#o:743"><span class="id" title="variable">o</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.fetch_direction" class="idref" href="#SpecCTInterpreter.fetch_direction"><span class="id" title="definition">fetch_direction</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="SpecCT.html#direction"><span class="id" title="inductive">direction</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:746" class="idref" href="#pst:746"><span class="id" title="binder">pst</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:746"><span class="id" title="variable">pst</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">ds</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">ds'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.ret"><span class="id" title="definition">ret</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d</span>) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
<a id="lab67"></a><h2 class="section">The actual speculative interpreter</h2>

</div>
<div class="code">

<span class="id" title="keyword">Fixpoint</span> <a id="SpecCTInterpreter.spec_eval_engine_aux" class="idref" href="#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> (<a id="fuel:749" class="idref" href="#fuel:749"><span class="id" title="binder">fuel</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="c:750" class="idref" href="#c:750"><span class="id" title="binder">c</span></a> : <a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) : <a class="idref" href="SpecCT.html#SpecCTInterpreter.interpreter"><span class="id" title="definition">interpreter</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#fuel:749"><span class="id" title="variable">fuel</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_OutOfFuel"><span class="id" title="constructor">OST_OutOfFuel</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">fuel</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#c:750"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.finish"><span class="id" title="definition">finish</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">e</span> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.eval_aexp"><span class="id" title="definition">eval_aexp</span></a> <span class="id" title="var">e</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="v:754" class="idref" href="#v:754"><span class="id" title="binder">v</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.set_var"><span class="id" title="definition">set_var</span></a> <span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#v:754"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#spec_eval_engine_aux:751"><span class="id" title="definition">spec_eval_engine_aux</span></a> <a class="idref" href="SpecCT.html#fuel:749"><span class="id" title="variable">fuel</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.:::x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#spec_eval_engine_aux:751"><span class="id" title="definition">spec_eval_engine_aux</span></a> <a class="idref" href="SpecCT.html#fuel:749"><span class="id" title="variable">fuel</span></a> <span class="id" title="var">c<sub>2</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="id" title="var">ct</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <span class="id" title="var">cf</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.eval_aexp"><span class="id" title="definition">eval_aexp</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="bool_value:755" class="idref" href="#bool_value:755"><span class="id" title="binder">bool_value</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.observe"><span class="id" title="definition">observe</span></a> (<a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <a class="idref" href="SpecCT.html#bool_value:755"><span class="id" title="variable">bool_value</span></a>)) <a class="idref" href="SpecCT.html#SpecCTInterpreter.:::x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="SpecCT.html#SpecCTInterpreter.fetch_direction"><span class="id" title="definition">fetch_direction</span></a> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="dop:756" class="idref" href="#dop:756"><span class="id" title="binder">dop</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#dop:756"><span class="id" title="variable">dop</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <a class="idref" href="SpecCT.html#bool_value:755"><span class="id" title="variable">bool_value</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#spec_eval_engine_aux:751"><span class="id" title="definition">spec_eval_engine_aux</span></a> <a class="idref" href="SpecCT.html#fuel:749"><span class="id" title="variable">fuel</span></a> <span class="id" title="var">ct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#spec_eval_engine_aux:751"><span class="id" title="definition">spec_eval_engine_aux</span></a> <a class="idref" href="SpecCT.html#fuel:749"><span class="id" title="variable">fuel</span></a> <span class="id" title="var">cf</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.start_speculating"><span class="id" title="definition">start_speculating</span></a> <a class="idref" href="SpecCT.html#SpecCTInterpreter.:::x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <a class="idref" href="SpecCT.html#bool_value:755"><span class="id" title="variable">bool_value</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#spec_eval_engine_aux:751"><span class="id" title="definition">spec_eval_engine_aux</span></a> <a class="idref" href="SpecCT.html#fuel:749"><span class="id" title="variable">fuel</span></a> <span class="id" title="var">cf</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#spec_eval_engine_aux:751"><span class="id" title="definition">spec_eval_engine_aux</span></a> <a class="idref" href="SpecCT.html#fuel:749"><span class="id" title="variable">fuel</span></a> <span class="id" title="var">ct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.raise_error"><span class="id" title="definition">raise_error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#spec_eval_engine_aux:751"><span class="id" title="definition">spec_eval_engine_aux</span></a> <a class="idref" href="SpecCT.html#fuel:749"><span class="id" title="variable">fuel</span></a> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c:750"><span class="id" title="variable">c</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c:750"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">a</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><span class="id" title="var">ie</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.eval_aexp"><span class="id" title="definition">eval_aexp</span></a> <span class="id" title="var">ie</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="i:758" class="idref" href="#i:758"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.observe"><span class="id" title="definition">observe</span></a> (<a class="idref" href="SpecCT.html#OARead"><span class="id" title="constructor">OARead</span></a> <span class="id" title="var">a</span> <a class="idref" href="SpecCT.html#i:758"><span class="id" title="variable">i</span></a>) <a class="idref" href="SpecCT.html#SpecCTInterpreter.:::x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="SpecCT.html#SpecCTInterpreter.get_arr"><span class="id" title="definition">get_arr</span></a> <span class="id" title="var">a</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="arr_a:759" class="idref" href="#arr_a:759"><span class="id" title="binder">arr_a</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.is_speculating"><span class="id" title="definition">is_speculating</span></a> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="b:760" class="idref" href="#b:760"><span class="id" title="binder">b</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.fetch_direction"><span class="id" title="definition">fetch_direction</span></a> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="dop:761" class="idref" href="#dop:761"><span class="id" title="binder">dop</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#dop:761"><span class="id" title="variable">dop</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="SpecCT.html#i:758"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="SpecCT.html#arr_a:759"><span class="id" title="variable">arr_a</span></a>)%<span class="id" title="var">nat</span> <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.set_var"><span class="id" title="definition">set_var</span></a> <span class="id" title="var">x</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="SpecCT.html#i:758"><span class="id" title="variable">i</span></a> <a class="idref" href="SpecCT.html#arr_a:759"><span class="id" title="variable">arr_a</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.raise_error"><span class="id" title="definition">raise_error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="SpecCT.html#DLoad"><span class="id" title="constructor">DLoad</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">i'</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.get_arr"><span class="id" title="definition">get_arr</span></a> <span class="id" title="var">a'</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="arr_a':763" class="idref" href="#arr_a':763"><span class="id" title="binder">arr_a'</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="SpecCT.html#i:758"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="SpecCT.html#arr_a:759"><span class="id" title="variable">arr_a</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> (<span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="SpecCT.html#arr_a':763"><span class="id" title="variable">arr_a'</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="SpecCT.html#b:760"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.set_var"><span class="id" title="definition">set_var</span></a> <span class="id" title="var">x</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">i'</span> <a class="idref" href="SpecCT.html#arr_a':763"><span class="id" title="variable">arr_a'</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.raise_error"><span class="id" title="definition">raise_error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.raise_error"><span class="id" title="definition">raise_error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">a</span><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><span class="id" title="var">ie</span><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">e</span> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.eval_aexp"><span class="id" title="definition">eval_aexp</span></a> <span class="id" title="var">ie</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="i:764" class="idref" href="#i:764"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.observe"><span class="id" title="definition">observe</span></a> (<a class="idref" href="SpecCT.html#OAWrite"><span class="id" title="constructor">OAWrite</span></a> <span class="id" title="var">a</span> <a class="idref" href="SpecCT.html#i:764"><span class="id" title="variable">i</span></a>) <a class="idref" href="SpecCT.html#SpecCTInterpreter.:::x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="SpecCT.html#SpecCTInterpreter.get_arr"><span class="id" title="definition">get_arr</span></a> <span class="id" title="var">a</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="arr_a:765" class="idref" href="#arr_a:765"><span class="id" title="binder">arr_a</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.eval_aexp"><span class="id" title="definition">eval_aexp</span></a> <span class="id" title="var">e</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="n:766" class="idref" href="#n:766"><span class="id" title="binder">n</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.is_speculating"><span class="id" title="definition">is_speculating</span></a> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="b:767" class="idref" href="#b:767"><span class="id" title="binder">b</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.fetch_direction"><span class="id" title="definition">fetch_direction</span></a> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="dop:768" class="idref" href="#dop:768"><span class="id" title="binder">dop</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#dop:768"><span class="id" title="variable">dop</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="SpecCT.html#i:764"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="SpecCT.html#arr_a:765"><span class="id" title="variable">arr_a</span></a>)%<span class="id" title="var">nat</span> <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.set_arr"><span class="id" title="definition">set_arr</span></a> <span class="id" title="var">a</span> (<a class="idref" href="SpecCT.html#upd"><span class="id" title="definition">upd</span></a> <a class="idref" href="SpecCT.html#i:764"><span class="id" title="variable">i</span></a> <a class="idref" href="SpecCT.html#arr_a:765"><span class="id" title="variable">arr_a</span></a> <a class="idref" href="SpecCT.html#n:766"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.raise_error"><span class="id" title="definition">raise_error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="SpecCT.html#DStore"><span class="id" title="constructor">DStore</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">i'</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.get_arr"><span class="id" title="definition">get_arr</span></a> <span class="id" title="var">a'</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="arr_a':770" class="idref" href="#arr_a':770"><span class="id" title="binder">arr_a'</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="SpecCT.html#i:764"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="SpecCT.html#arr_a:765"><span class="id" title="variable">arr_a</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> (<span class="id" title="var">i'</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="SpecCT.html#arr_a':770"><span class="id" title="variable">arr_a'</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="SpecCT.html#b:767"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.set_arr"><span class="id" title="definition">set_arr</span></a> <span class="id" title="var">a'</span> (<a class="idref" href="SpecCT.html#upd"><span class="id" title="definition">upd</span></a> <span class="id" title="var">i'</span> <a class="idref" href="SpecCT.html#arr_a':770"><span class="id" title="variable">arr_a'</span></a> <a class="idref" href="SpecCT.html#n:766"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.raise_error"><span class="id" title="definition">raise_error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.raise_error"><span class="id" title="definition">raise_error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.compute_fuel" class="idref" href="#SpecCTInterpreter.compute_fuel"><span class="id" title="definition">compute_fuel</span></a> (<a id="c:771" class="idref" href="#c:771"><span class="id" title="binder">c</span></a> :<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) (<a id="ds:772" class="idref" href="#ds:772"><span class="id" title="binder">ds</span></a> :<a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>) : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Reducing&nbsp;the&nbsp;fuel&nbsp;in&nbsp;the&nbsp;base&nbsp;cases&nbsp;of&nbsp;com_size&nbsp;does&nbsp;not&nbsp;break<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;any&nbsp;proofs,&nbsp;but&nbsp;some&nbsp;of&nbsp;the&nbsp;tests&nbsp;below&nbsp;need&nbsp;a&nbsp;bit&nbsp;more&nbsp;to&nbsp;finish<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reducing&nbsp;(adding&nbsp;2&nbsp;is&nbsp;enough)&nbsp;*)</span><br/>
&nbsp;&nbsp;2 <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#ds:772"><span class="id" title="variable">ds</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="SpecCT.html#com_size"><span class="id" title="definition">com_size</span></a> <a class="idref" href="SpecCT.html#c:771"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="SpecCT.html#ds:772"><span class="id" title="variable">ds</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#ea2ff3d561159081cea6fb2e8113cc<sub>54</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="SpecCT.html#com_size"><span class="id" title="definition">com_size</span></a> <a class="idref" href="SpecCT.html#c:771"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.spec_eval_engine" class="idref" href="#SpecCTInterpreter.spec_eval_engine"><span class="id" title="definition">spec_eval_engine</span></a> (<a id="c:774" class="idref" href="#c:774"><span class="id" title="binder">c</span></a> : <a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) (<a id="st:775" class="idref" href="#st:775"><span class="id" title="binder">st</span></a> : <a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a>) (<a id="ast:776" class="idref" href="#ast:776"><span class="id" title="binder">ast</span></a> : <a class="idref" href="SpecCT.html#astate"><span class="id" title="definition">astate</span></a>) (<a id="b:777" class="idref" href="#b:777"><span class="id" title="binder">b</span></a> : <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="ds:778" class="idref" href="#ds:778"><span class="id" title="binder">ds</span></a> : <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="SpecCT.html#astate"><span class="id" title="definition">astate</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.compute_fuel"><span class="id" title="definition">compute_fuel</span></a> <a class="idref" href="SpecCT.html#c:774"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#ds:778"><span class="id" title="variable">ds</span></a>) <a class="idref" href="SpecCT.html#c:774"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#st:775"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:776"><span class="id" title="variable">ast</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:777"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:778"><span class="id" title="variable">ds</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Finished"><span class="id" title="constructor">OST_Finished</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">ds'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> 0)%<span class="id" title="var">nat</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
<a id="lab68"></a><h2 class="section">Soundness of the interpreter</h2>

</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="SpecCTInterpreter.ltb_reflect" class="idref" href="#SpecCTInterpreter.ltb_reflect"><span class="id" title="lemma">ltb_reflect</span></a> : <span class="id" title="keyword">∀</span> <a id="n:779" class="idref" href="#n:779"><span class="id" title="binder">n</span></a> <a id="m:780" class="idref" href="#m:780"><span class="id" title="binder">m</span></a> :<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Bool.Bool.html#reflect"><span class="id" title="inductive">reflect</span></a> (<a class="idref" href="SpecCT.html#n:779"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="SpecCT.html#m:780"><span class="id" title="variable">m</span></a>) (<a class="idref" href="SpecCT.html#n:779"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="SpecCT.html#m:780"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Bool.Bool.html#iff_reflect"><span class="id" title="lemma">iff_reflect</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">ltb_lt</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="SpecCTInterpreter.eqb_reflect" class="idref" href="#SpecCTInterpreter.eqb_reflect"><span class="id" title="lemma">eqb_reflect</span></a>: <span class="id" title="keyword">∀</span> <a id="n:781" class="idref" href="#n:781"><span class="id" title="binder">n</span></a> <a id="m:782" class="idref" href="#m:782"><span class="id" title="binder">m</span></a> :<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Bool.Bool.html#reflect"><span class="id" title="inductive">reflect</span></a> (<a class="idref" href="SpecCT.html#n:781"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#m:782"><span class="id" title="variable">m</span></a> ) (<a class="idref" href="SpecCT.html#n:781"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> <a class="idref" href="SpecCT.html#m:782"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Bool.Bool.html#iff_reflect"><span class="id" title="lemma">iff_reflect</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.PeanoNat.html#Nat.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="SpecCTInterpreter.spec_eval_engine_aux_sound" class="idref" href="#SpecCTInterpreter.spec_eval_engine_aux_sound"><span class="id" title="lemma">spec_eval_engine_aux_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="n:783" class="idref" href="#n:783"><span class="id" title="binder">n</span></a> <a id="c:784" class="idref" href="#c:784"><span class="id" title="binder">c</span></a> <a id="st:785" class="idref" href="#st:785"><span class="id" title="binder">st</span></a> <a id="ast:786" class="idref" href="#ast:786"><span class="id" title="binder">ast</span></a> <a id="b:787" class="idref" href="#b:787"><span class="id" title="binder">b</span></a> <a id="ds:788" class="idref" href="#ds:788"><span class="id" title="binder">ds</span></a> <a id="os:789" class="idref" href="#os:789"><span class="id" title="binder">os</span></a> <a id="st':790" class="idref" href="#st':790"><span class="id" title="binder">st'</span></a> <a id="ast':791" class="idref" href="#ast':791"><span class="id" title="binder">ast'</span></a> <a id="b':792" class="idref" href="#b':792"><span class="id" title="binder">b'</span></a> <a id="ds':793" class="idref" href="#ds':793"><span class="id" title="binder">ds'</span></a> <a id="os':794" class="idref" href="#os':794"><span class="id" title="binder">os'</span></a> <a id="u:795" class="idref" href="#u:795"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> <a class="idref" href="SpecCT.html#n:783"><span class="id" title="variable">n</span></a> <a class="idref" href="SpecCT.html#c:784"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#st:785"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:786"><span class="id" title="variable">ast</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:787"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:788"><span class="id" title="variable">ds</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:789"><span class="id" title="variable">os</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Finished"><span class="id" title="constructor">OST_Finished</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="SpecCT.html#u:795"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#st':790"><span class="id" title="variable">st'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':791"><span class="id" title="variable">ast'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':792"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds':793"><span class="id" title="variable">ds'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os':794"><span class="id" title="variable">os'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="dsn:796" class="idref" href="#dsn:796"><span class="id" title="binder">dsn</span></a> <a id="osn:797" class="idref" href="#osn:797"><span class="id" title="binder">osn</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#dsn:796"><span class="id" title="variable">dsn</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="SpecCT.html#ds':793"><span class="id" title="variable">ds'</span></a>)%<span class="id" title="var">list</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#ds:788"><span class="id" title="variable">ds</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> (<a class="idref" href="SpecCT.html#os:789"><span class="id" title="variable">os</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="SpecCT.html#osn:797"><span class="id" title="variable">osn</span></a>)%<span class="id" title="var">list</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#os':794"><span class="id" title="variable">os'</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:785"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:786"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:787"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#dsn:796"><span class="id" title="variable">dsn</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:784"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':790"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':791"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':792"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#osn:797"><span class="id" title="variable">osn</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">n'</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">st</span> <span class="id" title="var">ast</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">os</span> <span class="id" title="var">st'</span> <span class="id" title="var">ast'</span> <span class="id" title="var">b'</span> <span class="id" title="var">ds'</span> <span class="id" title="var">os'</span> <span class="id" title="var">u</span> <span class="id" title="var">Haux</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>; [<span class="id" title="tactic">discriminate</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">X</span> <span class="id" title="var">e</span> | <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="var">c<sub>2</sub></span> | <span class="id" title="var">be</span> <span class="id" title="var">ct</span> <span class="id" title="var">cf</span> | <span class="id" title="var">be</span> <span class="id" title="var">cw</span> | <span class="id" title="var">X</span> <span class="id" title="var">a</span> <span class="id" title="var">ie</span> | <span class="id" title="var">a</span> <span class="id" title="var">ie</span> <span class="id" title="var">e</span> ] <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnc</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> "&gt;&gt;=" <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Skip&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Spec_Skip"><span class="id" title="constructor">Spec_Skip</span></a>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Asgn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Spec_Asgn"><span class="id" title="constructor">Spec_Asgn</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> <span class="id" title="var">_</span> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hc<sub>1</sub></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [ [ [<span class="id" title="var">stm</span> <span class="id" title="var">astm</span>] <span class="id" title="var">bm</span>] <span class="id" title="var">dsm</span>] <span class="id" title="var">osm</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> <span class="id" title="var">_</span> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hc<sub>2</sub></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [ [ [<span class="id" title="var">stt</span> <span class="id" title="var">astt</span>] <span class="id" title="var">bt</span>] <span class="id" title="var">dst</span>] <span class="id" title="var">ost</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hc<sub>1</sub></span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc<sub>1</sub></span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ds<sub>1</sub></span> [ <span class="id" title="var">os<sub>1</sub></span> [<span class="id" title="var">Hds1</span> [<span class="id" title="var">Hos1</span> <span class="id" title="var">Heval1</span>] ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hc<sub>2</sub></span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc<sub>2</sub></span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ds<sub>2</sub></span> [ <span class="id" title="var">os<sub>2</sub></span> [<span class="id" title="var">Hds2</span> [<span class="id" title="var">Hos2</span> <span class="id" title="var">Heval2</span>] ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">∃</span> (<span class="id" title="var">ds<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><span class="id" title="var">ds<sub>2</sub></span>)%<span class="id" title="var">list</span>; <span class="id" title="tactic">∃</span> (<span class="id" title="var">os<sub>1</sub></span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><span class="id" title="var">os<sub>2</sub></span>)%<span class="id" title="var">list</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;IF&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ds</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">d</span> <span class="id" title="var">ds_tl</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnds</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnd</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;DStep&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a>, <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>, <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> <span class="id" title="var">n'</span> <span class="id" title="var">cf</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds_tl</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<span class="id" title="var">os</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hcf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [ [ [<span class="id" title="var">stt</span> <span class="id" title="var">astt</span>] <span class="id" title="var">bt</span>] <span class="id" title="var">dst</span>] <span class="id" title="var">ost</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hcf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">dst</span> [ <span class="id" title="var">ost</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Hos</span> <span class="id" title="var">Heval</span>] ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">dst</span>); <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><span class="id" title="var">ost</span>)%<span class="id" title="var">list</span>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hos</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="SpecCT.html#not_zero_aeval_O"><span class="id" title="lemma">not_zero_aeval_O</span></a>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Spec_If"><span class="id" title="constructor">Spec_If</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heval</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a>, <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>, <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> <span class="id" title="var">n'</span> <span class="id" title="var">ct</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds_tl</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<span class="id" title="var">os</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [ [ [<span class="id" title="var">stt</span> <span class="id" title="var">astt</span>] <span class="id" title="var">bt</span>] <span class="id" title="var">dst</span>] <span class="id" title="var">ost</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hct</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">dst</span> [ <span class="id" title="var">ost</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Hos</span> <span class="id" title="var">Heval</span>] ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">dst</span>); <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><span class="id" title="var">ost</span>)%<span class="id" title="var">list</span>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hos</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="SpecCT.html#not_zero_aeval_S"><span class="id" title="lemma">not_zero_aeval_S</span></a>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Spec_If"><span class="id" title="constructor">Spec_If</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heval</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;DForce&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a>, <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>, <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> <span class="id" title="var">n'</span> <span class="id" title="var">ct</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds_tl</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<span class="id" title="var">os</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hcf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [ [ [<span class="id" title="var">stt</span> <span class="id" title="var">astt</span>] <span class="id" title="var">bt</span>] <span class="id" title="var">dst</span>] <span class="id" title="var">ost</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hcf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">dst</span> [ <span class="id" title="var">ost</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Hos</span> <span class="id" title="var">Heval</span>] ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">dst</span>); <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><span class="id" title="var">ost</span>)%<span class="id" title="var">list</span>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hos</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="SpecCT.html#not_zero_aeval_O"><span class="id" title="lemma">not_zero_aeval_O</span></a>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Spec_If_F"><span class="id" title="constructor">Spec_If_F</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heval</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a>, <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>, <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> <span class="id" title="var">n'</span> <span class="id" title="var">cf</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds_tl</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<span class="id" title="var">os</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hct</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [ [ [<span class="id" title="var">stt</span> <span class="id" title="var">astt</span>] <span class="id" title="var">bt</span>] <span class="id" title="var">dst</span>] <span class="id" title="var">ost</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hct</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">dst</span> [ <span class="id" title="var">ost</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Hos</span> <span class="id" title="var">Heval</span>] ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">dst</span>); <span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><span class="id" title="var">ost</span>)%<span class="id" title="var">list</span>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hos</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="SpecCT.html#not_zero_aeval_S"><span class="id" title="lemma">not_zero_aeval_S</span></a>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Spec_If_F"><span class="id" title="constructor">Spec_If_F</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heval</span>. }<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;While&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Haux</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">dst</span> [ <span class="id" title="var">ost</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Hos</span> <span class="id" title="var">Heval</span>] ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">dst</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">ost</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">split</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ARead&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ds</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">d</span> <span class="id" title="var">ds_tl</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnds</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnd</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;DStep&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> (<span class="id" title="var">ast</span> <span class="id" title="var">a</span>))%<span class="id" title="var">nat</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnindex</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.observe"><span class="id" title="definition">observe</span></a> (<a class="idref" href="SpecCT.html#OARead"><span class="id" title="constructor">OARead</span></a> <span class="id" title="var">a</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span>)) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds_tl</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqbobs</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OARead"><span class="id" title="constructor">OARead</span></a> <span class="id" title="var">a</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span>)<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_ARead"><span class="id" title="constructor">Spec_ARead</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.ltb_reflect"><span class="id" title="lemma">ltb_reflect</span></a> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span>) (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">ast'</span> <span class="id" title="var">a</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span> | <span class="id" title="var">Hgeq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;DForce&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> (<span class="id" title="var">ast</span> <span class="id" title="var">a</span>))%<span class="id" title="var">nat</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnindex1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> (<span class="id" title="var">ast</span> <span class="id" title="var">a<sub>0</sub></span>))%<span class="id" title="var">nat</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnindex2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnb</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DLoad"><span class="id" title="constructor">DLoad</span></a> <span class="id" title="var">a<sub>0</sub></span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OARead"><span class="id" title="constructor">OARead</span></a> <span class="id" title="var">a</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span>)<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_ARead_U"><span class="id" title="constructor">Spec_ARead_U</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.ltb_reflect"><span class="id" title="lemma">ltb_reflect</span></a> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span>) (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">ast'</span> <span class="id" title="var">a</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span> | <span class="id" title="var">Hgeq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.Compare_dec.html#not_lt"><span class="id" title="lemma">not_lt</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hgeq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hgeq</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.ltb_reflect"><span class="id" title="lemma">ltb_reflect</span></a> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">ast'</span> <span class="id" title="var">a<sub>0</sub></span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span> | <span class="id" title="var">Hgeq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hlt</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;AWrite&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ds</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">d</span> <span class="id" title="var">ds_tl</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnds</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnd</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;DStep&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> (<span class="id" title="var">ast</span> <span class="id" title="var">a</span>))%<span class="id" title="var">nat</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnindex</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.observe"><span class="id" title="definition">observe</span></a> (<a class="idref" href="SpecCT.html#OAWrite"><span class="id" title="constructor">OAWrite</span></a> <span class="id" title="var">a</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span>)) <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds_tl</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqbobs</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OAWrite"><span class="id" title="constructor">OAWrite</span></a> <span class="id" title="var">a</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st'</span> <span class="id" title="var">ie</span>)<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Write"><span class="id" title="constructor">Spec_Write</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.ltb_reflect"><span class="id" title="lemma">ltb_reflect</span></a> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st'</span> <span class="id" title="var">ie</span>) (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">ast</span> <span class="id" title="var">a</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span> | <span class="id" title="var">Hgeq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;DForce&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>  (<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> (<span class="id" title="var">ast</span> <span class="id" title="var">a</span>))%<span class="id" title="var">nat</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnindex1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> (<span class="id" title="var">ast</span> <span class="id" title="var">a<sub>0</sub></span>))%<span class="id" title="var">nat</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnindex2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnb</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStore"><span class="id" title="constructor">DStore</span></a> <span class="id" title="var">a<sub>0</sub></span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">eexists</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OAWrite"><span class="id" title="constructor">OAWrite</span></a> <span class="id" title="var">a</span> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st'</span> <span class="id" title="var">ie</span>)<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Write_U"><span class="id" title="constructor">Spec_Write_U</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.ltb_reflect"><span class="id" title="lemma">ltb_reflect</span></a> (<a class="idref" href="SpecCT.html#aeval"><span class="id" title="definition">aeval</span></a> <span class="id" title="var">st'</span> <span class="id" title="var">ie</span>) (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">ast</span> <span class="id" title="var">a</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span> | <span class="id" title="var">Hgeq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Arith.Compare_dec.html#not_lt"><span class="id" title="lemma">not_lt</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hgeq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hgeq</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.ltb_reflect"><span class="id" title="lemma">ltb_reflect</span></a> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">ast</span> <span class="id" title="var">a<sub>0</sub></span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span> | <span class="id" title="var">Hgeq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hlt</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">discriminate</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="SpecCTInterpreter.spec_eval_engine_sound" class="idref" href="#SpecCTInterpreter.spec_eval_engine_sound"><span class="id" title="lemma">spec_eval_engine_sound</span></a>: <span class="id" title="keyword">∀</span> <a id="c:798" class="idref" href="#c:798"><span class="id" title="binder">c</span></a> <a id="st:799" class="idref" href="#st:799"><span class="id" title="binder">st</span></a> <a id="ast:800" class="idref" href="#ast:800"><span class="id" title="binder">ast</span></a> <a id="b:801" class="idref" href="#b:801"><span class="id" title="binder">b</span></a> <a id="ds:802" class="idref" href="#ds:802"><span class="id" title="binder">ds</span></a> <a id="st':803" class="idref" href="#st':803"><span class="id" title="binder">st'</span></a> <a id="ast':804" class="idref" href="#ast':804"><span class="id" title="binder">ast'</span></a> <a id="b':805" class="idref" href="#b':805"><span class="id" title="binder">b'</span></a> <a id="os':806" class="idref" href="#os':806"><span class="id" title="binder">os'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine"><span class="id" title="definition">spec_eval_engine</span></a> <a class="idref" href="SpecCT.html#c:798"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#st:799"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ast:800"><span class="id" title="variable">ast</span></a> <a class="idref" href="SpecCT.html#b:801"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#ds:802"><span class="id" title="variable">ds</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#st':803"><span class="id" title="variable">st'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':804"><span class="id" title="variable">ast'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':805"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os':806"><span class="id" title="variable">os'</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:799"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast:800"><span class="id" title="variable">ast</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:801"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:802"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:798"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':803"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ast':804"><span class="id" title="variable">ast'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':805"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os':806"><span class="id" title="variable">os'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">st</span> <span class="id" title="var">ast</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">st'</span> <span class="id" title="var">ast'</span> <span class="id" title="var">b'</span> <span class="id" title="var">os'</span> <span class="id" title="var">Hengine</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine"><span class="id" title="definition">spec_eval_engine</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hengine</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> <span class="id" title="var">_</span> <span class="id" title="var">c</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnaux</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [ [ [<span class="id" title="var">stt</span> <span class="id" title="var">astt</span>] <span class="id" title="var">bt</span>] <span class="id" title="var">dst</span>] <span class="id" title="var">ost</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <span class="id" title="var">dst</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> 0)%<span class="id" title="var">nat</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnds</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux_sound"><span class="id" title="lemma">spec_eval_engine_aux_sound</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Eqnaux</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Eqnaux</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">dsn</span> [<span class="id" title="var">osn</span> [<span class="id" title="var">Hdsn</span> [<span class="id" title="var">Hosn</span> <span class="id" title="var">Heval</span>] ] ] ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hengine</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">app_nil_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.eqb_reflect"><span class="id" title="lemma">eqb_reflect</span></a> (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">dst</span>) 0) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hneq</span>].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#length_zero_iff_nil"><span class="id" title="lemma">length_zero_iff_nil</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab69"></a><h2 class="section">Back to showing that our example is not speculative constant-time</h2>

</div>
<div class="code">

<span class="id" title="keyword">Example</span> <a id="SpecCTInterpreter.spec_insecure_prog_2_is_ct_and_spec_insecure" class="idref" href="#SpecCTInterpreter.spec_insecure_prog_2_is_ct_and_spec_insecure"><span class="id" title="definition">spec_insecure_prog_2_is_ct_and_spec_insecure</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="P:807" class="idref" href="#P:807"><span class="id" title="binder">P</span></a> <a id="PA:808" class="idref" href="#PA:808"><span class="id" title="binder">PA</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:807"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:808"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog_2"><span class="id" title="definition">spec_insecure_prog_2</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#spec_ct_secure"><span class="id" title="definition">spec_ct_secure</span></a> <a class="idref" href="SpecCT.html#P:807"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#PA:808"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog_2"><span class="id" title="definition">spec_insecure_prog_2</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a> .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#Z"><span class="id" title="definition">Z</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">_</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#secret"><span class="id" title="definition">secret</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span>  (<a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#AS"><span class="id" title="definition">AS</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#secret"><span class="id" title="definition">secret</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">_</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">econstructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a>) <span class="id" title="keyword">with</span> (<a class="idref" href="SpecCT.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a>) <span class="id" title="tactic">at</span> 4 <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">remember</span> (<span class="id" title="notation">_</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 0) <span class="id" title="keyword">as</span> <span class="id" title="var">st</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>1<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>2<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>3<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#AS"><span class="id" title="definition">AS</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>40<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>41<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>42<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>43<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">_</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">ast1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>1<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>2<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>3<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#AS"><span class="id" title="definition">AS</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>4<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>5<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>6<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>7<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">_</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">ast2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DLoad"><span class="id" title="constructor">DLoad</span></a> <a class="idref" href="SpecCT.html#AS"><span class="id" title="definition">AS</span></a> 3<a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">ds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsecure</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span>: <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="stt1:809" class="idref" href="#stt1:809"><span class="id" title="binder"><span id="stt1:817" class="id">stt1</span></span></a> <a id="astt1:810" class="idref" href="#astt1:810"><span class="id" title="binder"><span id="astt1:818" class="id">astt1</span></span></a> <a id="bt<sub>1</sub>:811" class="idref" href="#bt<sub>1</sub>:811"><span class="id" title="binder"><span id="bt<sub>1</sub>:819" class="id">bt<sub>1</sub></span></span></a> <a id="os<sub>1</sub>:812" class="idref" href="#os<sub>1</sub>:812"><span class="id" title="binder"><span id="os<sub>1</sub>:820" class="id">os<sub>1</sub></span></span></a> <a id="stt2:813" class="idref" href="#stt2:813"><span class="id" title="binder"><span id="stt2:821" class="id">stt2</span></span></a> <a id="astt2:814" class="idref" href="#astt2:814"><span class="id" title="binder"><span id="astt2:822" class="id">astt2</span></span></a> <a id="bt<sub>2</sub>:815" class="idref" href="#bt<sub>2</sub>:815"><span class="id" title="binder"><span id="bt<sub>2</sub>:823" class="id">bt<sub>2</sub></span></span></a> <a id="os<sub>2</sub>:816" class="idref" href="#os<sub>2</sub>:816"><span class="id" title="binder"><span id="os<sub>2</sub>:824" class="id">os<sub>2</sub></span></span></a><a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog_2"><span class="id" title="definition">spec_insecure_prog_2</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a> <a class="idref" href="SpecCT.html#stt1:809"><span class="id" title="variable">stt1</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#astt1:810"><span class="id" title="variable">astt1</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#bt<sub>1</sub>:811"><span class="id" title="variable">bt<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:812"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ast2</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog_2"><span class="id" title="definition">spec_insecure_prog_2</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a> <a class="idref" href="SpecCT.html#stt2:813"><span class="id" title="variable">stt2</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#astt2:814"><span class="id" title="variable">astt2</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#bt<sub>2</sub>:815"><span class="id" title="variable">bt<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:816"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#os<sub>1</sub>:812"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="http://coq.inria.fr/library//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:816"><span class="id" title="variable">os<sub>2</sub></span></a> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_sound"><span class="id" title="lemma">spec_eval_engine_sound</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#spec_insecure_prog_2"><span class="id" title="definition">spec_insecure_prog_2</span></a>, <a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine"><span class="id" title="definition">spec_eval_engine</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_sound"><span class="id" title="lemma">spec_eval_engine_sound</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#spec_insecure_prog_2"><span class="id" title="definition">spec_insecure_prog_2</span></a>, <a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine"><span class="id" title="definition">spec_eval_engine</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Contra</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Contra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">L</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">stt1</span> [<span class="id" title="var">astt1</span> [<span class="id" title="var">bt<sub>1</sub></span> [<span class="id" title="var">os<sub>1</sub></span> [<span class="id" title="var">stt2</span> [<span class="id" title="var">astt2</span> [<span class="id" title="var">bt<sub>2</sub></span> [<span class="id" title="var">os<sub>2</sub></span> [<span class="id" title="var">Heval1</span> [<span class="id" title="var">Heval2</span> <span class="id" title="var">Hneq</span>] ] ] ] ] ] ] ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hsecure</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#pub_equiv_refl"><span class="id" title="lemma">pub_equiv_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> "AP" <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">HeqAP</span> | <span class="id" title="var">HneqAP</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/library//Coq.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> "AS" <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">HeqAS</span> | <span class="id" title="var">HneqAS</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hx</span>; [| <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">do</span> 4 (<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; [| <span class="id" title="tactic">assumption</span>]). <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">End</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter"><span class="id" title="module">SpecCTInterpreter</span></a>.<br/><hr class='doublespaceincode'/>
<span class="comment">(*&nbsp;2025-06-28&nbsp;11:27&nbsp;*)</span><br/>
</div>
</div>

<div id="footer">
<hr/><a href="coqindex.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>