<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="common/css/sf.css" rel="stylesheet" type="text/css" />
<title>SpecCT: Cryptographic Constant-Time and Speculative Constant-Time</title>
<link href="common/jquery-ui/jquery-ui.css" rel="stylesheet">
<script src="common/jquery-ui/external/jquery/jquery.js"></script>
<script src="common/jquery-ui/jquery-ui.js"></script>
<script src="common/toggleproofs.js"></script>
<link href="common/css/secf.css" rel="stylesheet" type="text/css"/>
</head>

<body>

<div id="page">

<div id="header">
<div id='logoinheader'><a href='https://softwarefoundations.cis.upenn.edu'>
<img src='common/media/image/sf_logo_sm.png' alt='Software Foundations Logo'></a></div>
<div class='booktitleinheader'><a href='index.html'>Volume 7: Security Foundations</a></div>
<ul id='menu'>
   <li class='section_name'><a href='toc.html'>Table of Contents</a></li>
   <li class='section_name'><a href='coqindex.html'>Index</a></li>
   <li class='section_name'><a href='deps.html'>Roadmap</a></li>
</ul>
</div>

<div id="main">

<h1 class="libtitle">SpecCT<span class="subtitle">Cryptographic Constant-Time and Speculative Constant-Time</span></h1>


<div class="code">

<span class="id" title="keyword">Set</span> <span class="id" title="var">Warnings</span> "-notation-overridden,-parsing,-deprecated-hint-without-locality".<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#"><span class="id" title="library">Strings.String</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">SECF</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Maps</span>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Bool.Bool.html#"><span class="id" title="library">Bool.Bool</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Arith.Arith.html#"><span class="id" title="library">Arith.Arith</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Arith.EqNat.html#"><span class="id" title="library">Arith.EqNat</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Arith.PeanoNat.html#"><span class="id" title="library">Arith.PeanoNat</span></a>. <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Arith.PeanoNat.html#Nat"><span class="id" title="module">Nat</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.micromega.Lia.html#"><span class="id" title="library">Lia</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Stdlib</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#"><span class="id" title="library">List</span></a>. <span class="id" title="keyword">Import</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ListNotations"><span class="id" title="module">ListNotations</span></a>.<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Default</span> <span class="id" title="keyword">Goal</span> <span class="id" title="var">Selector</span> "!".<br/>
</div>

<div class="doc">
This chapter starts by presenting the cryptographic constant-time (CCT)
    discipline, which we statically enforce using a simple type system. This
    static discipline is, however, not enough to protect cryptographic programs
    against speculative execution attacks. To secure CCT programs against this
    more powerful attacker model we additionally use a program transformation
    called <i>Speculative Load Hardening</i> (SLH). We prove formally that CCT
    programs protected by SLH achieve speculative constant-time security. 
<div class="paragraph"> </div>

<a id="lab65"></a><h1 class="section">Cryptographic constant-time</h1>

<div class="paragraph"> </div>

 Cryptographic constant-time (CCT) is a software countermeasure against
    timing side-channel attacks that is widely deployed for cryptographic
    implementations, for instance to prevent leakage of crypto keys
    <a href="Bib.html#Barthe-et al 2019"><span class="inlineref">[Barthe et al 2019]</span></a>.

<div class="paragraph"> </div>

    More generally, each program input has to be identified as public or secret,
    and intuitively the execution time of the program should not depend on
    secret inputs, even on processors with instruction and data caches.

<div class="paragraph"> </div>

    We, however, do not want to explicitly model execution time or caches, since
<ul class="doclist">
<li> it would be very hard to do right, and

</li>
<li> it would bring in too many extremely low-level details of the concrete compiler
      (Clang/LLVM 20.1.6) and hardware microarchitecture (Intel Core i<sub>7</sub>-8650U). 
</li>
</ul>

<div class="paragraph"> </div>

 Instead CCT works with a <i>more abstract model of leakage</i>,
    which simply assumes that:
<ul class="doclist">
<li> <i>all branches the program takes are leaked</i>;
<ul class="doclist">
<li> since the path the program takes can greatly
        influence how long execution takes

</li>
<li> this is exactly like in the Control Flow (CF)
        security model from <a href="StaticIFC.html"><span class="inlineref">StaticIFC</span></a>

</li>
</ul>

</li>
<li> <i>all accessed memory addresses are leaked</i>;
<ul class="doclist">
<li> since timing attacks can also exploit the latency difference between
        hits and misses in the data cache

</li>
</ul>

</li>
<li> <i>the operands influencing timing of variable-time operations are leaked</i>;
<ul class="doclist">
<li> as an exercise we will add a division operation that leaks both operands.

</li>
</ul>

</li>
</ul>

<div class="paragraph"> </div>

 To ensure security against this leakage model, the CCT discipline requires that:

<div class="paragraph"> </div>

<ul class="doclist">
<li> <i>the control flow of the program does not depend on secrets</i>;
<ul class="doclist">
<li> intuitively this prevents the execution time of different program paths
        from directly depending on secrets:
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">Wsecret</span> <span class="id" title="keyword">then</span> ... <span class="id" title="var">slow</span> <span class="id" title="var">computation</span> ... <span class="id" title="keyword">else</span> <span class="id" title="var">skip</span>
</span>
<div class="paragraph"> </div>


</li>
</ul>

</li>
<li> <i>the accessed memory addresses do not depend on secrets</i>;
<ul class="doclist">
<li> intuitively this prevents secrets from leaking into the data cache:
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Vsecret</span> &lt;- <span class="id" title="var">AP</span>[<span class="id" title="var">Wsecret</span>]
</span>
<div class="paragraph"> </div>


</li>
</ul>

</li>
<li> <i>the operands leaked by variable-time operations do not depend on secrets</i>.
<ul class="doclist">
<li> this prevents leaking information about secrets e.g., via division:
<br/>
<span class="inlinecode">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Usecret</span> := <span class="id" title="var">div</span> <span class="id" title="var">Vsecret</span> <span class="id" title="var">Wsecret</span>
</span>
</li>
</ul>

</li>
</ul>

<div class="paragraph"> </div>

 To model memory accesses that depend on secrets we will make the Imp
    language more realistic by adding arrays. 
<div class="paragraph"> </div>

 We need such an extension, since
    otherwise variable accesses in the original Imp map to memory operations at
    constant locations, which thus cannot depend on secrets, so in Imp CCT
    trivially holds for all CF well-typed programs. Array indices on the other
    hand are computed at runtime, which leads to accessing memory addresses that
    can depend on secrets, making CCT non-trivial for Imp with arrays.

<div class="paragraph"> </div>

    For instance, here is a simple program that is CF secure (since it does no
    branches), but not CCT secure (since it accesses memory based on secret
    information):
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">Vsecret</span></span> <span class="inlinecode">&lt;-</span> <span class="inlinecode"><span class="id" title="var">A</span>[<span class="id" title="var">Wsecret</span>]</span> <span class="inlinecode"></span> 
</li>
</ul>

<div class="paragraph"> </div>

<a id="lab66"></a><h2 class="section">Adding constant-time conditional and refactoring expressions</h2>

<div class="paragraph"> </div>

 But first, we add a <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode">?</span> <span class="inlinecode"><span class="id" title="var">e<sub>1</sub></span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">e<sub>2</sub></span></span> conditional expression that executes in
    constant time (for instance by being compiled to a special constant-time
    conditional move instruction). This constant-time conditional will also be
    used in our SLH countermeasure below. 
<div class="paragraph"> </div>

 Technically, adding such conditionals to Imp arithmetic expressions would
    make them dependent on boolean expressions. But boolean expressions are
    already dependent on arithmetic expressions. 
<div class="paragraph"> </div>

 To avoid making the definitions of arithmetic and boolean expressions
    mutually inductive, we drop boolean expressions altogether and encode them
    using arithmetic expressions. Our encoding of bools in terms of nats is
    similar to that of C, where zero means false, and non-zero means true. 
<div class="paragraph"> </div>

 We also refactor the semantics of binary operators in terms of the
    <span class="inlinecode"><span class="id" title="var">binop</span></span> enumeration below, to avoid the duplication in Imp: 
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="binop" class="idref" href="#binop"><span class="id" title="definition, inductive"><span id="binop_rect" class="id"><span id="binop_ind" class="id"><span id="binop_rec" class="id"><span id="binop_sind" class="id">binop</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="BinPlus" class="idref" href="#BinPlus"><span class="id" title="constructor">BinPlus</span></a><br/>
&nbsp;&nbsp;| <a id="BinMinus" class="idref" href="#BinMinus"><span class="id" title="constructor">BinMinus</span></a><br/>
&nbsp;&nbsp;| <a id="BinMult" class="idref" href="#BinMult"><span class="id" title="constructor">BinMult</span></a><br/>
&nbsp;&nbsp;| <a id="BinEq" class="idref" href="#BinEq"><span class="id" title="constructor">BinEq</span></a><br/>
&nbsp;&nbsp;| <a id="BinLe" class="idref" href="#BinLe"><span class="id" title="constructor">BinLe</span></a><br/>
&nbsp;&nbsp;| <a id="BinAnd" class="idref" href="#BinAnd"><span class="id" title="constructor">BinAnd</span></a><br/>
&nbsp;&nbsp;| <a id="BinImpl" class="idref" href="#BinImpl"><span class="id" title="constructor">BinImpl</span></a>.<br/>
</div>

<div class="doc">
We define the semantics of <span class="inlinecode"><span class="id" title="var">binop</span></span>s directly on nats. We are careful to
    allow other representations of true (any non-zero number).  
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="not_zero" class="idref" href="#not_zero"><span class="id" title="definition">not_zero</span></a> (<a id="n:3" class="idref" href="#n:3"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="SpecCT.html#n:3"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> 0).<br/>
<span class="id" title="keyword">Definition</span> <a id="bool_to_nat" class="idref" href="#bool_to_nat"><span class="id" title="definition">bool_to_nat</span></a> (<a id="b:4" class="idref" href="#b:4"><span class="id" title="binder">b</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> := <span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#b:4"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="eval_binop" class="idref" href="#eval_binop"><span class="id" title="definition">eval_binop</span></a> (<a id="o:5" class="idref" href="#o:5"><span class="id" title="binder">o</span></a>:<a class="idref" href="SpecCT.html#binop"><span class="id" title="inductive">binop</span></a>) (<a id="n<sub>1</sub>:6" class="idref" href="#n<sub>1</sub>:6"><span class="id" title="binder">n<sub>1</sub></span></a> <a id="n<sub>2</sub>:7" class="idref" href="#n<sub>2</sub>:7"><span class="id" title="binder">n<sub>2</sub></span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#o:5"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#BinPlus"><span class="id" title="constructor">BinPlus</span></a> ⇒ <a class="idref" href="SpecCT.html#n<sub>1</sub>:6"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:7"><span class="id" title="variable">n<sub>2</sub></span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#BinMinus"><span class="id" title="constructor">BinMinus</span></a> ⇒ <a class="idref" href="SpecCT.html#n<sub>1</sub>:6"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:7"><span class="id" title="variable">n<sub>2</sub></span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#BinMult"><span class="id" title="constructor">BinMult</span></a> ⇒ <a class="idref" href="SpecCT.html#n<sub>1</sub>:6"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#ea2ff3d561159081cea6fb2e8113cc<sub>54</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:7"><span class="id" title="variable">n<sub>2</sub></span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#BinEq"><span class="id" title="constructor">BinEq</span></a> ⇒ <a class="idref" href="SpecCT.html#bool_to_nat"><span class="id" title="definition">bool_to_nat</span></a> (<a class="idref" href="SpecCT.html#n<sub>1</sub>:6"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:7"><span class="id" title="variable">n<sub>2</sub></span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#BinLe"><span class="id" title="constructor">BinLe</span></a> ⇒ <a class="idref" href="SpecCT.html#bool_to_nat"><span class="id" title="definition">bool_to_nat</span></a> (<a class="idref" href="SpecCT.html#n<sub>1</sub>:6"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#0f31f5c1c6b6a21a3a187247222bc9e<sub>4</sub>"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:7"><span class="id" title="variable">n<sub>2</sub></span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#BinAnd"><span class="id" title="constructor">BinAnd</span></a> ⇒ <a class="idref" href="SpecCT.html#bool_to_nat"><span class="id" title="definition">bool_to_nat</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <a class="idref" href="SpecCT.html#n<sub>1</sub>:6"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:7"><span class="id" title="variable">n<sub>2</sub></span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#BinImpl"><span class="id" title="constructor">BinImpl</span></a> ⇒ <a class="idref" href="SpecCT.html#bool_to_nat"><span class="id" title="definition">bool_to_nat</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <a class="idref" href="SpecCT.html#n<sub>1</sub>:6"><span class="id" title="variable">n<sub>1</sub></span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:7"><span class="id" title="variable">n<sub>2</sub></span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="exp" class="idref" href="#exp"><span class="id" title="definition, inductive"><span id="exp_rect" class="id"><span id="exp_ind" class="id"><span id="exp_rec" class="id"><span id="exp_sind" class="id">exp</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="ANum" class="idref" href="#ANum"><span class="id" title="constructor">ANum</span></a> (<a id="n:11" class="idref" href="#n:11"><span class="id" title="binder">n</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;| <a id="AId" class="idref" href="#AId"><span class="id" title="constructor">AId</span></a> (<a id="x:12" class="idref" href="#x:12"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>)<br/>
&nbsp;&nbsp;| <a id="ABin" class="idref" href="#ABin"><span class="id" title="constructor">ABin</span></a> (<a id="o:13" class="idref" href="#o:13"><span class="id" title="binder">o</span></a> : <a class="idref" href="SpecCT.html#binop"><span class="id" title="inductive">binop</span></a>) (<a id="e<sub>1</sub>:14" class="idref" href="#e<sub>1</sub>:14"><span class="id" title="binder">e<sub>1</sub></span></a> <a id="e<sub>2</sub>:15" class="idref" href="#e<sub>2</sub>:15"><span class="id" title="binder">e<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#exp:9"><span class="id" title="inductive">exp</span></a>) <span class="comment">(*&nbsp;&lt;---&nbsp;REFACTORED&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="ACTIf" class="idref" href="#ACTIf"><span class="id" title="constructor">ACTIf</span></a> (<a id="b:16" class="idref" href="#b:16"><span class="id" title="binder">b</span></a> : <a class="idref" href="SpecCT.html#exp:9"><span class="id" title="inductive">exp</span></a>) (<a id="e<sub>1</sub>:17" class="idref" href="#e<sub>1</sub>:17"><span class="id" title="binder">e<sub>1</sub></span></a> <a id="e<sub>2</sub>:18" class="idref" href="#e<sub>2</sub>:18"><span class="id" title="binder">e<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#exp:9"><span class="id" title="inductive">exp</span></a>). <span class="comment">(*&nbsp;&lt;---&nbsp;NEW&nbsp;*)</span><br/>
</div>

<div class="doc">
We encode all the previous arithmetic and boolean operations: 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="APlus" class="idref" href="#APlus"><span class="id" title="definition">APlus</span></a> := <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <a class="idref" href="SpecCT.html#BinPlus"><span class="id" title="constructor">BinPlus</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="AMinus" class="idref" href="#AMinus"><span class="id" title="definition">AMinus</span></a> := <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <a class="idref" href="SpecCT.html#BinMinus"><span class="id" title="constructor">BinMinus</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="AMult" class="idref" href="#AMult"><span class="id" title="definition">AMult</span></a> := <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <a class="idref" href="SpecCT.html#BinMult"><span class="id" title="constructor">BinMult</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="BTrue" class="idref" href="#BTrue"><span class="id" title="definition">BTrue</span></a> := <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">ANum</span></a> 1.<br/>
<span class="id" title="keyword">Definition</span> <a id="BFalse" class="idref" href="#BFalse"><span class="id" title="definition">BFalse</span></a> := <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">ANum</span></a> 0.<br/>
<span class="id" title="keyword">Definition</span> <a id="BAnd" class="idref" href="#BAnd"><span class="id" title="definition">BAnd</span></a> := <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <a class="idref" href="SpecCT.html#BinAnd"><span class="id" title="constructor">BinAnd</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="BImpl" class="idref" href="#BImpl"><span class="id" title="definition">BImpl</span></a> := <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <a class="idref" href="SpecCT.html#BinImpl"><span class="id" title="constructor">BinImpl</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="BNot" class="idref" href="#BNot"><span class="id" title="definition">BNot</span></a> <a id="b:19" class="idref" href="#b:19"><span class="id" title="binder">b</span></a> := <a class="idref" href="SpecCT.html#BImpl"><span class="id" title="definition">BImpl</span></a> <a class="idref" href="SpecCT.html#b:19"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#BFalse"><span class="id" title="definition">BFalse</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="BOr" class="idref" href="#BOr"><span class="id" title="definition">BOr</span></a> <a id="e<sub>1</sub>:20" class="idref" href="#e<sub>1</sub>:20"><span class="id" title="binder">e<sub>1</sub></span></a> <a id="e<sub>2</sub>:21" class="idref" href="#e<sub>2</sub>:21"><span class="id" title="binder">e<sub>2</sub></span></a> := <a class="idref" href="SpecCT.html#BImpl"><span class="id" title="definition">BImpl</span></a> (<a class="idref" href="SpecCT.html#BNot"><span class="id" title="definition">BNot</span></a> <a class="idref" href="SpecCT.html#e<sub>1</sub>:20"><span class="id" title="variable">e<sub>1</sub></span></a>) <a class="idref" href="SpecCT.html#e<sub>2</sub>:21"><span class="id" title="variable">e<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="BEq" class="idref" href="#BEq"><span class="id" title="definition">BEq</span></a> := <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <a class="idref" href="SpecCT.html#BinEq"><span class="id" title="constructor">BinEq</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="BNeq" class="idref" href="#BNeq"><span class="id" title="definition">BNeq</span></a> <a id="e<sub>1</sub>:22" class="idref" href="#e<sub>1</sub>:22"><span class="id" title="binder">e<sub>1</sub></span></a> <a id="e<sub>2</sub>:23" class="idref" href="#e<sub>2</sub>:23"><span class="id" title="binder">e<sub>2</sub></span></a> := <a class="idref" href="SpecCT.html#BNot"><span class="id" title="definition">BNot</span></a> (<a class="idref" href="SpecCT.html#BEq"><span class="id" title="definition">BEq</span></a> <a class="idref" href="SpecCT.html#e<sub>1</sub>:22"><span class="id" title="variable">e<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#e<sub>2</sub>:23"><span class="id" title="variable">e<sub>2</sub></span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="BLe" class="idref" href="#BLe"><span class="id" title="definition">BLe</span></a> := <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <a class="idref" href="SpecCT.html#BinLe"><span class="id" title="constructor">BinLe</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="BGt" class="idref" href="#BGt"><span class="id" title="definition">BGt</span></a> <a id="e<sub>1</sub>:24" class="idref" href="#e<sub>1</sub>:24"><span class="id" title="binder">e<sub>1</sub></span></a> <a id="e<sub>2</sub>:25" class="idref" href="#e<sub>2</sub>:25"><span class="id" title="binder">e<sub>2</sub></span></a> := <a class="idref" href="SpecCT.html#BNot"><span class="id" title="definition">BNot</span></a> (<a class="idref" href="SpecCT.html#BLe"><span class="id" title="definition">BLe</span></a> <a class="idref" href="SpecCT.html#e<sub>1</sub>:24"><span class="id" title="variable">e<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#e<sub>2</sub>:25"><span class="id" title="variable">e<sub>2</sub></span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="BLt" class="idref" href="#BLt"><span class="id" title="definition">BLt</span></a> <a id="e<sub>1</sub>:26" class="idref" href="#e<sub>1</sub>:26"><span class="id" title="binder">e<sub>1</sub></span></a> <a id="e<sub>2</sub>:27" class="idref" href="#e<sub>2</sub>:27"><span class="id" title="binder">e<sub>2</sub></span></a> := <a class="idref" href="SpecCT.html#BGt"><span class="id" title="definition">BGt</span></a> <a class="idref" href="SpecCT.html#e<sub>2</sub>:27"><span class="id" title="variable">e<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#e<sub>1</sub>:26"><span class="id" title="variable">e<sub>1</sub></span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="SpecCT.html#eval_binop"><span class="id" title="definition">eval_binop</span></a> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="SpecCT.html#APlus"><span class="id" title="definition">APlus</span></a> <a class="idref" href="SpecCT.html#AMinus"><span class="id" title="definition">AMinus</span></a> <a class="idref" href="SpecCT.html#AMult"><span class="id" title="definition">AMult</span></a> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="SpecCT.html#BTrue"><span class="id" title="definition">BTrue</span></a> <a class="idref" href="SpecCT.html#BFalse"><span class="id" title="definition">BFalse</span></a> : <span class="id" title="var">core</span>.<br/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="SpecCT.html#BAnd"><span class="id" title="definition">BAnd</span></a> <a class="idref" href="SpecCT.html#BImpl"><span class="id" title="definition">BImpl</span></a> <a class="idref" href="SpecCT.html#BNot"><span class="id" title="definition">BNot</span></a> <a class="idref" href="SpecCT.html#BOr"><span class="id" title="definition">BOr</span></a> <a class="idref" href="SpecCT.html#BEq"><span class="id" title="definition">BEq</span></a> <a class="idref" href="SpecCT.html#BNeq"><span class="id" title="definition">BNeq</span></a> <a class="idref" href="SpecCT.html#BLe"><span class="id" title="definition">BLe</span></a> <a class="idref" href="SpecCT.html#BGt"><span class="id" title="definition">BGt</span></a> <a class="idref" href="SpecCT.html#BLt"><span class="id" title="definition">BLt</span></a> : <span class="id" title="var">core</span>.<br/>
</div>

<div class="doc">
The notations we use for expressions are the same as in Imp,
    except the notation for <span class="inlinecode"><span class="id" title="var">be</span>?<span class="id" title="var">e<sub>1</sub></span>:<span class="id" title="var">e<sub>2</sub></span></span> which is new: 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="U" class="idref" href="#U"><span class="id" title="definition">U</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "U".<br/>
<span class="id" title="keyword">Definition</span> <a id="V" class="idref" href="#V"><span class="id" title="definition">V</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "V".<br/>
<span class="id" title="keyword">Definition</span> <a id="W" class="idref" href="#W"><span class="id" title="definition">W</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "W".<br/>
<span class="id" title="keyword">Definition</span> <a id="X" class="idref" href="#X"><span class="id" title="definition">X</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "X".<br/>
<span class="id" title="keyword">Definition</span> <a id="Y" class="idref" href="#Y"><span class="id" title="definition">Y</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "Y".<br/>
<span class="id" title="keyword">Definition</span> <a id="Z" class="idref" href="#Z"><span class="id" title="definition">Z</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "Z".<br/>
<span class="id" title="keyword">Definition</span> <a id="AP" class="idref" href="#AP"><span class="id" title="definition">AP</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "AP".<br/>
<span class="id" title="keyword">Definition</span> <a id="AS" class="idref" href="#AS"><span class="id" title="definition">AS</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "AS".<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="SpecCT.html#AId"><span class="id" title="constructor">AId</span></a> <a class="idref" href="SpecCT.html#AId"><span class="id" title="constructor">:</span></a> <a class="idref" href="SpecCT.html#AId"><span class="id" title="constructor">string</span></a> <a class="idref" href="SpecCT.html#AId"><span class="id" title="constructor">&gt;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span></a> <a class="idref" href="SpecCT.html#AId"><span class="id" title="constructor">exp</span></a>.<br/>
<span class="id" title="keyword">Coercion</span> <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">ANum</span></a> <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">:</span></a> <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">nat</span></a> <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">&gt;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span></a> <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">exp</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="var">Declare</span> <span class="id" title="var">Custom</span> <span class="id" title="var">Entry</span> <span class="id" title="var">com</span>.<br/>
<span class="id" title="keyword">Declare Scope</span> <span class="id" title="var">com_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="23430cd9e427d30c054d4f029e39cb7f" class="idref" href="#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&quot;</span></a>&lt;{ e }&gt;" := <span class="id" title="var">e</span> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">e</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="5a96623d056c293ebbcdf03005796e<sub>09</sub>" class="idref" href="#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">&quot;</span></a>( x )" := <span class="id" title="var">x</span> (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span>, <span class="id" title="var">x</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":com:com_scope:x" class="idref" href="#:com:com_scope:x"><span class="id" title="notation">&quot;</span></a>x" := <span class="id" title="var">x</span> (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":com:com_scope:x_x_'..'_x" class="idref" href="#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">&quot;</span></a>f x .. y" := (.. (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) .. <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">y</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>" class="idref" href="#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">&quot;</span></a>x + y"   := (<a class="idref" href="SpecCT.html#APlus"><span class="id" title="definition">APlus</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id=":com::x_'-'_x" class="idref" href="#:com::x_'-'_x"><span class="id" title="notation">&quot;</span></a>x - y"   := (<a class="idref" href="SpecCT.html#AMinus"><span class="id" title="definition">AMinus</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 50, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id="a73c7b35e67094dc8ae672f3a93da066" class="idref" href="#a73c7b35e67094dc8ae672f3a93da066"><span class="id" title="notation">&quot;</span></a>x * y"   := (<a class="idref" href="SpecCT.html#AMult"><span class="id" title="definition">AMult</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id=":::'true'" class="idref" href="#:::'true'"><span class="id" title="notation">&quot;</span></a>'true'"  := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 1).<br/>
<span class="id" title="keyword">Notation</span> <a id=":com::'true'" class="idref" href="#:com::'true'"><span class="id" title="notation">&quot;</span></a>'true'"  := <a class="idref" href="SpecCT.html#BTrue"><span class="id" title="definition">BTrue</span></a> (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0).<br/>
<span class="id" title="keyword">Notation</span> <a id=":::'false'" class="idref" href="#:::'false'"><span class="id" title="notation">&quot;</span></a>'false'" := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 1).<br/>
<span class="id" title="keyword">Notation</span> <a id=":com::'false'" class="idref" href="#:com::'false'"><span class="id" title="notation">&quot;</span></a>'false'" := <a class="idref" href="SpecCT.html#BFalse"><span class="id" title="definition">BFalse</span></a> (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0).<br/>
<span class="id" title="keyword">Notation</span> <a id="d43f15edd52d29ae8e0f90730a25ed5c" class="idref" href="#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">&quot;</span></a>x &lt;= y"  := (<a class="idref" href="SpecCT.html#BLe"><span class="id" title="definition">BLe</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id=":com::x_'&gt;'_x" class="idref" href="#:com::x_'&gt;'_x"><span class="id" title="notation">&quot;</span></a>x &gt; y"   := (<a class="idref" href="SpecCT.html#BGt"><span class="id" title="definition">BGt</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id=":com::x_'&lt;'_x" class="idref" href="#:com::x_'&lt;'_x"><span class="id" title="notation">&quot;</span></a>x &lt; y"   := (<a class="idref" href="SpecCT.html#BLt"><span class="id" title="definition">BLt</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id="9e5b22caf5d7cf490e97976162618c2a" class="idref" href="#9e5b22caf5d7cf490e97976162618c2a"><span class="id" title="notation">&quot;</span></a>x = y"   := (<a class="idref" href="SpecCT.html#BEq"><span class="id" title="definition">BEq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id=":com::x_'&lt;&gt;'_x" class="idref" href="#:com::x_'&lt;&gt;'_x"><span class="id" title="notation">&quot;</span></a>x &lt;&gt; y"  := (<a class="idref" href="SpecCT.html#BNeq"><span class="id" title="definition">BNeq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id=":com::x_'&amp;&amp;'_x" class="idref" href="#:com::x_'&amp;&amp;'_x"><span class="id" title="notation">&quot;</span></a>x &amp;&amp; y"  := (<a class="idref" href="SpecCT.html#BAnd"><span class="id" title="definition">BAnd</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 80, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id="dfe50505b2b595242030c436d0d7d15f" class="idref" href="#dfe50505b2b595242030c436d0d7d15f"><span class="id" title="notation">&quot;</span></a>'~' b"   := (<a class="idref" href="SpecCT.html#BNot"><span class="id" title="definition">BNot</span></a> <span class="id" title="var">b</span>) (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 75, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">com_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="e394e4519717f9f211167ad5ddb8b548" class="idref" href="#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">&quot;</span></a>be '?' e<sub>1</sub> ':' e<sub>2</sub>"  := (<a class="idref" href="SpecCT.html#ACTIf"><span class="id" title="constructor">ACTIf</span></a> <span class="id" title="var">be</span> <span class="id" title="var">e<sub>1</sub></span> <span class="id" title="var">e<sub>2</sub></span>) <span class="comment">(*&nbsp;&lt;--&nbsp;NEW&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 20, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
</div>

<div class="doc">
<a id="lab67"></a><h2 class="section">Adding arrays</h2>

<div class="paragraph"> </div>

 Now back to adding array loads and stores to commands: 
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="com" class="idref" href="#com"><span class="id" title="definition, inductive"><span id="com_rect" class="id"><span id="com_ind" class="id"><span id="com_rec" class="id"><span id="com_sind" class="id">com</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="Skip" class="idref" href="#Skip"><span class="id" title="constructor">Skip</span></a><br/>
&nbsp;&nbsp;| <a id="Asgn" class="idref" href="#Asgn"><span class="id" title="constructor">Asgn</span></a> (<a id="x:30" class="idref" href="#x:30"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="e:31" class="idref" href="#e:31"><span class="id" title="binder">e</span></a> : <a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>)<br/>
&nbsp;&nbsp;| <a id="Seq" class="idref" href="#Seq"><span class="id" title="constructor">Seq</span></a> (<a id="c<sub>1</sub>:32" class="idref" href="#c<sub>1</sub>:32"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:33" class="idref" href="#c<sub>2</sub>:33"><span class="id" title="binder">c<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#com:28"><span class="id" title="inductive">com</span></a>)<br/>
&nbsp;&nbsp;| <a id="If" class="idref" href="#If"><span class="id" title="constructor">If</span></a> (<a id="be:34" class="idref" href="#be:34"><span class="id" title="binder">be</span></a> : <a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>) (<a id="c<sub>1</sub>:35" class="idref" href="#c<sub>1</sub>:35"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:36" class="idref" href="#c<sub>2</sub>:36"><span class="id" title="binder">c<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#com:28"><span class="id" title="inductive">com</span></a>)<br/>
&nbsp;&nbsp;| <a id="While" class="idref" href="#While"><span class="id" title="constructor">While</span></a> (<a id="be:37" class="idref" href="#be:37"><span class="id" title="binder">be</span></a> : <a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>) (<a id="c:38" class="idref" href="#c:38"><span class="id" title="binder">c</span></a> : <a class="idref" href="SpecCT.html#com:28"><span class="id" title="inductive">com</span></a>)<br/>
&nbsp;&nbsp;| <a id="ALoad" class="idref" href="#ALoad"><span class="id" title="constructor">ALoad</span></a> (<a id="x:39" class="idref" href="#x:39"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="a:40" class="idref" href="#a:40"><span class="id" title="binder">a</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="i:41" class="idref" href="#i:41"><span class="id" title="binder">i</span></a> : <a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>) <span class="comment">(*&nbsp;&lt;---&nbsp;NEW&nbsp;*)</span><br/>
&nbsp;&nbsp;| <a id="AStore" class="idref" href="#AStore"><span class="id" title="constructor">AStore</span></a> (<a id="a:42" class="idref" href="#a:42"><span class="id" title="binder">a</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="i:43" class="idref" href="#i:43"><span class="id" title="binder">i</span></a> : <a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>) (<a id="e:44" class="idref" href="#e:44"><span class="id" title="binder">e</span></a> : <a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>)  <span class="comment">(*&nbsp;&lt;---&nbsp;NEW&nbsp;*)</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="b980709f1dd80c7e5c312e7bff2251bf" class="idref" href="#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&quot;</span></a>&lt;<span style='letter-spacing:-.4em;'>{</span>{ e <span style='letter-spacing:-.4em;'>}</span>}&gt;" := <span class="id" title="var">e</span> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">e</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="5a96623d056c293ebbcdf03005796e<sub>09</sub>" class="idref" href="#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">&quot;</span></a>( x )" := <span class="id" title="var">x</span> (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span>, <span class="id" title="var">x</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":com:com_scope:x" class="idref" href="#:com:com_scope:x"><span class="id" title="notation">&quot;</span></a>x" := <span class="id" title="var">x</span> (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":com:com_scope:x_x_'..'_x" class="idref" href="#:com:com_scope:x_x_'..'_x"><span class="id" title="notation">&quot;</span></a>f x .. y" := (.. (<span class="id" title="var">f</span> <span class="id" title="var">x</span>) .. <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">only</span> <span class="id" title="var">parsing</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">f</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">y</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9) : <span class="id" title="var">com_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">com_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id=":com:com_scope:'skip'" class="idref" href="#:com:com_scope:'skip'"><span class="id" title="notation">&quot;</span></a>'skip'"  :=<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#Skip"><span class="id" title="constructor">Skip</span></a> (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="91e9aa710642047a93142bdf557f1a1b" class="idref" href="#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">&quot;</span></a>x := y"  :=<br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#Asgn"><span class="id" title="constructor">Asgn</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">y</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>" class="idref" href="#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">&quot;</span></a>x ; y" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#Seq"><span class="id" title="constructor">Seq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 90, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":com:com_scope:'if'_x_'then'_x_'else'_x_'end'" class="idref" href="#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">&quot;</span></a>'if' x 'then' y 'else' z 'end'" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#If"><span class="id" title="constructor">If</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 89, <span class="id" title="var">x</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99, <span class="id" title="var">z</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id=":com:com_scope:'while'_x_'do'_x_'end'" class="idref" href="#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">&quot;</span></a>'while' x 'do' y 'end'" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#While"><span class="id" title="constructor">While</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 89, <span class="id" title="var">x</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99, <span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99) : <span class="id" title="var">com_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="5d7f78d973a61a35f66b07dad8130451" class="idref" href="#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&quot;</span></a>x '&lt;-' a '[[' i ']]'" := (<a class="idref" href="SpecCT.html#ALoad"><span class="id" title="constructor">ALoad</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">i</span>) <span class="comment">(*&nbsp;&lt;---&nbsp;NEW&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">a</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85, <span class="id" title="var">i</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="78f8c68be5d58b21aed16797e33628b<sub>0</sub>" class="idref" href="#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&quot;</span></a>a '[' i ']'  '&lt;-' e"  := (<a class="idref" href="SpecCT.html#AStore"><span class="id" title="constructor">AStore</span></a> <span class="id" title="var">a</span> <span class="id" title="var">i</span> <span class="id" title="var">e</span>) <span class="comment">(*&nbsp;&lt;---&nbsp;NEW&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">a</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">e</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">com_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="state" class="idref" href="#state"><span class="id" title="definition">state</span></a> := <span class="id" title="definition">total_map</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="mem" class="idref" href="#mem"><span class="id" title="definition">mem</span></a> := <span class="id" title="definition">total_map</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>). <span class="comment">(*&nbsp;&lt;---&nbsp;NEW&nbsp;*)</span><br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a id="eval" class="idref" href="#eval"><span class="id" title="definition">eval</span></a> (<a id="st:45" class="idref" href="#st:45"><span class="id" title="binder">st</span></a> : <a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a>) (<a id="e:46" class="idref" href="#e:46"><span class="id" title="binder">e</span></a>: <a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#e:46"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n</span> ⇒ <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#AId"><span class="id" title="constructor">AId</span></a> <span class="id" title="var">x</span> ⇒ <a class="idref" href="SpecCT.html#st:45"><span class="id" title="variable">st</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <span class="id" title="var">b</span> <span class="id" title="var">e<sub>1</sub></span> <span class="id" title="var">e<sub>2</sub></span> ⇒ <a class="idref" href="SpecCT.html#eval_binop"><span class="id" title="definition">eval_binop</span></a> <span class="id" title="var">b</span> (<a class="idref" href="SpecCT.html#eval:47"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:45"><span class="id" title="variable">st</span></a> <span class="id" title="var">e<sub>1</sub></span>) (<a class="idref" href="SpecCT.html#eval:47"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:45"><span class="id" title="variable">st</span></a> <span class="id" title="var">e<sub>2</sub></span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><span class="id" title="var">b</span> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> <span class="id" title="var">e<sub>1</sub></span> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> <span class="id" title="var">e<sub>2</sub></span><a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval:47"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:45"><span class="id" title="variable">st</span></a> <span class="id" title="var">b</span>) <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#eval:47"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:45"><span class="id" title="variable">st</span></a> <span class="id" title="var">e<sub>1</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;^-&nbsp;NEW&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;*)</span>      <span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#eval:47"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:45"><span class="id" title="variable">st</span></a> <span class="id" title="var">e<sub>2</sub></span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
A couple of obvious lemmas that will be useful in the proofs: 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="not_zero_eval_S" class="idref" href="#not_zero_eval_S"><span class="id" title="lemma">not_zero_eval_S</span></a> : <span class="id" title="keyword">∀</span> <a id="b:49" class="idref" href="#b:49"><span class="id" title="binder">b</span></a> <a id="n:50" class="idref" href="#n:50"><span class="id" title="binder">n</span></a> <a id="st:51" class="idref" href="#st:51"><span class="id" title="binder">st</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:51"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#b:49"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="SpecCT.html#n:50"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:51"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#b:49"><span class="id" title="variable">b</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a>.<br/>
<div class="togglescript" id="proofcontrol1" onclick="toggleDisplay('proof1');toggleDisplay('proofcontrol1')"><span class="show"></span></div>
<div class="proofscript" id="proof1" onclick="toggleDisplay('proof1');toggleDisplay('proofcontrol1')">
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">n</span> <span class="id" title="var">st</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="not_zero_eval_O" class="idref" href="#not_zero_eval_O"><span class="id" title="lemma">not_zero_eval_O</span></a> : <span class="id" title="keyword">∀</span> <a id="b:52" class="idref" href="#b:52"><span class="id" title="binder">b</span></a> <a id="st:53" class="idref" href="#st:53"><span class="id" title="binder">st</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:53"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#b:52"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:53"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#b:52"><span class="id" title="variable">b</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a>.<br/>
<div class="togglescript" id="proofcontrol2" onclick="toggleDisplay('proof2');toggleDisplay('proofcontrol2')"><span class="show"></span></div>
<div class="proofscript" id="proof2" onclick="toggleDisplay('proof2');toggleDisplay('proofcontrol2')">
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">b</span> <span class="id" title="var">st</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
We also define an array update operation, to be used in the semantics of
    array stores below: 
</div>
<div class="code">

<span class="id" title="keyword">Fixpoint</span> <a id="upd" class="idref" href="#upd"><span class="id" title="definition">upd</span></a> (<a id="i:54" class="idref" href="#i:54"><span class="id" title="binder">i</span></a>:<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="ns:55" class="idref" href="#ns:55"><span class="id" title="binder">ns</span></a>:<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="n:56" class="idref" href="#n:56"><span class="id" title="binder">n</span></a>:<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#i:54"><span class="id" title="variable">i</span></a>, <a class="idref" href="SpecCT.html#ns:55"><span class="id" title="variable">ns</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| 0, <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ns'</span> ⇒ <a class="idref" href="SpecCT.html#n:56"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ns'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">i'</span>, <span class="id" title="var">n'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ns'</span> ⇒ <span class="id" title="var">n'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#upd:57"><span class="id" title="definition">upd</span></a> <span class="id" title="var">i'</span> <span class="id" title="var">ns'</span> <a class="idref" href="SpecCT.html#n:56"><span class="id" title="variable">n</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#ns:55"><span class="id" title="variable">ns</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
<a id="lab68"></a><h2 class="section">Instrumenting semantics with observations</h2>

<div class="paragraph"> </div>

 In addition to the boolean branches, which are observable in the CF security
    model, for CCT security also the index of array loads and stores are
    observable: 
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="observation" class="idref" href="#observation"><span class="id" title="definition, inductive"><span id="observation_rect" class="id"><span id="observation_ind" class="id"><span id="observation_rec" class="id"><span id="observation_sind" class="id">observation</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;| <a id="OBranch" class="idref" href="#OBranch"><span class="id" title="constructor">OBranch</span></a> (<a id="b:62" class="idref" href="#b:62"><span class="id" title="binder">b</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
&nbsp;&nbsp;| <a id="OALoad" class="idref" href="#OALoad"><span class="id" title="constructor">OALoad</span></a> (<a id="a:63" class="idref" href="#a:63"><span class="id" title="binder">a</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="i:64" class="idref" href="#i:64"><span class="id" title="binder">i</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
&nbsp;&nbsp;| <a id="OAStore" class="idref" href="#OAStore"><span class="id" title="constructor">OAStore</span></a> (<a id="a:65" class="idref" href="#a:65"><span class="id" title="binder">a</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="i:66" class="idref" href="#i:66"><span class="id" title="binder">i</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="obs" class="idref" href="#obs"><span class="id" title="definition">obs</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#observation"><span class="id" title="inductive">observation</span></a>.<br/>
</div>

<div class="doc">
We define an instrumented big-step operational semantics producing these
    observations: 
<ul class="doclist">
<li> <span class="inlinecode">&lt;(<span class="id" title="var">st</span>,</span> <span class="inlinecode"><span class="id" title="var">m</span>)&gt;</span> <span class="inlinecode">=[</span> <span class="inlinecode"><span class="id" title="var">c</span></span> <span class="inlinecode">]=&gt;</span> <span class="inlinecode">&lt;(<span class="id" title="var">st'</span>,</span> <span class="inlinecode"><span class="id" title="var">m'</span>,</span> <span class="inlinecode"><span class="id" title="var">os</span>)&gt;</span>

</li>
</ul>

<div class="paragraph"> </div>

    Intuitively, variables act like registers (not observable),
    while arrays act like the memory (addresses observable). 
<div class="paragraph"> </div>

 <center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (CTE_Skip) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, m)> =[ skip ]=> <(st, m, [])></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">eval st e = n</td>
  <td class="infrulenamecol" rowspan="3">
    (CTE_Asgn) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, m)> =[ x := e ]=> <(x !<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> n; st, m, [])></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule"><(st, m)> =[ c<sub>1</sub> ]=> <(st', m', os<sub>1</sub>)></td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st', m')> =[ c<sub>2</sub> ]=> <(st'', m'', os<sub>2</sub>)></td>
  <td class="infrulenamecol" rowspan="3">
    (CTE_Seq) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, m)>  =[ c<sub>1</sub> ; c<sub>2</sub> ]=> <(st'', m'', os<sub>1</sub> ++ os<sub>2</sub>)></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">let c := if not_zero (eval st be) then c<sub>1</sub> else c<sub>2</sub> in</td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st,m)> =[ c ]=> <(st',m',os<sub>1</sub>)></td>
  <td class="infrulenamecol" rowspan="3">
    (CTE_If) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, m)> =[ if be then c<sub>1</sub> else c<sub>2</sub> end]=></td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st', m', [OBranch (not_zero (eval st be))] ++ os<sub>1</sub>)></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule"><(st,m)> =[ if be then c; while be do c end else skip end ]=> <(st',m',os)></td>
  <td class="infrulenamecol" rowspan="3">
    (CTE_While) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st,m)> =[ while be do c end ]=> <(st', m', os)></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">eval st ie = i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i < length (m a)</td>
  <td class="infrulenamecol" rowspan="3">
    (CTE_ALoad) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st,m)> =[ x <- a[[ie]] ]=> <(x!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>nth i (m a) 0; st, m,[OALoad a i])></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">eval st e = n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval st ie = i&nbsp;&nbsp;&nbsp;&nbsp;i < length (m a)</td>
  <td class="infrulenamecol" rowspan="3">
    (CTE_AStore) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st,m)> =[ a[ie] <- e ]=> <(st, a!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>upd i (m a) n; m,[OAStore a i])></td>
  <td></td>
</tr>
</table></center>
</div>
<div class="code">

<span class="id" title="keyword">Reserved Notation</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"'&lt;(' st , m ')&gt;' '=[' c ']=&gt;' '&lt;(' stt , mt , os ')&gt;'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">c</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">st</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">m</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">stt</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">mt</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="cteval" class="idref" href="#cteval"><span class="id" title="definition, inductive"><span id="cteval_ind" class="id"><span id="cteval_sind" class="id">cteval</span></span></span></a> : <a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="CTE_Skip" class="idref" href="#CTE_Skip"><span class="id" title="constructor">CTE_Skip</span></a> : <span class="id" title="keyword">∀</span> <a id="st:69" class="idref" href="#st:69"><span class="id" title="binder">st</span></a> <a id="m:70" class="idref" href="#m:70"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:69"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:70"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:69"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:70"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CTE_Asgn" class="idref" href="#CTE_Asgn"><span class="id" title="constructor">CTE_Asgn</span></a>  : <span class="id" title="keyword">∀</span> <a id="st:71" class="idref" href="#st:71"><span class="id" title="binder">st</span></a> <a id="m:72" class="idref" href="#m:72"><span class="id" title="binder">m</span></a> <a id="e:73" class="idref" href="#e:73"><span class="id" title="binder">e</span></a> <a id="n:74" class="idref" href="#n:74"><span class="id" title="binder">n</span></a> <a id="x:75" class="idref" href="#x:75"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:71"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:73"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:74"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:71"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:72"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:75"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#e:73"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:75"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:74"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:71"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:72"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CTE_Seq" class="idref" href="#CTE_Seq"><span class="id" title="constructor">CTE_Seq</span></a> : <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:76" class="idref" href="#c<sub>1</sub>:76"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:77" class="idref" href="#c<sub>2</sub>:77"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="st:78" class="idref" href="#st:78"><span class="id" title="binder">st</span></a> <a id="m:79" class="idref" href="#m:79"><span class="id" title="binder">m</span></a> <a id="st':80" class="idref" href="#st':80"><span class="id" title="binder">st'</span></a> <a id="m':81" class="idref" href="#m':81"><span class="id" title="binder">m'</span></a> <a id="st'':82" class="idref" href="#st'':82"><span class="id" title="binder">st''</span></a> <a id="m'':83" class="idref" href="#m'':83"><span class="id" title="binder">m''</span></a> <a id="os<sub>1</sub>:84" class="idref" href="#os<sub>1</sub>:84"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:85" class="idref" href="#os<sub>2</sub>:85"><span class="id" title="binder">os<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:78"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:79"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:76"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':80"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':81"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:84"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a>  <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':80"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':81"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:77"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st'':82"><span class="id" title="variable">st''</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m'':83"><span class="id" title="variable">m''</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:85"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:78"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:79"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a>  <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:76"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:77"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st'':82"><span class="id" title="variable">st''</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m'':83"><span class="id" title="variable">m''</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:84"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="SpecCT.html#os<sub>2</sub>:85"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CTE_If" class="idref" href="#CTE_If"><span class="id" title="constructor">CTE_If</span></a> : <span class="id" title="keyword">∀</span> <a id="st:86" class="idref" href="#st:86"><span class="id" title="binder">st</span></a> <a id="m:87" class="idref" href="#m:87"><span class="id" title="binder">m</span></a> <a id="st':88" class="idref" href="#st':88"><span class="id" title="binder">st'</span></a> <a id="m':89" class="idref" href="#m':89"><span class="id" title="binder">m'</span></a> <a id="be:90" class="idref" href="#be:90"><span class="id" title="binder">be</span></a> <a id="c<sub>1</sub>:91" class="idref" href="#c<sub>1</sub>:91"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:92" class="idref" href="#c<sub>2</sub>:92"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="os<sub>1</sub>:93" class="idref" href="#os<sub>1</sub>:93"><span class="id" title="binder">os<sub>1</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c:94" class="idref" href="#c:94"><span class="id" title="binder">c</span></a> := <span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:86"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:90"><span class="id" title="variable">be</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#c<sub>1</sub>:91"><span class="id" title="variable">c<sub>1</sub></span></a> <span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#c<sub>2</sub>:92"><span class="id" title="variable">c<sub>2</sub></span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:86"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:87"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:94"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':88"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':89"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:93"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:86"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:87"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#be:90"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:91"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:92"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':88"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':89"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:86"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:90"><span class="id" title="variable">be</span></a>))<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:93"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CTE_While" class="idref" href="#CTE_While"><span class="id" title="constructor">CTE_While</span></a> : <span class="id" title="keyword">∀</span> <a id="b:95" class="idref" href="#b:95"><span class="id" title="binder">b</span></a> <a id="st:96" class="idref" href="#st:96"><span class="id" title="binder">st</span></a> <a id="m:97" class="idref" href="#m:97"><span class="id" title="binder">m</span></a> <a id="st':98" class="idref" href="#st':98"><span class="id" title="binder">st'</span></a> <a id="m':99" class="idref" href="#m':99"><span class="id" title="binder">m'</span></a> <a id="os:100" class="idref" href="#os:100"><span class="id" title="binder">os</span></a> <a id="c:101" class="idref" href="#c:101"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:96"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a><a class="idref" href="SpecCT.html#m:97"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#b:95"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c:101"><span class="id" title="variable">c</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#b:95"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c:101"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':98"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':99"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:100"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="comment">(*&nbsp;&lt;^-&nbsp;Nice&nbsp;trick;&nbsp;from&nbsp;small-step&nbsp;semantics&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:96"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a><a class="idref" href="SpecCT.html#m:97"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#b:95"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c:101"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':98"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':99"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:100"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CTE_ALoad" class="idref" href="#CTE_ALoad"><span class="id" title="constructor">CTE_ALoad</span></a> : <span class="id" title="keyword">∀</span> <a id="st:102" class="idref" href="#st:102"><span class="id" title="binder">st</span></a> <a id="m:103" class="idref" href="#m:103"><span class="id" title="binder">m</span></a> <a id="x:104" class="idref" href="#x:104"><span class="id" title="binder">x</span></a> <a id="a:105" class="idref" href="#a:105"><span class="id" title="binder">a</span></a> <a id="ie:106" class="idref" href="#ie:106"><span class="id" title="binder">ie</span></a> <a id="i:107" class="idref" href="#i:107"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:102"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:106"><span class="id" title="variable">ie</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:107"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:107"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#m:103"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:105"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:102"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:103"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:104"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#a:105"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#ie:106"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:104"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="SpecCT.html#i:107"><span class="id" title="variable">i</span></a> (<a class="idref" href="SpecCT.html#m:103"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:105"><span class="id" title="variable">a</span></a>) 0<span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:102"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:103"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OALoad"><span class="id" title="constructor">OALoad</span></a> <a class="idref" href="SpecCT.html#a:105"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:107"><span class="id" title="variable">i</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CTE_AStore" class="idref" href="#CTE_AStore"><span class="id" title="constructor">CTE_AStore</span></a> : <span class="id" title="keyword">∀</span> <a id="st:108" class="idref" href="#st:108"><span class="id" title="binder">st</span></a> <a id="m:109" class="idref" href="#m:109"><span class="id" title="binder">m</span></a> <a id="a:110" class="idref" href="#a:110"><span class="id" title="binder">a</span></a> <a id="ie:111" class="idref" href="#ie:111"><span class="id" title="binder">ie</span></a> <a id="i:112" class="idref" href="#i:112"><span class="id" title="binder">i</span></a> <a id="e:113" class="idref" href="#e:113"><span class="id" title="binder">e</span></a> <a id="n:114" class="idref" href="#n:114"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:108"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:113"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:114"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:108"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:111"><span class="id" title="variable">ie</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:112"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:112"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#m:109"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:110"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:108"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:109"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#a:110"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#ie:111"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#e:113"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:108"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a:110"><span class="id" title="variable">a</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#upd"><span class="id" title="definition">upd</span></a> <a class="idref" href="SpecCT.html#i:112"><span class="id" title="variable">i</span></a> (<a class="idref" href="SpecCT.html#m:109"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:110"><span class="id" title="variable">a</span></a>) <a class="idref" href="SpecCT.html#n:114"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#m:109"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OAStore"><span class="id" title="constructor">OAStore</span></a> <a class="idref" href="SpecCT.html#a:110"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:112"><span class="id" title="variable">i</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="5fa47eea02f04b19747c38c6e11199c<sub>7</sub>" class="idref" href="#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&quot;</span></a>&lt;( st , m )&gt; =[ c ]=&gt; &lt;( stt , mt , os )&gt;" := (<a class="idref" href="SpecCT.html#cteval:68"><span class="id" title="inductive">cteval</span></a> <span class="id" title="var">c</span> <span class="id" title="var">st</span> <span class="id" title="var">m</span> <span class="id" title="var">stt</span> <span class="id" title="var">mt</span> <span class="id" title="var">os</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="SpecCT.html#cteval"><span class="id" title="inductive">cteval</span></a> : <span class="id" title="var">core</span>.<br/>
</div>

<div class="doc">
<a id="lab69"></a><h2 class="section">Constant-time security definition</h2>

</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="label" class="idref" href="#label"><span class="id" title="definition">label</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="public" class="idref" href="#public"><span class="id" title="definition">public</span></a> : <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a> := <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="secret" class="idref" href="#secret"><span class="id" title="definition">secret</span></a> : <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a> := <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="pub_vars" class="idref" href="#pub_vars"><span class="id" title="definition">pub_vars</span></a> := <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="pub_arrs" class="idref" href="#pub_arrs"><span class="id" title="definition">pub_arrs</span></a> := <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="pub_equiv" class="idref" href="#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> (<a id="P:115" class="idref" href="#P:115"><span class="id" title="binder">P</span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>) {<a id="X:116" class="idref" href="#X:116"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="s<sub>1</sub>:117" class="idref" href="#s<sub>1</sub>:117"><span class="id" title="binder">s<sub>1</sub></span></a> <a id="s<sub>2</sub>:118" class="idref" href="#s<sub>2</sub>:118"><span class="id" title="binder">s<sub>2</sub></span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#X:116"><span class="id" title="variable">X</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="x:119" class="idref" href="#x:119"><span class="id" title="binder">x</span></a>:<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>, <a class="idref" href="SpecCT.html#P:115"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#x:119"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:117"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#x:119"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:118"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#x:119"><span class="id" title="variable">x</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="pub_equiv_refl" class="idref" href="#pub_equiv_refl"><span class="id" title="lemma">pub_equiv_refl</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="X:120" class="idref" href="#X:120"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="P:121" class="idref" href="#P:121"><span class="id" title="binder">P</span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>) (<a id="s:122" class="idref" href="#s:122"><span class="id" title="binder">s</span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#X:120"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:121"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s:122"><span class="id" title="variable">s</span></a> <a class="idref" href="SpecCT.html#s:122"><span class="id" title="variable">s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">P</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="pub_equiv_sym" class="idref" href="#pub_equiv_sym"><span class="id" title="lemma">pub_equiv_sym</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="X:123" class="idref" href="#X:123"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="P:124" class="idref" href="#P:124"><span class="id" title="binder">P</span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>) (<a id="s<sub>1</sub>:125" class="idref" href="#s<sub>1</sub>:125"><span class="id" title="binder">s<sub>1</sub></span></a> <a id="s<sub>2</sub>:126" class="idref" href="#s<sub>2</sub>:126"><span class="id" title="binder">s<sub>2</sub></span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#X:123"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:124"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:125"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:126"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:124"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:126"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:125"><span class="id" title="variable">s<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">P</span> <span class="id" title="var">s<sub>1</sub></span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">H</span> <span class="id" title="var">x</span> <span class="id" title="var">Px</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="pub_equiv_trans" class="idref" href="#pub_equiv_trans"><span class="id" title="lemma">pub_equiv_trans</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="X:127" class="idref" href="#X:127"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="P:128" class="idref" href="#P:128"><span class="id" title="binder">P</span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>) (<a id="s<sub>1</sub>:129" class="idref" href="#s<sub>1</sub>:129"><span class="id" title="binder">s<sub>1</sub></span></a> <a id="s<sub>2</sub>:130" class="idref" href="#s<sub>2</sub>:130"><span class="id" title="binder">s<sub>2</sub></span></a> <a id="s<sub>3</sub>:131" class="idref" href="#s<sub>3</sub>:131"><span class="id" title="binder">s<sub>3</sub></span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#X:127"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:128"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:129"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:130"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:128"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:130"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>3</sub>:131"><span class="id" title="variable">s<sub>3</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:128"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:129"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>3</sub>:131"><span class="id" title="variable">s<sub>3</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">P</span> <span class="id" title="var">s<sub>1</sub></span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">s<sub>3</sub></span> <span class="id" title="var">H<sub>12</sub></span> <span class="id" title="var">H<sub>23</sub></span> <span class="id" title="var">x</span> <span class="id" title="var">Px</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H<sub>23</sub></span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="pub_equiv_update_secret" class="idref" href="#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="X:132" class="idref" href="#X:132"><span class="id" title="binder">X</span></a>: <span class="id" title="keyword">Type</span>} (<a id="P:133" class="idref" href="#P:133"><span class="id" title="binder">P</span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>) (<a id="s<sub>1</sub>:134" class="idref" href="#s<sub>1</sub>:134"><span class="id" title="binder">s<sub>1</sub></span></a> <a id="s<sub>2</sub>:135" class="idref" href="#s<sub>2</sub>:135"><span class="id" title="binder">s<sub>2</sub></span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#X:132"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="x:136" class="idref" href="#x:136"><span class="id" title="binder">x</span></a>: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="e<sub>1</sub>:137" class="idref" href="#e<sub>1</sub>:137"><span class="id" title="binder">e<sub>1</sub></span></a> <a id="e<sub>2</sub>:138" class="idref" href="#e<sub>2</sub>:138"><span class="id" title="binder">e<sub>2</sub></span></a>: <a class="idref" href="SpecCT.html#X:132"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:133"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:134"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:135"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:133"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#x:136"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#secret"><span class="id" title="definition">secret</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:133"><span class="id" title="variable">P</span></a> (<a class="idref" href="SpecCT.html#x:136"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#e<sub>1</sub>:137"><span class="id" title="variable">e<sub>1</sub></span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#s<sub>1</sub>:134"><span class="id" title="variable">s<sub>1</sub></span></a>) (<a class="idref" href="SpecCT.html#x:136"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#e<sub>2</sub>:138"><span class="id" title="variable">e<sub>2</sub></span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#s<sub>2</sub>:135"><span class="id" title="variable">s<sub>2</sub></span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">P</span> <span class="id" title="var">s<sub>1</sub></span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">H</span> <span class="id" title="var">Pe</span> <span class="id" title="var">Px</span> <span class="id" title="var">y</span> <span class="id" title="var">Py</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hxy</span> | <span class="id" title="var">Hxy</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Px</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Py</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="pub_equiv_update_public" class="idref" href="#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="X:139" class="idref" href="#X:139"><span class="id" title="binder">X</span></a>: <span class="id" title="keyword">Type</span>} (<a id="P:140" class="idref" href="#P:140"><span class="id" title="binder">P</span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>) (<a id="s<sub>1</sub>:141" class="idref" href="#s<sub>1</sub>:141"><span class="id" title="binder">s<sub>1</sub></span></a> <a id="s<sub>2</sub>:142" class="idref" href="#s<sub>2</sub>:142"><span class="id" title="binder">s<sub>2</sub></span></a> : <span class="id" title="definition">total_map</span> <a class="idref" href="SpecCT.html#X:139"><span class="id" title="variable">X</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="x:143" class="idref" href="#x:143"><span class="id" title="binder">x</span></a>: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) {<a id="e<sub>1</sub>:144" class="idref" href="#e<sub>1</sub>:144"><span class="id" title="binder">e<sub>1</sub></span></a> <a id="e<sub>2</sub>:145" class="idref" href="#e<sub>2</sub>:145"><span class="id" title="binder">e<sub>2</sub></span></a>: <a class="idref" href="SpecCT.html#X:139"><span class="id" title="variable">X</span></a>},<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:140"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:141"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:142"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#e<sub>1</sub>:144"><span class="id" title="variable">e<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#e<sub>2</sub>:145"><span class="id" title="variable">e<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:140"><span class="id" title="variable">P</span></a> (<a class="idref" href="SpecCT.html#x:143"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#e<sub>1</sub>:144"><span class="id" title="variable">e<sub>1</sub></span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#s<sub>1</sub>:141"><span class="id" title="variable">s<sub>1</sub></span></a>) (<a class="idref" href="SpecCT.html#x:143"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#e<sub>2</sub>:145"><span class="id" title="variable">e<sub>2</sub></span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#s<sub>2</sub>:142"><span class="id" title="variable">s<sub>2</sub></span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">P</span> <span class="id" title="var">s<sub>1</sub></span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">x</span> <span class="id" title="var">e<sub>1</sub></span> <span class="id" title="var">e<sub>2</sub></span> <span class="id" title="var">H</span> <span class="id" title="var">Eq</span> <span class="id" title="var">y</span> <span class="id" title="var">Py</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hxy</span> | <span class="id" title="var">Hxy</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="cct_secure" class="idref" href="#cct_secure"><span class="id" title="definition">cct_secure</span></a> <a id="P:146" class="idref" href="#P:146"><span class="id" title="binder">P</span></a> <a id="PA:147" class="idref" href="#PA:147"><span class="id" title="binder">PA</span></a> <a id="c:148" class="idref" href="#c:148"><span class="id" title="binder">c</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="st<sub>1</sub>:149" class="idref" href="#st<sub>1</sub>:149"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:150" class="idref" href="#st<sub>2</sub>:150"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="m<sub>1</sub>:151" class="idref" href="#m<sub>1</sub>:151"><span class="id" title="binder">m<sub>1</sub></span></a> <a id="m<sub>2</sub>:152" class="idref" href="#m<sub>2</sub>:152"><span class="id" title="binder">m<sub>2</sub></span></a> <a id="st<sub>1</sub>':153" class="idref" href="#st<sub>1</sub>':153"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':154" class="idref" href="#st<sub>2</sub>':154"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="m<sub>1</sub>':155" class="idref" href="#m<sub>1</sub>':155"><span class="id" title="binder">m<sub>1</sub>'</span></a> <a id="m<sub>2</sub>':156" class="idref" href="#m<sub>2</sub>':156"><span class="id" title="binder">m<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:157" class="idref" href="#os<sub>1</sub>:157"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:158" class="idref" href="#os<sub>2</sub>:158"><span class="id" title="binder">os<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:146"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:149"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:150"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:147"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:151"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:152"><span class="id" title="variable">m<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>:149"><span class="id" title="variable">st<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:151"><span class="id" title="variable">m<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:148"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>':153"><span class="id" title="variable">st<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>':155"><span class="id" title="variable">m<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:157"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>:150"><span class="id" title="variable">st<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:152"><span class="id" title="variable">m<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:148"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>':154"><span class="id" title="variable">st<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>':156"><span class="id" title="variable">m<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:158"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#os<sub>1</sub>:157"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:158"><span class="id" title="variable">os<sub>2</sub></span></a>.<br/>
</div>

<div class="doc">
<a id="lab70"></a><h2 class="section">Example CF secure program that is not CCT secure</h2>

</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="cct_insecure_prog" class="idref" href="#cct_insecure_prog"><span class="id" title="definition">cct_insecure_prog</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#V"><span class="id" title="definition">V</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#W"><span class="id" title="definition">W</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> .<br/>
</div>

<div class="doc">
Let's assume that <span class="inlinecode"><span class="id" title="var">W</span></span> and <span class="inlinecode"><span class="id" title="var">V</span></span> are secret variables.
    This program is trivially CF secure, because it does not branch at all.
    But it is not CCT secure. 
<div class="paragraph"> </div>

 This is proved below. We first define the public variables and arrays, which
    we will use in this kind of examples: 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="XYZpub" class="idref" href="#XYZpub"><span class="id" title="definition">XYZpub</span></a> : <a class="idref" href="SpecCT.html#pub_vars"><span class="id" title="definition">pub_vars</span></a> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#Z"><span class="id" title="definition">Z</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">__</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#secret"><span class="id" title="definition">secret</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a id="APpub" class="idref" href="#APpub"><span class="id" title="definition">APpub</span></a> : <a class="idref" href="SpecCT.html#pub_arrs"><span class="id" title="definition">pub_arrs</span></a> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">__</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#secret"><span class="id" title="definition">secret</span></a>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="XYZpub_true" class="idref" href="#XYZpub_true"><span class="id" title="lemma">XYZpub_true</span></a> : <span class="id" title="keyword">∀</span> <a id="x:159" class="idref" href="#x:159"><span class="id" title="binder">x</span></a>, <a class="idref" href="SpecCT.html#XYZpub"><span class="id" title="definition">XYZpub</span></a> <a class="idref" href="SpecCT.html#x:159"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#x:159"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="SpecCT.html#x:159"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="SpecCT.html#x:159"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#Z"><span class="id" title="definition">Z</span></a>.<br/>
<div class="togglescript" id="proofcontrol3" onclick="toggleDisplay('proof3');toggleDisplay('proofcontrol3')"><span class="show"></span></div>
<div class="proofscript" id="proof3" onclick="toggleDisplay('proof3');toggleDisplay('proofcontrol3')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#XYZpub"><span class="id" title="definition">XYZpub</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hxyz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hxyz</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hxyz</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#Z"><span class="id" title="definition">Z</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hxyz</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_apply_empty</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hxyz</span>. <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="APpub_true" class="idref" href="#APpub_true"><span class="id" title="lemma">APpub_true</span></a> : <span class="id" title="keyword">∀</span> <a id="a:160" class="idref" href="#a:160"><span class="id" title="binder">a</span></a>, <a class="idref" href="SpecCT.html#APpub"><span class="id" title="definition">APpub</span></a> <a class="idref" href="SpecCT.html#a:160"><span class="id" title="variable">a</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#a:160"><span class="id" title="variable">a</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a>.<br/>
<div class="togglescript" id="proofcontrol4" onclick="toggleDisplay('proof4');toggleDisplay('proofcontrol4')"><span class="show"></span></div>
<div class="proofscript" id="proof4" onclick="toggleDisplay('proof4');toggleDisplay('proofcontrol4')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#APpub"><span class="id" title="definition">APpub</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">Ha</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#eqb_spec"><span class="id" title="lemma">String.eqb_spec</span></a> <span class="id" title="var">a</span> <a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Ha</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">discriminate</span> <span class="id" title="var">Ha</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="XYZpubXYZ" class="idref" href="#XYZpubXYZ"><span class="id" title="lemma">XYZpubXYZ</span></a> : <span class="id" title="keyword">∀</span> <a id="x:161" class="idref" href="#x:161"><span class="id" title="binder">x</span></a>, <a class="idref" href="SpecCT.html#x:161"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="SpecCT.html#x:161"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="SpecCT.html#x:161"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#XYZpub"><span class="id" title="definition">XYZpub</span></a> <a class="idref" href="SpecCT.html#x:161"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a>.<br/>
<div class="togglescript" id="proofcontrol5" onclick="toggleDisplay('proof5');toggleDisplay('proofcontrol5')"><span class="show"></span></div>
<div class="proofscript" id="proof5" onclick="toggleDisplay('proof5');toggleDisplay('proofcontrol5')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hx</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HX</span> | <span class="id" title="var">HYZ</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">HYZ</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HY</span> | <span class="id" title="var">HZ</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<br/>
<span class="id" title="keyword">Example</span> <a id="cct_insecure_prog_is_not_cct_secure" class="idref" href="#cct_insecure_prog_is_not_cct_secure"><span class="id" title="definition">cct_insecure_prog_is_not_cct_secure</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#cct_secure"><span class="id" title="definition">cct_secure</span></a> <a class="idref" href="SpecCT.html#XYZpub"><span class="id" title="definition">XYZpub</span></a> <a class="idref" href="SpecCT.html#APpub"><span class="id" title="definition">APpub</span></a> <a class="idref" href="SpecCT.html#cct_insecure_prog"><span class="id" title="definition">cct_insecure_prog</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#cct_secure"><span class="id" title="definition">cct_secure</span></a>, <a class="idref" href="SpecCT.html#cct_insecure_prog"><span class="id" title="definition">cct_insecure_prog</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">CTSEC</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#W"><span class="id" title="definition">W</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 1<span class="id" title="notation">;</span> <span class="id" title="notation">__</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 0) <span class="id" title="keyword">as</span> <span class="id" title="var">st<sub>1</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#W"><span class="id" title="definition">W</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 2<span class="id" title="notation">;</span> <span class="id" title="notation">__</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 0) <span class="id" title="keyword">as</span> <span class="id" title="var">st<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>1<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>2<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>3<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">__</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">CTSEC</span> <span class="id" title="var">st<sub>1</sub></span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">m</span> <span class="id" title="var">m</span>).<br/><hr class='doublespaceincode'/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Contra</span>: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OALoad"><span class="id" title="constructor">OALoad</span></a> <a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a> 1<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OALoad"><span class="id" title="constructor">OALoad</span></a> <a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a> 2<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">CTSEC</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;public&nbsp;variables&nbsp;equivalent&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#pub_equiv_refl"><span class="id" title="lemma">pub_equiv_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;public&nbsp;arrays&nbsp;equivalent&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#pub_equiv_refl"><span class="id" title="lemma">pub_equiv_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CTE_ALoad"><span class="id" title="constructor">CTE_ALoad</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CTE_ALoad"><span class="id" title="constructor">CTE_ALoad</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. }<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab71"></a><h4 class="section">Exercise: 2 stars, standard (cct_insecure_prog'_is_not_cct_secure)</h4>
 Show that also the following program is not CCT secure. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="cct_insecure_prog'" class="idref" href="#cct_insecure_prog'"><span class="id" title="definition">cct_insecure_prog'</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#AS"><span class="id" title="definition">AS</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#W"><span class="id" title="definition">W</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> 42 <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> .<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Example</span> <a id="cct_insecure_prog'_is_not_cct_secure" class="idref" href="#cct_insecure_prog'_is_not_cct_secure"><span class="id" title="definition">cct_insecure_prog'_is_not_cct_secure</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#cct_secure"><span class="id" title="definition">cct_secure</span></a> <a class="idref" href="SpecCT.html#XYZpub"><span class="id" title="definition">XYZpub</span></a> <a class="idref" href="SpecCT.html#APpub"><span class="id" title="definition">APpub</span></a> <a class="idref" href="SpecCT.html#cct_insecure_prog'"><span class="id" title="definition">cct_insecure_prog'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab72"></a><h2 class="section">Type system for cryptographic constant-time programming</h2>

<div class="paragraph"> </div>

 In our CCT type system, the label assigned to the result of a constant-time
    conditional expression simply joins the labels of the 3 involved expressions:
<center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2; be &#x2208; l&nbsp;&nbsp;&nbsp;P &#x22A2; e<sub>1</sub> &#x2208; l<sub>1</sub>&nbsp;&nbsp;&nbsp;&nbsp;P &#x22A2; e<sub>2</sub> &#x2208; l<sub>2</sub></td>
  <td class="infrulenamecol" rowspan="3">
    (T_CTIf) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2; be?e<sub>1</sub>:e<sub>2</sub> &#x2208; join l (join l<sub>1</sub> l<sub>2</sub>)</td>
  <td></td>
</tr>
</table></center>    The rules for the other expressions are standard, and a lot fewer
    because of our refactoring:
<center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (T_Num) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2; n &#x2208; public</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (T_Id) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2; X &#x2208; (P X)</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2; e<sub>1</sub> &#x2208; l<sub>1</sub>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P &#x22A2; e<sub>2</sub> &#x2208; l<sub>2</sub></td>
  <td class="infrulenamecol" rowspan="3">
    (T_Bin) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2; (e<sub>1</sub> `op` e<sub>2</sub>) &#x2208; (join l<sub>1</sub> l<sub>2</sub>)</td>
  <td></td>
</tr>
</table></center>
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="join" class="idref" href="#join"><span class="id" title="definition">join</span></a> (<a id="l<sub>1</sub>:162" class="idref" href="#l<sub>1</sub>:162"><span class="id" title="binder">l<sub>1</sub></span></a> <a id="l<sub>2</sub>:163" class="idref" href="#l<sub>2</sub>:163"><span class="id" title="binder">l<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>) : <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a> := <a class="idref" href="SpecCT.html#l<sub>1</sub>:162"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="SpecCT.html#l<sub>2</sub>:163"><span class="id" title="variable">l<sub>2</sub></span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="join_public" class="idref" href="#join_public"><span class="id" title="lemma">join_public</span></a> : <span class="id" title="keyword">∀</span> {<a id="l<sub>1</sub>:164" class="idref" href="#l<sub>1</sub>:164"><span class="id" title="binder">l<sub>1</sub></span></a> <a id="l<sub>2</sub>:165" class="idref" href="#l<sub>2</sub>:165"><span class="id" title="binder">l<sub>2</sub></span></a>},<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="SpecCT.html#l<sub>1</sub>:164"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#l<sub>2</sub>:165"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#l<sub>1</sub>:164"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#l<sub>2</sub>:165"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#andb_prop"><span class="id" title="lemma">andb_prop</span></a>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="join_public_l" class="idref" href="#join_public_l"><span class="id" title="lemma">join_public_l</span></a> : <span class="id" title="keyword">∀</span> {<a id="l:166" class="idref" href="#l:166"><span class="id" title="binder">l</span></a>},<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="SpecCT.html#l:166"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#l:166"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="can_flow" class="idref" href="#can_flow"><span class="id" title="definition">can_flow</span></a> (<a id="l<sub>1</sub>:167" class="idref" href="#l<sub>1</sub>:167"><span class="id" title="binder">l<sub>1</sub></span></a> <a id="l<sub>2</sub>:168" class="idref" href="#l<sub>2</sub>:168"><span class="id" title="binder">l<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> := <a class="idref" href="SpecCT.html#l<sub>1</sub>:167"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <a class="idref" href="SpecCT.html#l<sub>2</sub>:168"><span class="id" title="variable">l<sub>2</sub></span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Reserved Notation</span> &quot;P '&#x22A2;' a &#x2208; l" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="exp_has_label" class="idref" href="#exp_has_label"><span class="id" title="definition, inductive"><span id="exp_has_label_ind" class="id"><span id="exp_has_label_sind" class="id">exp_has_label</span></span></span></a> (<a id="P:169" class="idref" href="#P:169"><span class="id" title="binder">P</span></a>:<a class="idref" href="SpecCT.html#pub_vars"><span class="id" title="definition">pub_vars</span></a>) : <a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="T_Num" class="idref" href="#T_Num"><span class="id" title="constructor">T_Num</span></a> : <span class="id" title="keyword">∀</span> <a id="n:172" class="idref" href="#n:172"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:169"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">ANum</span></a> <a class="idref" href="SpecCT.html#n:172"><span class="id" title="variable">n</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">)</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a><br/>
&nbsp;&nbsp;| <a id="T_Id" class="idref" href="#T_Id"><span class="id" title="constructor">T_Id</span></a> : <span class="id" title="keyword">∀</span> <a id="X:173" class="idref" href="#X:173"><span class="id" title="binder">X</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:169"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#AId"><span class="id" title="constructor">AId</span></a> <a class="idref" href="SpecCT.html#X:173"><span class="id" title="variable">X</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">)</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#P:169"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#X:173"><span class="id" title="variable">X</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a id="T_Bin" class="idref" href="#T_Bin"><span class="id" title="constructor">T_Bin</span></a> : <span class="id" title="keyword">∀</span> <a id="op:174" class="idref" href="#op:174"><span class="id" title="binder">op</span></a> <a id="e<sub>1</sub>:175" class="idref" href="#e<sub>1</sub>:175"><span class="id" title="binder">e<sub>1</sub></span></a> <a id="l<sub>1</sub>:176" class="idref" href="#l<sub>1</sub>:176"><span class="id" title="binder">l<sub>1</sub></span></a> <a id="e<sub>2</sub>:177" class="idref" href="#e<sub>2</sub>:177"><span class="id" title="binder">e<sub>2</sub></span></a> <a id="l<sub>2</sub>:178" class="idref" href="#l<sub>2</sub>:178"><span class="id" title="binder">l<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:169"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#e<sub>1</sub>:175"><span class="id" title="variable">e<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l<sub>1</sub>:176"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:169"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#e<sub>2</sub>:177"><span class="id" title="variable">e<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l<sub>2</sub>:178"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:169"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <a class="idref" href="SpecCT.html#op:174"><span class="id" title="variable">op</span></a> <a class="idref" href="SpecCT.html#e<sub>1</sub>:175"><span class="id" title="variable">e<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#e<sub>2</sub>:177"><span class="id" title="variable">e<sub>2</sub></span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">)</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="SpecCT.html#l<sub>1</sub>:176"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#l<sub>2</sub>:178"><span class="id" title="variable">l<sub>2</sub></span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a id="T_CTIf" class="idref" href="#T_CTIf"><span class="id" title="constructor">T_CTIf</span></a> : <span class="id" title="keyword">∀</span> <a id="be:179" class="idref" href="#be:179"><span class="id" title="binder">be</span></a> <a id="l:180" class="idref" href="#l:180"><span class="id" title="binder">l</span></a> <a id="e<sub>1</sub>:181" class="idref" href="#e<sub>1</sub>:181"><span class="id" title="binder">e<sub>1</sub></span></a> <a id="l<sub>1</sub>:182" class="idref" href="#l<sub>1</sub>:182"><span class="id" title="binder">l<sub>1</sub></span></a> <a id="e<sub>2</sub>:183" class="idref" href="#e<sub>2</sub>:183"><span class="id" title="binder">e<sub>2</sub></span></a> <a id="l<sub>2</sub>:184" class="idref" href="#l<sub>2</sub>:184"><span class="id" title="binder">l<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:169"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#be:179"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l:180"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:169"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#e<sub>1</sub>:181"><span class="id" title="variable">e<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l<sub>1</sub>:182"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:169"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#e<sub>2</sub>:183"><span class="id" title="variable">e<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l<sub>2</sub>:184"><span class="id" title="variable">l<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:169"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="SpecCT.html#be:179"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> <a class="idref" href="SpecCT.html#e<sub>1</sub>:181"><span class="id" title="variable">e<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> <a class="idref" href="SpecCT.html#e<sub>2</sub>:183"><span class="id" title="variable">e<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="SpecCT.html#l:180"><span class="id" title="variable">l</span></a> (<a class="idref" href="SpecCT.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="SpecCT.html#l<sub>1</sub>:182"><span class="id" title="variable">l<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#l<sub>2</sub>:184"><span class="id" title="variable">l<sub>2</sub></span></a>)<a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">)</span></a><br/>
<br/>
<span class="id" title="keyword">where</span> <a id="3b5796de2387691122e67a3516cd710b" class="idref" href="#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&quot;</span></a>P '&#x22A2;' e '&#x2208;' l" := (<a class="idref" href="SpecCT.html#exp_has_label:171"><span class="id" title="inductive">exp_has_label</span></a> <span class="id" title="var">P</span> <span class="id" title="var">e</span> <span class="id" title="var">l</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="SpecCT.html#exp_has_label"><span class="id" title="inductive">exp_has_label</span></a> : <span class="id" title="var">core</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="noninterferent_exp" class="idref" href="#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> : <span class="id" title="keyword">∀</span> {<a id="P:185" class="idref" href="#P:185"><span class="id" title="binder">P</span></a> <a id="s<sub>1</sub>:186" class="idref" href="#s<sub>1</sub>:186"><span class="id" title="binder">s<sub>1</sub></span></a> <a id="s<sub>2</sub>:187" class="idref" href="#s<sub>2</sub>:187"><span class="id" title="binder">s<sub>2</sub></span></a> <a id="e:188" class="idref" href="#e:188"><span class="id" title="binder">e</span></a>},<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:185"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:186"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:187"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:185"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#e:188"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#s<sub>1</sub>:186"><span class="id" title="variable">s<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#e:188"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#s<sub>2</sub>:187"><span class="id" title="variable">s<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#e:188"><span class="id" title="variable">e</span></a>.<br/>
<div class="togglescript" id="proofcontrol6" onclick="toggleDisplay('proof6');toggleDisplay('proofcontrol6')"><span class="show"></span></div>
<div class="proofscript" id="proof6" onclick="toggleDisplay('proof6');toggleDisplay('proofcontrol6')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">s<sub>1</sub></span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">e</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Ht</span>. <span class="id" title="var">remember</span> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Ht</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#join_public"><span class="id" title="lemma">join_public</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heql</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HP<sub>1</sub></span> <span class="id" title="var">HP<sub>2</sub></span>]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHHt1</span>, <span class="id" title="var">IHHt2</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#join_public"><span class="id" title="lemma">join_public</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Heql</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HP</span> <span class="id" title="var">HP'</span>]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#join_public"><span class="id" title="lemma">join_public</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HP'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HP'</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HP<sub>1</sub></span> <span class="id" title="var">HP<sub>2</sub></span>]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHHt1</span>, <span class="id" title="var">IHHt2</span>, <span class="id" title="var">IHHt3</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
All rules for commands are exactly the same as for <span class="inlinecode"><span class="id" title="var">cf_well_typed</span></span> (from
    <a href="StaticIFC.html"><span class="inlineref">StaticIFC</span></a>), except <span class="inlinecode"><span class="id" title="var">CCT_ALoad</span></span> and <span class="inlinecode"><span class="id" title="var">CCT_AStore</span></span>, which are new. 
<div class="paragraph"> </div>

 <center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (CCT_Skip) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P ;; PA &#x22A2;ct- skip</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2; e &#x2208; l&nbsp;&nbsp;&nbsp;&nbsp;can_flow l (P X) = true</td>
  <td class="infrulenamecol" rowspan="3">
    (CCT_Asgn) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P ;; PA &#x22A2;ct- X := e</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">P ;; PA &#x22A2;ct- c<sub>1</sub>&nbsp;&nbsp;&nbsp;&nbsp;P ;; PA &#x22A2;ct- c<sub>2</sub></td>
  <td class="infrulenamecol" rowspan="3">
    (CCT_Seq) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P ;; PA &#x22A2;ct- c<sub>1</sub>;c<sub>2</sub></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2; be &#x2208; public&nbsp;&nbsp;&nbsp;&nbsp;P ;; PA &#x22A2;ct- c<sub>1</sub>&nbsp;&nbsp;&nbsp;&nbsp;P ;; PA &#x22A2;ct- c<sub>2</sub></td>
  <td class="infrulenamecol" rowspan="3">
    (CCT_If) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P ;; PA &#x22A2;ct- if be then c<sub>1</sub> else c<sub>2</sub></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2; be &#x2208; public&nbsp;&nbsp;&nbsp;&nbsp;P &#x22A2;ct- c</td>
  <td class="infrulenamecol" rowspan="3">
    (CCT_While) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P ;; PA &#x22A2;ct- while be then c end</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2; i &#x2208; public&nbsp;&nbsp;&nbsp;can_flow (PA a) (P x) = true</td>
  <td class="infrulenamecol" rowspan="3">
    (CCT_ALoad) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P ;; PA &#x22A2;ct- x <- a[[i]]</td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2; i &#x2208; public&nbsp;&nbsp;&nbsp;P &#x22A2; e &#x2208; l&nbsp;&nbsp;&nbsp;can_flow l (PA a) = true</td>
  <td class="infrulenamecol" rowspan="3">
    (CCT_AStore) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P ;; PA &#x22A2;ct- a[i] <- e</td>
  <td></td>
</tr>
</table></center>
</div>
<div class="code">

<span class="id" title="keyword">Reserved Notation</span> &quot;P ';;' PA '&#x22A2;ct-' c" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="cct_well_typed" class="idref" href="#cct_well_typed"><span class="id" title="definition, inductive"><span id="cct_well_typed_ind" class="id"><span id="cct_well_typed_sind" class="id">cct_well_typed</span></span></span></a> (<a id="P:189" class="idref" href="#P:189"><span class="id" title="binder">P</span></a>:<a class="idref" href="SpecCT.html#pub_vars"><span class="id" title="definition">pub_vars</span></a>) (<a id="PA:190" class="idref" href="#PA:190"><span class="id" title="binder">PA</span></a>:<a class="idref" href="SpecCT.html#pub_arrs"><span class="id" title="definition">pub_arrs</span></a>) : <a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="CCT_Skip" class="idref" href="#CCT_Skip"><span class="id" title="constructor">CCT_Skip</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:190"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CCT_Asgn" class="idref" href="#CCT_Asgn"><span class="id" title="constructor">CCT_Asgn</span></a> : <span class="id" title="keyword">∀</span> <a id="X:193" class="idref" href="#X:193"><span class="id" title="binder">X</span></a> <a id="e:194" class="idref" href="#e:194"><span class="id" title="binder">e</span></a> <a id="l:195" class="idref" href="#l:195"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#e:194"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l:195"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#can_flow"><span class="id" title="definition">can_flow</span></a> <a class="idref" href="SpecCT.html#l:195"><span class="id" title="variable">l</span></a> (<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#X:193"><span class="id" title="variable">X</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:190"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#X:193"><span class="id" title="variable">X</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#e:194"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CCT_Seq" class="idref" href="#CCT_Seq"><span class="id" title="constructor">CCT_Seq</span></a> : <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:196" class="idref" href="#c<sub>1</sub>:196"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:197" class="idref" href="#c<sub>2</sub>:197"><span class="id" title="binder">c<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:190"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:196"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:190"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:197"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:190"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:196"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:197"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CCT_If" class="idref" href="#CCT_If"><span class="id" title="constructor">CCT_If</span></a> : <span class="id" title="keyword">∀</span> <a id="b:198" class="idref" href="#b:198"><span class="id" title="binder">b</span></a> <a id="c<sub>1</sub>:199" class="idref" href="#c<sub>1</sub>:199"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:200" class="idref" href="#c<sub>2</sub>:200"><span class="id" title="binder">c<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#b:198"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:190"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:199"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:190"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:200"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:190"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#b:198"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:199"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:200"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CCT_While" class="idref" href="#CCT_While"><span class="id" title="constructor">CCT_While</span></a> : <span class="id" title="keyword">∀</span> <a id="b:201" class="idref" href="#b:201"><span class="id" title="binder">b</span></a> <a id="c<sub>1</sub>:202" class="idref" href="#c<sub>1</sub>:202"><span class="id" title="binder">c<sub>1</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#b:201"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:190"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:202"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:190"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#b:201"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:202"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CCT_ALoad" class="idref" href="#CCT_ALoad"><span class="id" title="constructor">CCT_ALoad</span></a> : <span class="id" title="keyword">∀</span> <a id="x:203" class="idref" href="#x:203"><span class="id" title="binder">x</span></a> <a id="a:204" class="idref" href="#a:204"><span class="id" title="binder">a</span></a> <a id="i:205" class="idref" href="#i:205"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#i:205"><span class="id" title="variable">i</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#can_flow"><span class="id" title="definition">can_flow</span></a> (<a class="idref" href="SpecCT.html#PA:190"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#a:204"><span class="id" title="variable">a</span></a>) (<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#x:203"><span class="id" title="variable">x</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:190"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#x:203"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#a:204"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#i:205"><span class="id" title="variable">i</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="CCT_AStore" class="idref" href="#CCT_AStore"><span class="id" title="constructor">CCT_AStore</span></a> : <span class="id" title="keyword">∀</span> <a id="a:206" class="idref" href="#a:206"><span class="id" title="binder">a</span></a> <a id="i:207" class="idref" href="#i:207"><span class="id" title="binder">i</span></a> <a id="e:208" class="idref" href="#e:208"><span class="id" title="binder">e</span></a> <a id="l:209" class="idref" href="#l:209"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#i:207"><span class="id" title="variable">i</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#e:208"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l:209"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#can_flow"><span class="id" title="definition">can_flow</span></a> <a class="idref" href="SpecCT.html#l:209"><span class="id" title="variable">l</span></a> (<a class="idref" href="SpecCT.html#PA:190"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#a:206"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:189"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:190"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#a:206"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#i:207"><span class="id" title="variable">i</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#e:208"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
<br/>
<span class="id" title="keyword">where</span> <a id="c9439e72577e389a3a955c83b38b5251" class="idref" href="#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&quot;</span></a>P ;; PA '&#x22A2;ct-' c" := (<a class="idref" href="SpecCT.html#cct_well_typed:192"><span class="id" title="inductive">cct_well_typed</span></a> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="SpecCT.html#cct_well_typed"><span class="id" title="inductive">cct_well_typed</span></a> : <span class="id" title="var">core</span>.<br/>
</div>

<div class="doc">
<a id="lab73"></a><h2 class="section">Exercise: CCT Type-Checker</h2>

<div class="paragraph"> </div>

 In these exercises you will write a type-checker for the CCT type system
    above and prove your type-checker sound and complete. If you get stuck, you
    can take inspiration in the similar type-checkers from <a href="StaticIFC.html"><span class="inlineref">StaticIFC</span></a>. 
<div class="paragraph"> </div>

<a id="lab74"></a><h4 class="section">Exercise: 1 star, standard (label_of_exp)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="label_of_exp" class="idref" href="#label_of_exp"><span class="id" title="definition">label_of_exp</span></a> (<a id="P:210" class="idref" href="#P:210"><span class="id" title="binder">P</span></a>:<a class="idref" href="SpecCT.html#pub_vars"><span class="id" title="definition">pub_vars</span></a>) (<a id="e:211" class="idref" href="#e:211"><span class="id" title="binder">e</span></a>:<a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>) : <a class="idref" href="SpecCT.html#label"><span class="id" title="definition">label</span></a><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;REPLACE&nbsp;THIS&nbsp;LINE&nbsp;WITH&nbsp;":=&nbsp;_your_definition_&nbsp;."&nbsp;*)</span>. <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab75"></a><h4 class="section">Exercise: 1 star, standard (label_of_exp_sound)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="label_of_exp_sound" class="idref" href="#label_of_exp_sound"><span class="id" title="lemma">label_of_exp_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="P:213" class="idref" href="#P:213"><span class="id" title="binder">P</span></a> <a id="e:214" class="idref" href="#e:214"><span class="id" title="binder">e</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:213"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#e:214"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#label_of_exp"><span class="id" title="axiom">label_of_exp</span></a> <a class="idref" href="SpecCT.html#P:213"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#e:214"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab76"></a><h4 class="section">Exercise: 1 star, standard (label_of_exp_unique)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="label_of_exp_unique" class="idref" href="#label_of_exp_unique"><span class="id" title="lemma">label_of_exp_unique</span></a> : <span class="id" title="keyword">∀</span> <a id="P:215" class="idref" href="#P:215"><span class="id" title="binder">P</span></a> <a id="e:216" class="idref" href="#e:216"><span class="id" title="binder">e</span></a> <a id="l:217" class="idref" href="#l:217"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:215"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#e:216"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l:217"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#l:217"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#label_of_exp"><span class="id" title="axiom">label_of_exp</span></a> <a class="idref" href="SpecCT.html#P:215"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#e:216"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab77"></a><h4 class="section">Exercise: 2 stars, standard (cct_typechecker)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="cct_typechecker" class="idref" href="#cct_typechecker"><span class="id" title="definition">cct_typechecker</span></a> (<a id="P:218" class="idref" href="#P:218"><span class="id" title="binder">P</span></a> <a id="PA:219" class="idref" href="#PA:219"><span class="id" title="binder">PA</span></a>:<a class="idref" href="SpecCT.html#pub_vars"><span class="id" title="definition">pub_vars</span></a>) (<a id="c:220" class="idref" href="#c:220"><span class="id" title="binder">c</span></a>:<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;REPLACE&nbsp;THIS&nbsp;LINE&nbsp;WITH&nbsp;":=&nbsp;_your_definition_&nbsp;."&nbsp;*)</span>. <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab78"></a><h4 class="section">Exercise: 2 stars, standard (cct_typechecker_sound)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="cct_typechecker_sound" class="idref" href="#cct_typechecker_sound"><span class="id" title="lemma">cct_typechecker_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="P:222" class="idref" href="#P:222"><span class="id" title="binder">P</span></a> <a id="PA:223" class="idref" href="#PA:223"><span class="id" title="binder">PA</span></a> <a id="c:224" class="idref" href="#c:224"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#cct_typechecker"><span class="id" title="axiom">cct_typechecker</span></a> <a class="idref" href="SpecCT.html#P:222"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#PA:223"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c:224"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:222"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:223"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:224"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab79"></a><h4 class="section">Exercise: 2 stars, standard (cct_typechecker_complete)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="cct_typechecker_complete" class="idref" href="#cct_typechecker_complete"><span class="id" title="lemma">cct_typechecker_complete</span></a> : <span class="id" title="keyword">∀</span> <a id="P:225" class="idref" href="#P:225"><span class="id" title="binder">P</span></a> <a id="PA:226" class="idref" href="#PA:226"><span class="id" title="binder">PA</span></a> <a id="c:227" class="idref" href="#c:227"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#cct_typechecker"><span class="id" title="axiom">cct_typechecker</span></a> <a class="idref" href="SpecCT.html#P:225"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#PA:226"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c:227"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#P:225"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:226"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:227"><span class="id" title="variable">c</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

 Finally, we use the type-checker to show that the <span class="inlinecode"><span class="id" title="var">cct_insecure_prog</span></span> and
    <span class="inlinecode"><span class="id" title="var">cct_insecure_prog'</span></span> examples above are not well-typed. 
</div>
<div class="code">

<span class="id" title="keyword">Print</span> <span class="id" title="var">cct_insecure_prog</span>. <span class="comment">(*&nbsp;&lt;<span style='letter-spacing:-.4em;'>{</span>{&nbsp;X&nbsp;&lt;-&nbsp;A<span class="inlinecode">[<span class="id" title="var">W</span>]</span>&nbsp;<span style='letter-spacing:-.4em;'>}</span>}&gt;&nbsp;*)</span><br/>
<span class="id" title="keyword">Print</span> <span class="id" title="var">XYZpub</span>. <span class="comment">(*&nbsp;(X!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;public;&nbsp;Y!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;public;&nbsp;Z!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;public;&nbsp;__&nbsp;!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;secret)&nbsp;*)</span><br/>
<span class="id" title="keyword">Print</span> <span class="id" title="var">APpub</span>. <span class="comment">(*&nbsp;(AP!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;public;&nbsp;__&nbsp;!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;secret)&nbsp;*)</span><br/>
</div>

<div class="doc">
<a id="lab80"></a><h4 class="section">Exercise: 1 star, standard (cct_insecure_prog_ill_typed)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="cct_insecure_prog_ill_typed" class="idref" href="#cct_insecure_prog_ill_typed"><span class="id" title="lemma">cct_insecure_prog_ill_typed</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="SpecCT.html#XYZpub"><span class="id" title="definition">XYZpub</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#APpub"><span class="id" title="definition">APpub</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#cct_insecure_prog"><span class="id" title="definition">cct_insecure_prog</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab81"></a><h4 class="section">Exercise: 1 star, standard (cct_insecure_prog'_ill_typed)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="cct_insecure_prog'_ill_typed" class="idref" href="#cct_insecure_prog'_ill_typed"><span class="id" title="lemma">cct_insecure_prog'_ill_typed</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="SpecCT.html#XYZpub"><span class="id" title="definition">XYZpub</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#APpub"><span class="id" title="definition">APpub</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#cct_insecure_prog'"><span class="id" title="definition">cct_insecure_prog'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab82"></a><h2 class="section">Noninterference lemma</h2>

<div class="paragraph"> </div>

 To prove the security of our type system, we first show a noninterference
    lemma, which is not that hard, given that our very restrictive type system
    ensures the two executions run in lock-step, since it disallows branching
    on secrets. 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="cct_well_typed_noninterferent" class="idref" href="#cct_well_typed_noninterferent"><span class="id" title="lemma">cct_well_typed_noninterferent</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:228" class="idref" href="#P:228"><span class="id" title="binder">P</span></a> <a id="PA:229" class="idref" href="#PA:229"><span class="id" title="binder">PA</span></a> <a id="c:230" class="idref" href="#c:230"><span class="id" title="binder">c</span></a> <a id="st<sub>1</sub>:231" class="idref" href="#st<sub>1</sub>:231"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:232" class="idref" href="#st<sub>2</sub>:232"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="m<sub>1</sub>:233" class="idref" href="#m<sub>1</sub>:233"><span class="id" title="binder">m<sub>1</sub></span></a> <a id="m<sub>2</sub>:234" class="idref" href="#m<sub>2</sub>:234"><span class="id" title="binder">m<sub>2</sub></span></a> <a id="st<sub>1</sub>':235" class="idref" href="#st<sub>1</sub>':235"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':236" class="idref" href="#st<sub>2</sub>':236"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="m<sub>1</sub>':237" class="idref" href="#m<sub>1</sub>':237"><span class="id" title="binder">m<sub>1</sub>'</span></a> <a id="m<sub>2</sub>':238" class="idref" href="#m<sub>2</sub>':238"><span class="id" title="binder">m<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:239" class="idref" href="#os<sub>1</sub>:239"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:240" class="idref" href="#os<sub>2</sub>:240"><span class="id" title="binder">os<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:228"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:229"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:230"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:228"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:231"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:232"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:229"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:233"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:234"><span class="id" title="variable">m<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>:231"><span class="id" title="variable">st<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:233"><span class="id" title="variable">m<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:230"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>':235"><span class="id" title="variable">st<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>':237"><span class="id" title="variable">m<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:239"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>:232"><span class="id" title="variable">st<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:234"><span class="id" title="variable">m<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:230"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>':236"><span class="id" title="variable">st<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>':238"><span class="id" title="variable">m<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:240"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:228"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>':235"><span class="id" title="variable">st<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>':236"><span class="id" title="variable">st<sub>2</sub>'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:229"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>':237"><span class="id" title="variable">m<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>':238"><span class="id" title="variable">m<sub>2</sub>'</span></a>.<br/>
<div class="togglescript" id="proofcontrol7" onclick="toggleDisplay('proof7');toggleDisplay('proofcontrol7')"><span class="show"></span></div>
<div class="proofscript" id="proof7" onclick="toggleDisplay('proof7');toggleDisplay('proofcontrol7')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span> <span class="id" title="var">st<sub>1</sub></span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">m<sub>1</sub></span> <span class="id" title="var">m<sub>2</sub></span> <span class="id" title="var">st<sub>1</sub>'</span> <span class="id" title="var">st<sub>2</sub>'</span> <span class="id" title="var">m<sub>1</sub>'</span> <span class="id" title="var">m<sub>2</sub>'</span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hwt</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">m<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">m<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">os<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heval1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">os<sub>2</sub>'</span> <span class="id" title="var">m<sub>2</sub></span> <span class="id" title="var">Haeq</span> <span class="id" title="var">m<sub>2</sub>'</span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">Heq</span> <span class="id" title="var">st<sub>2</sub>'</span> <span class="id" title="var">Heval2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwt</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Most&nbsp;cases&nbsp;are&nbsp;similar&nbsp;as&nbsp;for&nbsp;<span class="inlinecode"><span class="id" title="var">cf_well_typed</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="var">Heq</span> <span class="id" title="var">H<sub>10</sub></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">edestruct</span> <span class="id" title="var">IHHeval1_2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1_1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1_1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">c</span> <span class="id" title="var">c<sub>4</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="var">Heq</span> <span class="id" title="var">H<sub>11</sub></span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;NEW&nbsp;CASE:&nbsp;ALoad&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">PA</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">PAa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Haeq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">PAa</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">PAa</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>15</sub></span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>15</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;NEW&nbsp;CASE:&nbsp;AStore&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">PA</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">PAa</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Haeq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">PAa</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">PAa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; [|<span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="var">Heq</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
<a id="lab83"></a><h2 class="section">Final theorem: cryptographic constant-time security</h2>

</div>
<div class="code">

<span class="id" title="keyword">Module</span> <a id="Remember" class="idref" href="#Remember"><span class="id" title="module">Remember</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="Remember.cct_secure" class="idref" href="#Remember.cct_secure"><span class="id" title="definition">cct_secure</span></a> <a id="P:241" class="idref" href="#P:241"><span class="id" title="binder">P</span></a> <a id="PA:242" class="idref" href="#PA:242"><span class="id" title="binder">PA</span></a> <a id="c:243" class="idref" href="#c:243"><span class="id" title="binder">c</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="st<sub>1</sub>:244" class="idref" href="#st<sub>1</sub>:244"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:245" class="idref" href="#st<sub>2</sub>:245"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="m<sub>1</sub>:246" class="idref" href="#m<sub>1</sub>:246"><span class="id" title="binder">m<sub>1</sub></span></a> <a id="m<sub>2</sub>:247" class="idref" href="#m<sub>2</sub>:247"><span class="id" title="binder">m<sub>2</sub></span></a> <a id="st<sub>1</sub>':248" class="idref" href="#st<sub>1</sub>':248"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':249" class="idref" href="#st<sub>2</sub>':249"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="m<sub>1</sub>':250" class="idref" href="#m<sub>1</sub>':250"><span class="id" title="binder">m<sub>1</sub>'</span></a> <a id="m<sub>2</sub>':251" class="idref" href="#m<sub>2</sub>':251"><span class="id" title="binder">m<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:252" class="idref" href="#os<sub>1</sub>:252"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:253" class="idref" href="#os<sub>2</sub>:253"><span class="id" title="binder">os<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:241"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:244"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:245"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:242"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:246"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:247"><span class="id" title="variable">m<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>:244"><span class="id" title="variable">st<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:246"><span class="id" title="variable">m<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:243"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>':248"><span class="id" title="variable">st<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>':250"><span class="id" title="variable">m<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:252"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>:245"><span class="id" title="variable">st<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:247"><span class="id" title="variable">m<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:243"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>':249"><span class="id" title="variable">st<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>':251"><span class="id" title="variable">m<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:253"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#os<sub>1</sub>:252"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:253"><span class="id" title="variable">os<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="SpecCT.html#Remember"><span class="id" title="module">Remember</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="cct_well_typed_secure" class="idref" href="#cct_well_typed_secure"><span class="id" title="lemma">cct_well_typed_secure</span></a> : <span class="id" title="keyword">∀</span> <a id="P:254" class="idref" href="#P:254"><span class="id" title="binder">P</span></a> <a id="PA:255" class="idref" href="#PA:255"><span class="id" title="binder">PA</span></a> <a id="c:256" class="idref" href="#c:256"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:254"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:255"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:256"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#cct_secure"><span class="id" title="definition">cct_secure</span></a> <a class="idref" href="SpecCT.html#P:254"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#PA:255"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c:256"><span class="id" title="variable">c</span></a>.<br/>
<div class="togglescript" id="proofcontrol8" onclick="toggleDisplay('proof8');toggleDisplay('proofcontrol8')"><span class="show"></span></div>
<div class="proofscript" id="proof8" onclick="toggleDisplay('proof8');toggleDisplay('proofcontrol8')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#cct_secure"><span class="id" title="definition">cct_secure</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">st<sub>1</sub></span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">m<sub>1</sub></span> <span class="id" title="var">m<sub>2</sub></span> <span class="id" title="var">st<sub>1</sub>'</span> <span class="id" title="var">st<sub>2</sub>'</span> <span class="id" title="var">m<sub>1</sub>'</span> <span class="id" title="var">m<sub>2</sub>'</span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Heq</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">m<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">m<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">os<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heval1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">os<sub>2</sub>'</span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">Haeq</span> <span class="id" title="var">a<sub>2</sub>'</span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">Heq</span> <span class="id" title="var">s<sub>2</sub>'</span> <span class="id" title="var">Heval2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwt</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> <span class="id" title="var">IHHeval1_2</span>; [<span class="id" title="var">erewrite</span> <span class="id" title="var">IHHeval1_1</span> | | | |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#cct_well_typed_noninterferent"><span class="id" title="lemma">cct_well_typed_noninterferent</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">c</span>:=<span class="id" title="var">c<sub>1</sub></span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#cct_well_typed_noninterferent"><span class="id" title="lemma">cct_well_typed_noninterferent</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">c</span>:=<span class="id" title="var">c<sub>1</sub></span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="var">Heq</span> <span class="id" title="var">H<sub>11</sub></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">c</span> <span class="id" title="var">c<sub>4</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="var">Heq</span> <span class="id" title="var">H<sub>11</sub></span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;NEW&nbsp;CASE:&nbsp;ALoad&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;NEW&nbsp;CASE:&nbsp;AStore&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
Most cases of this proof are similar to the security proof for
    <span class="inlinecode"><span class="id" title="var">cf_well_typed</span></span> from <a href="StaticIFC.html"><span class="inlineref">StaticIFC</span></a>. In particular, <span class="inlinecode"><span class="id" title="var">noninterference</span></span> is
    used to prove the sequence case in both proofs.

<div class="paragraph"> </div>

    The only new cases here are for array operations, and they follow
    immediately from <span class="inlinecode"><span class="id" title="var">noninterferent_exp</span></span>, since the CCT type system requires
    array indices to be public. 
<div class="paragraph"> </div>

<a id="lab84"></a><h2 class="section">Exercise: Adding division (non-constant-time operation)</h2>

<div class="paragraph"> </div>

 The CCT discipline also prevents passing secrets to operations that are not
    constant time. For instance, division often takes time that depends on the
    values of the two operands. In this exercise we will add a new
    <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">:=</span> <span class="inlinecode"><span class="id" title="var">e<sub>1</sub></span></span> <span class="inlinecode"><span class="id" title="var">div</span></span> <span class="inlinecode"><span class="id" title="var">e<sub>2</sub></span></span> command for division, add corresponding evaluation and
    typing rules, and extend the security proofs with the new division case. 
</div>
<div class="code">

<span class="id" title="keyword">Module</span> <a id="Div" class="idref" href="#Div"><span class="id" title="module">Div</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="Div.com" class="idref" href="#Div.com"><span class="id" title="definition, inductive"><span id="Div.com_rect" class="id"><span id="Div.com_ind" class="id"><span id="Div.com_rec" class="id"><span id="Div.com_sind" class="id">com</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
| <a id="Div.Skip" class="idref" href="#Div.Skip"><span class="id" title="constructor">Skip</span></a><br/>
| <a id="Div.Asgn" class="idref" href="#Div.Asgn"><span class="id" title="constructor">Asgn</span></a> (<a id="x:259" class="idref" href="#x:259"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="e:260" class="idref" href="#e:260"><span class="id" title="binder">e</span></a> : <a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>)<br/>
| <a id="Div.Seq" class="idref" href="#Div.Seq"><span class="id" title="constructor">Seq</span></a> (<a id="c<sub>1</sub>:261" class="idref" href="#c<sub>1</sub>:261"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:262" class="idref" href="#c<sub>2</sub>:262"><span class="id" title="binder">c<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#com:257"><span class="id" title="inductive">com</span></a>)<br/>
| <a id="Div.If" class="idref" href="#Div.If"><span class="id" title="constructor">If</span></a> (<a id="be:263" class="idref" href="#be:263"><span class="id" title="binder">be</span></a> : <a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>) (<a id="c<sub>1</sub>:264" class="idref" href="#c<sub>1</sub>:264"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:265" class="idref" href="#c<sub>2</sub>:265"><span class="id" title="binder">c<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#com:257"><span class="id" title="inductive">com</span></a>)<br/>
| <a id="Div.While" class="idref" href="#Div.While"><span class="id" title="constructor">While</span></a> (<a id="be:266" class="idref" href="#be:266"><span class="id" title="binder">be</span></a> : <a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>) (<a id="c:267" class="idref" href="#c:267"><span class="id" title="binder">c</span></a> : <a class="idref" href="SpecCT.html#com:257"><span class="id" title="inductive">com</span></a>)<br/>
| <a id="Div.ALoad" class="idref" href="#Div.ALoad"><span class="id" title="constructor">ALoad</span></a> (<a id="x:268" class="idref" href="#x:268"><span class="id" title="binder">x</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="a:269" class="idref" href="#a:269"><span class="id" title="binder">a</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="i:270" class="idref" href="#i:270"><span class="id" title="binder">i</span></a> : <a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>)<br/>
| <a id="Div.AStore" class="idref" href="#Div.AStore"><span class="id" title="constructor">AStore</span></a> (<a id="a:271" class="idref" href="#a:271"><span class="id" title="binder">a</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="i:272" class="idref" href="#i:272"><span class="id" title="binder">i</span></a> : <a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>) (<a id="e:273" class="idref" href="#e:273"><span class="id" title="binder">e</span></a> : <a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>)<br/>
| <a id="Div.Div" class="idref" href="#Div.Div"><span class="id" title="constructor">Div</span></a> (<a id="x:274" class="idref" href="#x:274"><span class="id" title="binder">x</span></a>: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="e<sub>1</sub>:275" class="idref" href="#e<sub>1</sub>:275"><span class="id" title="binder">e<sub>1</sub></span></a> <a id="e<sub>2</sub>:276" class="idref" href="#e<sub>2</sub>:276"><span class="id" title="binder">e<sub>2</sub></span></a>: <a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>). <span class="comment">(*&nbsp;&lt;---&nbsp;NEW&nbsp;*)</span><br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">com_scope</span>.<br/>
</div>

<div class="doc">
Notations for the old commands are the same as before: 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a id="Div.:com:com_scope:'skip'" class="idref" href="#Div.:com:com_scope:'skip'"><span class="id" title="notation">&quot;</span></a>'skip'"  :=<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#Div.Skip"><span class="id" title="constructor">Skip</span></a> (<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="4ab92d36aec76a142bef20373ed202f<sub>9</sub>" class="idref" href="#4ab92d36aec76a142bef20373ed202f<sub>9</sub>"><span class="id" title="notation">&quot;</span></a>x := y"  :=<br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#Div.Asgn"><span class="id" title="constructor">Asgn</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">y</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="5a2e60be6e0cd521f1a3a523ba5dbdf8" class="idref" href="#5a2e60be6e0cd521f1a3a523ba5dbdf8"><span class="id" title="notation">&quot;</span></a>x ; y" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#Div.Seq"><span class="id" title="constructor">Seq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 90, <span class="id" title="tactic">right</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="Div.:com:com_scope:'if'_x_'then'_x_'else'_x_'end'" class="idref" href="#Div.:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">&quot;</span></a>'if' x 'then' y 'else' z 'end'" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#Div.If"><span class="id" title="constructor">If</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 89, <span class="id" title="var">x</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99, <span class="id" title="var">z</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="Div.:com:com_scope:'while'_x_'do'_x_'end'" class="idref" href="#Div.:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">&quot;</span></a>'while' x 'do' y 'end'" :=<br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#Div.While"><span class="id" title="constructor">While</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 89, <span class="id" title="var">x</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99, <span class="id" title="var">y</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="22c94fa52953a01020633e28afbfd6ab" class="idref" href="#22c94fa52953a01020633e28afbfd6ab"><span class="id" title="notation">&quot;</span></a>x '&lt;-' a '[[' i ']]'" := (<a class="idref" href="SpecCT.html#Div.ALoad"><span class="id" title="constructor">ALoad</span></a> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">i</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">a</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85, <span class="id" title="var">i</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">com_scope</span>.<br/>
<span class="id" title="keyword">Notation</span> <a id="925c04e94ed32b65423995cd08a599d<sub>5</sub>" class="idref" href="#925c04e94ed32b65423995cd08a599d<sub>5</sub>"><span class="id" title="notation">&quot;</span></a>a '[' i ']'  '&lt;-' e"  := (<a class="idref" href="SpecCT.html#Div.AStore"><span class="id" title="constructor">AStore</span></a> <span class="id" title="var">a</span> <span class="id" title="var">i</span> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">a</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">e</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">com_scope</span>.<br/>
</div>

<div class="doc">
Notation for division: 
</div>
<div class="code">
<span class="id" title="keyword">Notation</span> <a id="2f09d656af53d197e4c802960829e041" class="idref" href="#2f09d656af53d197e4c802960829e041"><span class="id" title="notation">&quot;</span></a>x := y 'div' z" := <span class="comment">(*&nbsp;&lt;---&nbsp;NEW&nbsp;*)</span><br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#Div.Div"><span class="id" title="constructor">Div</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">in</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="var">x</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">y</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85, <span class="id" title="var">z</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 85, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>) : <span class="id" title="var">com_scope</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="Div.observation" class="idref" href="#Div.observation"><span class="id" title="definition, inductive"><span id="Div.observation_rect" class="id"><span id="Div.observation_ind" class="id"><span id="Div.observation_rec" class="id"><span id="Div.observation_sind" class="id">observation</span></span></span></span></span></a> : <span class="id" title="keyword">Type</span> :=<br/>
| <a id="Div.OBranch" class="idref" href="#Div.OBranch"><span class="id" title="constructor">OBranch</span></a> (<a id="b:279" class="idref" href="#b:279"><span class="id" title="binder">b</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)<br/>
| <a id="Div.OALoad" class="idref" href="#Div.OALoad"><span class="id" title="constructor">OALoad</span></a> (<a id="a:280" class="idref" href="#a:280"><span class="id" title="binder">a</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="i:281" class="idref" href="#i:281"><span class="id" title="binder">i</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
| <a id="Div.OAStore" class="idref" href="#Div.OAStore"><span class="id" title="constructor">OAStore</span></a> (<a id="a:282" class="idref" href="#a:282"><span class="id" title="binder">a</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="i:283" class="idref" href="#i:283"><span class="id" title="binder">i</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
| <a id="Div.ODiv" class="idref" href="#Div.ODiv"><span class="id" title="constructor">ODiv</span></a> (<a id="n<sub>1</sub>:284" class="idref" href="#n<sub>1</sub>:284"><span class="id" title="binder">n<sub>1</sub></span></a> <a id="n<sub>2</sub>:285" class="idref" href="#n<sub>2</sub>:285"><span class="id" title="binder">n<sub>2</sub></span></a>: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>). <span class="comment">(*&nbsp;&lt;---&nbsp;NEW&nbsp;*)</span><br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="Div.obs" class="idref" href="#Div.obs"><span class="id" title="definition">obs</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#Div.observation"><span class="id" title="inductive">observation</span></a>.<br/>
</div>

<div class="doc">
We add a new rule to the big-step operational semantics that produces an
    <span class="inlinecode"><span class="id" title="var">ODiv</span></span> observation:
<center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">eval st e<sub>1</sub> = n<sub>1</sub>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval st e<sub>2</sub> = n<sub>2</sub></td>
  <td class="infrulenamecol" rowspan="3">
    (CTE_Div) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st,m)> =[x := e<sub>1</sub> div e<sub>2</sub>]=> <(x!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>(n<sub>1</sub>/n2);st,m,[ODiv n<sub>1</sub> n<sub>2</sub>])></td>
  <td></td>
</tr>
</table></center>
<div class="paragraph"> </div>

   Formally this looks as follows:

</div>
<div class="code">

<span class="id" title="keyword">Reserved Notation</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"'&lt;(' st , m ')&gt;' '=[' c ']=&gt;' '&lt;(' stt , mt , os ')&gt;'"<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">c</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">st</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">m</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">stt</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">mt</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="Div.cteval" class="idref" href="#Div.cteval"><span class="id" title="definition, inductive"><span id="Div.cteval_ind" class="id"><span id="Div.cteval_sind" class="id">cteval</span></span></span></a> : <a class="idref" href="SpecCT.html#Div.com"><span class="id" title="inductive">com</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#Div.obs"><span class="id" title="definition">obs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Div.CTE_Skip" class="idref" href="#Div.CTE_Skip"><span class="id" title="constructor">CTE_Skip</span></a> : <span class="id" title="keyword">∀</span> <a id="st:288" class="idref" href="#st:288"><span class="id" title="binder">st</span></a> <a id="m:289" class="idref" href="#m:289"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:288"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:289"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:288"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:289"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Div.CTE_Asgn" class="idref" href="#Div.CTE_Asgn"><span class="id" title="constructor">CTE_Asgn</span></a>  : <span class="id" title="keyword">∀</span> <a id="st:290" class="idref" href="#st:290"><span class="id" title="binder">st</span></a> <a id="m:291" class="idref" href="#m:291"><span class="id" title="binder">m</span></a> <a id="e:292" class="idref" href="#e:292"><span class="id" title="binder">e</span></a> <a id="n:293" class="idref" href="#n:293"><span class="id" title="binder">n</span></a> <a id="x:294" class="idref" href="#x:294"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:290"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:292"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:293"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:290"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:291"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:294"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#4ab92d36aec76a142bef20373ed202f<sub>9</sub>"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#e:292"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:294"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:293"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:290"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:291"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Div.CTE_Seq" class="idref" href="#Div.CTE_Seq"><span class="id" title="constructor">CTE_Seq</span></a> : <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:295" class="idref" href="#c<sub>1</sub>:295"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:296" class="idref" href="#c<sub>2</sub>:296"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="st:297" class="idref" href="#st:297"><span class="id" title="binder">st</span></a> <a id="m:298" class="idref" href="#m:298"><span class="id" title="binder">m</span></a> <a id="st':299" class="idref" href="#st':299"><span class="id" title="binder">st'</span></a> <a id="m':300" class="idref" href="#m':300"><span class="id" title="binder">m'</span></a> <a id="st'':301" class="idref" href="#st'':301"><span class="id" title="binder">st''</span></a> <a id="m'':302" class="idref" href="#m'':302"><span class="id" title="binder">m''</span></a> <a id="os<sub>1</sub>:303" class="idref" href="#os<sub>1</sub>:303"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:304" class="idref" href="#os<sub>2</sub>:304"><span class="id" title="binder">os<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:297"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:298"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:295"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':299"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':300"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:303"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a>  <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':299"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':300"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:296"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st'':301"><span class="id" title="variable">st''</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m'':302"><span class="id" title="variable">m''</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:304"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:297"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:298"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a>  <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:295"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#5a2e60be6e0cd521f1a3a523ba5dbdf8"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:296"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st'':301"><span class="id" title="variable">st''</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m'':302"><span class="id" title="variable">m''</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:303"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="SpecCT.html#os<sub>2</sub>:304"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Div.CTE_If" class="idref" href="#Div.CTE_If"><span class="id" title="constructor">CTE_If</span></a> : <span class="id" title="keyword">∀</span> <a id="st:305" class="idref" href="#st:305"><span class="id" title="binder">st</span></a> <a id="m:306" class="idref" href="#m:306"><span class="id" title="binder">m</span></a> <a id="st':307" class="idref" href="#st':307"><span class="id" title="binder">st'</span></a> <a id="m':308" class="idref" href="#m':308"><span class="id" title="binder">m'</span></a> <a id="be:309" class="idref" href="#be:309"><span class="id" title="binder">be</span></a> <a id="c<sub>1</sub>:310" class="idref" href="#c<sub>1</sub>:310"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:311" class="idref" href="#c<sub>2</sub>:311"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="os<sub>1</sub>:312" class="idref" href="#os<sub>1</sub>:312"><span class="id" title="binder">os<sub>1</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c:313" class="idref" href="#c:313"><span class="id" title="binder">c</span></a> := <span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:305"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:309"><span class="id" title="variable">be</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#c<sub>1</sub>:310"><span class="id" title="variable">c<sub>1</sub></span></a> <span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#c<sub>2</sub>:311"><span class="id" title="variable">c<sub>2</sub></span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:305"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:306"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:313"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':307"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':308"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:312"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:305"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:306"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#be:309"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:310"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:311"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':307"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':308"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#Div.OBranch"><span class="id" title="constructor">OBranch</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:305"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:309"><span class="id" title="variable">be</span></a>))<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:312"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Div.CTE_While" class="idref" href="#Div.CTE_While"><span class="id" title="constructor">CTE_While</span></a> : <span class="id" title="keyword">∀</span> <a id="b:314" class="idref" href="#b:314"><span class="id" title="binder">b</span></a> <a id="st:315" class="idref" href="#st:315"><span class="id" title="binder">st</span></a> <a id="m:316" class="idref" href="#m:316"><span class="id" title="binder">m</span></a> <a id="st':317" class="idref" href="#st':317"><span class="id" title="binder">st'</span></a> <a id="m':318" class="idref" href="#m':318"><span class="id" title="binder">m'</span></a> <a id="os:319" class="idref" href="#os:319"><span class="id" title="binder">os</span></a> <a id="c:320" class="idref" href="#c:320"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:315"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a><a class="idref" href="SpecCT.html#m:316"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#b:314"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c:320"><span class="id" title="variable">c</span></a><a class="idref" href="SpecCT.html#5a2e60be6e0cd521f1a3a523ba5dbdf8"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#b:314"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c:320"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':317"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':318"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:319"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:315"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a><a class="idref" href="SpecCT.html#m:316"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#b:314"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c:320"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':317"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':318"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:319"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Div.CTE_ALoad" class="idref" href="#Div.CTE_ALoad"><span class="id" title="constructor">CTE_ALoad</span></a> : <span class="id" title="keyword">∀</span> <a id="st:321" class="idref" href="#st:321"><span class="id" title="binder">st</span></a> <a id="m:322" class="idref" href="#m:322"><span class="id" title="binder">m</span></a> <a id="x:323" class="idref" href="#x:323"><span class="id" title="binder">x</span></a> <a id="a:324" class="idref" href="#a:324"><span class="id" title="binder">a</span></a> <a id="ie:325" class="idref" href="#ie:325"><span class="id" title="binder">ie</span></a> <a id="i:326" class="idref" href="#i:326"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:321"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:325"><span class="id" title="variable">ie</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:326"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:326"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#m:322"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:324"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:321"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:322"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:323"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#22c94fa52953a01020633e28afbfd6ab"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#a:324"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#22c94fa52953a01020633e28afbfd6ab"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#ie:325"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#22c94fa52953a01020633e28afbfd6ab"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:323"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="SpecCT.html#i:326"><span class="id" title="variable">i</span></a> (<a class="idref" href="SpecCT.html#m:322"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:324"><span class="id" title="variable">a</span></a>) 0<span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:321"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:322"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#Div.OALoad"><span class="id" title="constructor">OALoad</span></a> <a class="idref" href="SpecCT.html#a:324"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:326"><span class="id" title="variable">i</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Div.CTE_AStore" class="idref" href="#Div.CTE_AStore"><span class="id" title="constructor">CTE_AStore</span></a> : <span class="id" title="keyword">∀</span> <a id="st:327" class="idref" href="#st:327"><span class="id" title="binder">st</span></a> <a id="m:328" class="idref" href="#m:328"><span class="id" title="binder">m</span></a> <a id="a:329" class="idref" href="#a:329"><span class="id" title="binder">a</span></a> <a id="ie:330" class="idref" href="#ie:330"><span class="id" title="binder">ie</span></a> <a id="i:331" class="idref" href="#i:331"><span class="id" title="binder">i</span></a> <a id="e:332" class="idref" href="#e:332"><span class="id" title="binder">e</span></a> <a id="n:333" class="idref" href="#n:333"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:327"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:332"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:333"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:327"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:330"><span class="id" title="variable">ie</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:331"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:331"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#m:328"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:329"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:327"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:328"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#a:329"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#925c04e94ed32b65423995cd08a599d<sub>5</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#ie:330"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#925c04e94ed32b65423995cd08a599d<sub>5</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#925c04e94ed32b65423995cd08a599d<sub>5</sub>"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#e:332"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:327"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a:329"><span class="id" title="variable">a</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#upd"><span class="id" title="definition">upd</span></a> <a class="idref" href="SpecCT.html#i:331"><span class="id" title="variable">i</span></a> (<a class="idref" href="SpecCT.html#m:328"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:329"><span class="id" title="variable">a</span></a>) <a class="idref" href="SpecCT.html#n:333"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#m:328"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#Div.OAStore"><span class="id" title="constructor">OAStore</span></a> <a class="idref" href="SpecCT.html#a:329"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:331"><span class="id" title="variable">i</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Div.CTE_Div" class="idref" href="#Div.CTE_Div"><span class="id" title="constructor">CTE_Div</span></a> : <span class="id" title="keyword">∀</span> <a id="st:334" class="idref" href="#st:334"><span class="id" title="binder">st</span></a> <a id="m:335" class="idref" href="#m:335"><span class="id" title="binder">m</span></a> <a id="e<sub>1</sub>:336" class="idref" href="#e<sub>1</sub>:336"><span class="id" title="binder">e<sub>1</sub></span></a> <a id="n<sub>1</sub>:337" class="idref" href="#n<sub>1</sub>:337"><span class="id" title="binder">n<sub>1</sub></span></a> <a id="e<sub>2</sub>:338" class="idref" href="#e<sub>2</sub>:338"><span class="id" title="binder">e<sub>2</sub></span></a> <a id="n<sub>2</sub>:339" class="idref" href="#n<sub>2</sub>:339"><span class="id" title="binder">n<sub>2</sub></span></a> <a id="x:340" class="idref" href="#x:340"><span class="id" title="binder">x</span></a>, <span class="comment">(*&nbsp;&lt;---&nbsp;NEW&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:334"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e<sub>1</sub>:336"><span class="id" title="variable">e<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n<sub>1</sub>:337"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:334"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e<sub>2</sub>:338"><span class="id" title="variable">e<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:339"><span class="id" title="variable">n<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:334"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:335"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:340"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#2f09d656af53d197e4c802960829e041"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#e<sub>1</sub>:336"><span class="id" title="variable">e<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#2f09d656af53d197e4c802960829e041"><span class="id" title="notation">div</span></a> <a class="idref" href="SpecCT.html#e<sub>2</sub>:338"><span class="id" title="variable">e<sub>2</sub></span></a>  <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:340"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> (<a class="idref" href="SpecCT.html#n<sub>1</sub>:337"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#2e0d8202c5a48097752d760d3a1db6a<sub>7</sub>"><span class="id" title="notation">/</span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:339"><span class="id" title="variable">n<sub>2</sub></span></a>)%<span class="id" title="var">nat</span><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:334"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:335"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#Div.ODiv"><span class="id" title="constructor">ODiv</span></a> <a class="idref" href="SpecCT.html#n<sub>1</sub>:337"><span class="id" title="variable">n<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#n<sub>2</sub>:339"><span class="id" title="variable">n<sub>2</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="7bf19be32fcb2c1dfe6b1842873daac8" class="idref" href="#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&quot;</span></a>&lt;( st , m )&gt; =[ c ]=&gt; &lt;( stt , mt , os )&gt;" := (<a class="idref" href="SpecCT.html#cteval:287"><span class="id" title="inductive">cteval</span></a> <span class="id" title="var">c</span> <span class="id" title="var">st</span> <span class="id" title="var">m</span> <span class="id" title="var">stt</span> <span class="id" title="var">mt</span> <span class="id" title="var">os</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="SpecCT.html#cteval"><span class="id" title="inductive">cteval</span></a> : <span class="id" title="var">core</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Reserved Notation</span> &quot;P ';;' PA '&#x22A2;ct-' c" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40).<br/>
</div>

<div class="doc">
<a id="lab85"></a><h4 class="section">Exercise: 1 star, standard (cct_well_typed_div)</h4>
 Add a new typing rule for division to <span class="inlinecode"><span class="id" title="var">cct_well_typed</span></span> below.
    Your rule should prevent leaking secret division operands via observations. 
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="Div.cct_well_typed" class="idref" href="#Div.cct_well_typed"><span class="id" title="definition, inductive"><span id="Div.cct_well_typed_ind" class="id"><span id="Div.cct_well_typed_sind" class="id">cct_well_typed</span></span></span></a> (<a id="P:341" class="idref" href="#P:341"><span class="id" title="binder">P</span></a>:<a class="idref" href="SpecCT.html#pub_vars"><span class="id" title="definition">pub_vars</span></a>) (<a id="PA:342" class="idref" href="#PA:342"><span class="id" title="binder">PA</span></a>:<a class="idref" href="SpecCT.html#pub_arrs"><span class="id" title="definition">pub_arrs</span></a>) : <a class="idref" href="SpecCT.html#Div.com"><span class="id" title="inductive">com</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Div.CCT_Skip" class="idref" href="#Div.CCT_Skip"><span class="id" title="constructor">CCT_Skip</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:342"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Div.CCT_Asgn" class="idref" href="#Div.CCT_Asgn"><span class="id" title="constructor">CCT_Asgn</span></a> : <span class="id" title="keyword">∀</span> <a id="X:345" class="idref" href="#X:345"><span class="id" title="binder">X</span></a> <a id="e:346" class="idref" href="#e:346"><span class="id" title="binder">e</span></a> <a id="l:347" class="idref" href="#l:347"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#e:346"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l:347"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#can_flow"><span class="id" title="definition">can_flow</span></a> <a class="idref" href="SpecCT.html#l:347"><span class="id" title="variable">l</span></a> (<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#X:345"><span class="id" title="variable">X</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:342"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#X:345"><span class="id" title="variable">X</span></a> <a class="idref" href="SpecCT.html#4ab92d36aec76a142bef20373ed202f<sub>9</sub>"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#e:346"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Div.CCT_Seq" class="idref" href="#Div.CCT_Seq"><span class="id" title="constructor">CCT_Seq</span></a> : <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:348" class="idref" href="#c<sub>1</sub>:348"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:349" class="idref" href="#c<sub>2</sub>:349"><span class="id" title="binder">c<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:342"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:348"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:342"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:349"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:342"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:348"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#5a2e60be6e0cd521f1a3a523ba5dbdf8"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:349"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Div.CCT_If" class="idref" href="#Div.CCT_If"><span class="id" title="constructor">CCT_If</span></a> : <span class="id" title="keyword">∀</span> <a id="b:350" class="idref" href="#b:350"><span class="id" title="binder">b</span></a> <a id="c<sub>1</sub>:351" class="idref" href="#c<sub>1</sub>:351"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:352" class="idref" href="#c<sub>2</sub>:352"><span class="id" title="binder">c<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#b:350"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:342"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:351"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:342"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:352"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:342"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#b:350"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:351"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:352"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Div.CCT_While" class="idref" href="#Div.CCT_While"><span class="id" title="constructor">CCT_While</span></a> : <span class="id" title="keyword">∀</span> <a id="b:353" class="idref" href="#b:353"><span class="id" title="binder">b</span></a> <a id="c<sub>1</sub>:354" class="idref" href="#c<sub>1</sub>:354"><span class="id" title="binder">c<sub>1</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#b:353"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:342"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:354"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:342"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#b:353"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:354"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#Div.:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Div.CCT_ALoad" class="idref" href="#Div.CCT_ALoad"><span class="id" title="constructor">CCT_ALoad</span></a> : <span class="id" title="keyword">∀</span> <a id="x:355" class="idref" href="#x:355"><span class="id" title="binder">x</span></a> <a id="a:356" class="idref" href="#a:356"><span class="id" title="binder">a</span></a> <a id="i:357" class="idref" href="#i:357"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#i:357"><span class="id" title="variable">i</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#can_flow"><span class="id" title="definition">can_flow</span></a> (<a class="idref" href="SpecCT.html#PA:342"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#a:356"><span class="id" title="variable">a</span></a>) (<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#x:355"><span class="id" title="variable">x</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:342"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#x:355"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#22c94fa52953a01020633e28afbfd6ab"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#a:356"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#22c94fa52953a01020633e28afbfd6ab"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#i:357"><span class="id" title="variable">i</span></a><a class="idref" href="SpecCT.html#22c94fa52953a01020633e28afbfd6ab"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Div.CCT_AStore" class="idref" href="#Div.CCT_AStore"><span class="id" title="constructor">CCT_AStore</span></a> : <span class="id" title="keyword">∀</span> <a id="a:358" class="idref" href="#a:358"><span class="id" title="binder">a</span></a> <a id="i:359" class="idref" href="#i:359"><span class="id" title="binder">i</span></a> <a id="e:360" class="idref" href="#e:360"><span class="id" title="binder">e</span></a> <a id="l:361" class="idref" href="#l:361"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#i:359"><span class="id" title="variable">i</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">&#x22A2;</span></a> <a class="idref" href="SpecCT.html#e:360"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">\</span></a><a class="idref" href="SpecCT.html#3b5796de2387691122e67a3516cd710b"><span class="id" title="notation">in</span></a> <a class="idref" href="SpecCT.html#l:361"><span class="id" title="variable">l</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#can_flow"><span class="id" title="definition">can_flow</span></a> <a class="idref" href="SpecCT.html#l:361"><span class="id" title="variable">l</span></a> (<a class="idref" href="SpecCT.html#PA:342"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#a:358"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:341"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:342"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#a:358"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#925c04e94ed32b65423995cd08a599d<sub>5</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#i:359"><span class="id" title="variable">i</span></a><a class="idref" href="SpecCT.html#925c04e94ed32b65423995cd08a599d<sub>5</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#925c04e94ed32b65423995cd08a599d<sub>5</sub>"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#e:360"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&lt;---&nbsp;Add&nbsp;your&nbsp;new&nbsp;typing&nbsp;rule&nbsp;here&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="04eca9680fedff1506322d238cd03f<sub>68</sub>" class="idref" href="#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">&quot;</span></a>P ;; PA '&#x22A2;ct-' c" := (<a class="idref" href="SpecCT.html#cct_well_typed:344"><span class="id" title="inductive">cct_well_typed</span></a> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span>).<br/>
<span class="comment">(*&nbsp;Do&nbsp;not&nbsp;modify&nbsp;the&nbsp;following&nbsp;line:&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a id="Div.manual_grade_for_cct_well_typed_div" class="idref" href="#Div.manual_grade_for_cct_well_typed_div"><span class="id" title="definition">manual_grade_for_cct_well_typed_div</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="code">

<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="SpecCT.html#cct_well_typed"><span class="id" title="inductive">cct_well_typed</span></a> : <span class="id" title="var">core</span>.<br/>
</div>

<div class="doc">
<a id="lab86"></a><h4 class="section">Exercise: 2 stars, standard (cct_well_typed_div_noninterferent)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="Div.cct_well_typed_div_noninterferent" class="idref" href="#Div.cct_well_typed_div_noninterferent"><span class="id" title="lemma">cct_well_typed_div_noninterferent</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:362" class="idref" href="#P:362"><span class="id" title="binder">P</span></a> <a id="PA:363" class="idref" href="#PA:363"><span class="id" title="binder">PA</span></a> <a id="c:364" class="idref" href="#c:364"><span class="id" title="binder">c</span></a> <a id="st<sub>1</sub>:365" class="idref" href="#st<sub>1</sub>:365"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:366" class="idref" href="#st<sub>2</sub>:366"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="m<sub>1</sub>:367" class="idref" href="#m<sub>1</sub>:367"><span class="id" title="binder">m<sub>1</sub></span></a> <a id="m<sub>2</sub>:368" class="idref" href="#m<sub>2</sub>:368"><span class="id" title="binder">m<sub>2</sub></span></a> <a id="st<sub>1</sub>':369" class="idref" href="#st<sub>1</sub>':369"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':370" class="idref" href="#st<sub>2</sub>':370"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="m<sub>1</sub>':371" class="idref" href="#m<sub>1</sub>':371"><span class="id" title="binder">m<sub>1</sub>'</span></a> <a id="m<sub>2</sub>':372" class="idref" href="#m<sub>2</sub>':372"><span class="id" title="binder">m<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:373" class="idref" href="#os<sub>1</sub>:373"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:374" class="idref" href="#os<sub>2</sub>:374"><span class="id" title="binder">os<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:362"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:363"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:364"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:362"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:365"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:366"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:363"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:367"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:368"><span class="id" title="variable">m<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>:365"><span class="id" title="variable">st<sub>1</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:367"><span class="id" title="variable">m<sub>1</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:364"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>':369"><span class="id" title="variable">st<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>':371"><span class="id" title="variable">m<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:373"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>:366"><span class="id" title="variable">st<sub>2</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:368"><span class="id" title="variable">m<sub>2</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:364"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>':370"><span class="id" title="variable">st<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>':372"><span class="id" title="variable">m<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:374"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:362"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>':369"><span class="id" title="variable">st<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>':370"><span class="id" title="variable">st<sub>2</sub>'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:363"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>':371"><span class="id" title="variable">m<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>':372"><span class="id" title="variable">m<sub>2</sub>'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span> <span class="id" title="var">st<sub>1</sub></span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">m<sub>1</sub></span> <span class="id" title="var">m<sub>2</sub></span> <span class="id" title="var">st<sub>1</sub>'</span> <span class="id" title="var">st<sub>2</sub>'</span> <span class="id" title="var">m<sub>1</sub>'</span> <span class="id" title="var">m<sub>2</sub>'</span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hwt</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">m<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">m<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">os<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heval1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">os<sub>2</sub>'</span> <span class="id" title="var">m<sub>2</sub></span> <span class="id" title="var">Haeq</span> <span class="id" title="var">m<sub>2</sub>'</span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">Heq</span> <span class="id" title="var">st<sub>2</sub>'</span> <span class="id" title="var">Heval2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwt</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="var">Heq</span> <span class="id" title="var">H<sub>10</sub></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">edestruct</span> <span class="id" title="var">IHHeval1_2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1_1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1_1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">c</span> <span class="id" title="var">c<sub>4</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="var">Heq</span> <span class="id" title="var">H<sub>11</sub></span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">PA</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">PAa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Haeq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">PAa</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">PAa</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>15</sub></span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Bool.Bool.html#negb_true_iff"><span class="id" title="lemma">negb_true_iff</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>15</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">PA</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">PAa</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Haeq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">PAa</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">PAa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; [|<span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">erewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="var">Heq</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

 We need to redefine <span class="inlinecode"><span class="id" title="var">cct_secure</span></span> for our new command definition 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="Div.cct_secure" class="idref" href="#Div.cct_secure"><span class="id" title="definition">cct_secure</span></a> <a id="P:375" class="idref" href="#P:375"><span class="id" title="binder">P</span></a> <a id="PA:376" class="idref" href="#PA:376"><span class="id" title="binder">PA</span></a> <a id="c:377" class="idref" href="#c:377"><span class="id" title="binder">c</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="st<sub>1</sub>:378" class="idref" href="#st<sub>1</sub>:378"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:379" class="idref" href="#st<sub>2</sub>:379"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="m<sub>1</sub>:380" class="idref" href="#m<sub>1</sub>:380"><span class="id" title="binder">m<sub>1</sub></span></a> <a id="m<sub>2</sub>:381" class="idref" href="#m<sub>2</sub>:381"><span class="id" title="binder">m<sub>2</sub></span></a> <a id="st<sub>1</sub>':382" class="idref" href="#st<sub>1</sub>':382"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':383" class="idref" href="#st<sub>2</sub>':383"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="m<sub>1</sub>':384" class="idref" href="#m<sub>1</sub>':384"><span class="id" title="binder">m<sub>1</sub>'</span></a> <a id="m<sub>2</sub>':385" class="idref" href="#m<sub>2</sub>':385"><span class="id" title="binder">m<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:386" class="idref" href="#os<sub>1</sub>:386"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:387" class="idref" href="#os<sub>2</sub>:387"><span class="id" title="binder">os<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:375"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:378"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:379"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:376"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:380"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:381"><span class="id" title="variable">m<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>:378"><span class="id" title="variable">st<sub>1</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:380"><span class="id" title="variable">m<sub>1</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:377"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>':382"><span class="id" title="variable">st<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>':384"><span class="id" title="variable">m<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:386"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>:379"><span class="id" title="variable">st<sub>2</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:381"><span class="id" title="variable">m<sub>2</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:377"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>':383"><span class="id" title="variable">st<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>':385"><span class="id" title="variable">m<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:387"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#7bf19be32fcb2c1dfe6b1842873daac8"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#os<sub>1</sub>:386"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:387"><span class="id" title="variable">os<sub>2</sub></span></a>.<br/>
</div>

<div class="doc">
<a id="lab87"></a><h4 class="section">Exercise: 2 stars, standard (cct_well_typed_div_secure)</h4>
 Reprove CCT security of the type system. Hint: If this proof doesn't go
    through easily, you may need to go back and fix your div rule. 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="Div.cct_well_typed_div_secure" class="idref" href="#Div.cct_well_typed_div_secure"><span class="id" title="lemma">cct_well_typed_div_secure</span></a> : <span class="id" title="keyword">∀</span> <a id="P:388" class="idref" href="#P:388"><span class="id" title="binder">P</span></a> <a id="PA:389" class="idref" href="#PA:389"><span class="id" title="binder">PA</span></a> <a id="c:390" class="idref" href="#c:390"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:388"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:389"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#04eca9680fedff1506322d238cd03f<sub>68</sub>"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:390"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#Div.cct_secure"><span class="id" title="definition">cct_secure</span></a> <a class="idref" href="SpecCT.html#P:388"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#PA:389"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c:390"><span class="id" title="variable">c</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#Div.cct_secure"><span class="id" title="definition">cct_secure</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">st<sub>1</sub></span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">m<sub>1</sub></span> <span class="id" title="var">m<sub>2</sub></span> <span class="id" title="var">st<sub>1</sub>'</span> <span class="id" title="var">st<sub>2</sub>'</span> <span class="id" title="var">m<sub>1</sub>'</span> <span class="id" title="var">m<sub>2</sub>'</span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Heq</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">m<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">m<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">os<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heval1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">os<sub>2</sub>'</span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">Haeq</span> <span class="id" title="var">a<sub>2</sub>'</span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">Heq</span> <span class="id" title="var">s<sub>2</sub>'</span> <span class="id" title="var">Heval2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwt</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> <span class="id" title="var">IHHeval1_2</span>; [<span class="id" title="var">erewrite</span> <span class="id" title="var">IHHeval1_1</span> | | | |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Div.cct_well_typed_div_noninterferent"><span class="id" title="axiom">cct_well_typed_div_noninterferent</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">c</span>:=<span class="id" title="var">c<sub>1</sub></span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Div.cct_well_typed_div_noninterferent"><span class="id" title="axiom">cct_well_typed_div_noninterferent</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">c</span>:=<span class="id" title="var">c<sub>1</sub></span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="var">Heq</span> <span class="id" title="var">H<sub>11</sub></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">c</span> <span class="id" title="var">c<sub>4</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="var">Heq</span> <span class="id" title="var">H<sub>11</sub></span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="code">
<span class="id" title="keyword">End</span> <a class="idref" href="SpecCT.html#Div"><span class="id" title="module">Div</span></a>.<br/>
</div>

<div class="doc">
<a id="lab88"></a><h1 class="section">Speculative constant-time (text under development)</h1>

<div class="paragraph"> </div>

 This second part of the chapter is based on the Spectre
    Declassified paper <a href="Bib.html#Shivakumar-et al 2023"><span class="inlineref">[Shivakumar et al 2023]</span></a> in simplified form
    (e.g., without declassification). Like in this paper, we only look
    at a class of speculative execution attacks called Spectre v<sub>1</sub>. 
<div class="paragraph"> </div>

 The Rocq development below is complete, but the text about it is still under
    development and gets sparse after the first 3-4 subsections, especially for
    the security proof. Readers can skip the security proof, or if they have
    access to the slides associated to this chapter (i.e. the TERSE version)
    look there for a high-level overview of the security proof. 
<div class="paragraph"> </div>

<a id="lab89"></a><h2 class="section">CCT programs can be insecure under speculative execution</h2>

<div class="paragraph"> </div>

 All variables mentioned in the program below (<span class="inlinecode"><span class="id" title="var">X</span></span>, <span class="inlinecode"><span class="id" title="var">Y</span></span>, <span class="inlinecode"><span class="id" title="var">AP</span></span>) are <i>public</i>,
    so this program respects the CCT discipline, yet this program is not secure
    under speculative execution. 
<div class="paragraph"> </div>

 The size of public array <span class="inlinecode"><span class="id" title="var">AP</span></span> is <span class="inlinecode">3</span> and we check we're in bounds, yet this
    check can misspeculate! 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="spec_insecure_prog" class="idref" href="#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="SpecCT.html#:com::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 3 <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="comment">(*&nbsp;&lt;-&nbsp;this&nbsp;check&nbsp;can&nbsp;misspeculate&nbsp;for&nbsp;Y&nbsp;&gt;=&nbsp;3!&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="comment">(*&nbsp;&lt;-&nbsp;speculative&nbsp;out&nbsp;of&nbsp;bounds&nbsp;access<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loads&nbsp;_a&nbsp;secret_&nbsp;to&nbsp;public&nbsp;variable&nbsp;X&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> 5 <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 5 <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <span class="comment">(*&nbsp;&lt;-&nbsp;speculatively&nbsp;leak&nbsp;X&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> .<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Example</span> <a id="spec_insecure_prog_is_ct_well_typed" class="idref" href="#spec_insecure_prog_is_ct_well_typed"><span class="id" title="definition">spec_insecure_prog_is_ct_well_typed</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#XYZpub"><span class="id" title="definition">XYZpub</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#APpub"><span class="id" title="definition">APpub</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a>.<br/>
<div class="togglescript" id="proofcontrol9" onclick="toggleDisplay('proof9');toggleDisplay('proofcontrol9')"><span class="show"></span></div>
<div class="proofscript" id="proof9" onclick="toggleDisplay('proof9');toggleDisplay('proofcontrol9')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#CCT_If"><span class="id" title="constructor">CCT_If</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="SpecCT.html#join_public_l"><span class="id" title="lemma">join_public_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#T_Bin"><span class="id" title="constructor">T_Bin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="SpecCT.html#join_public_l"><span class="id" title="lemma">join_public_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#T_Bin"><span class="id" title="constructor">T_Bin</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#T_Num"><span class="id" title="constructor">T_Num</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CCT_Seq"><span class="id" title="constructor">CCT_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CCT_ALoad"><span class="id" title="constructor">CCT_ALoad</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CCT_If"><span class="id" title="constructor">CCT_If</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="SpecCT.html#join_public_l"><span class="id" title="lemma">join_public_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#T_Bin"><span class="id" title="constructor">T_Bin</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CCT_Asgn"><span class="id" title="constructor">CCT_Asgn</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
Here is a more realistic version of this example: 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="spec_insecure_prog_2" class="idref" href="#spec_insecure_prog_2"><span class="id" title="definition">spec_insecure_prog_2</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0<a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 0<a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="SpecCT.html#:com::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 3 <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#Z"><span class="id" title="definition">Z</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> <a class="idref" href="SpecCT.html#Z"><span class="id" title="definition">Z</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="SpecCT.html#ad27fd091d9c8494ce7e5135135d19a<sub>8</sub>"><span class="id" title="notation">+</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> 5 <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 5 <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> .<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Example</span> <a id="spec_insecure_prog_2_is_ct_well_typed" class="idref" href="#spec_insecure_prog_2_is_ct_well_typed"><span class="id" title="definition">spec_insecure_prog_2_is_ct_well_typed</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#XYZpub"><span class="id" title="definition">XYZpub</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#APpub"><span class="id" title="definition">APpub</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog_2"><span class="id" title="definition">spec_insecure_prog_2</span></a>.<br/>
<div class="togglescript" id="proofcontrol10" onclick="toggleDisplay('proof10');toggleDisplay('proofcontrol10')"><span class="show"></span></div>
<div class="proofscript" id="proof10" onclick="toggleDisplay('proof10');toggleDisplay('proofcontrol10')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#CCT_Seq"><span class="id" title="constructor">CCT_Seq</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CCT_Asgn"><span class="id" title="constructor">CCT_Asgn</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#CCT_Seq"><span class="id" title="constructor">CCT_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CCT_Asgn"><span class="id" title="constructor">CCT_Asgn</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CCT_Seq"><span class="id" title="constructor">CCT_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#CCT_While"><span class="id" title="constructor">CCT_While</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="SpecCT.html#join_public_l"><span class="id" title="lemma">join_public_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#T_Bin"><span class="id" title="constructor">T_Bin</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="SpecCT.html#join_public_l"><span class="id" title="lemma">join_public_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#T_Bin"><span class="id" title="constructor">T_Bin</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#BFalse"><span class="id" title="definition">BFalse</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CCT_Seq"><span class="id" title="constructor">CCT_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CCT_ALoad"><span class="id" title="constructor">CCT_ALoad</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CCT_Seq"><span class="id" title="constructor">CCT_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CCT_Asgn"><span class="id" title="constructor">CCT_Asgn</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">l</span>:= <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="SpecCT.html#join_public_l"><span class="id" title="lemma">join_public_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#T_Bin"><span class="id" title="constructor">T_Bin</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CCT_Asgn"><span class="id" title="constructor">CCT_Asgn</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">l</span>:= <a class="idref" href="SpecCT.html#public"><span class="id" title="definition">public</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="SpecCT.html#join_public_l"><span class="id" title="lemma">join_public_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#T_Bin"><span class="id" title="constructor">T_Bin</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">reflexivity</span>. } }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#CCT_If"><span class="id" title="constructor">CCT_If</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="SpecCT.html#join_public_l"><span class="id" title="lemma">join_public_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#T_Bin"><span class="id" title="constructor">T_Bin</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CCT_Asgn"><span class="id" title="constructor">CCT_Asgn</span></a>; <span class="id" title="tactic">auto</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
All variables mentioned in the program are again public, so also this
    program respects the CCT discipline, yet it is also not secure under
    speculative execution. 
<div class="paragraph"> </div>

 This example is formalized at the end of the chapter. 
<div class="paragraph"> </div>

<a id="lab90"></a><h2 class="section">Speculative semantics</h2>

<div class="paragraph"> </div>

 To reason about the security of these examples against Spectre v<sub>1</sub> we will
    introduce a speculative semantics. To model leakage the semantics uses the
    same CCT observations as above (<span class="inlinecode"><span class="id" title="var">OBranch</span></span>, <span class="inlinecode"><span class="id" title="var">OALoad</span></span>, and <span class="inlinecode"><span class="id" title="var">OAStore</span></span>). 
<div class="paragraph"> </div>

 More interestingly, to model speculative execution we add to the semantics
    adversary-provided <i>directions</i>, which control the speculation behavior: 
</div>
<div class="code">

<span class="id" title="keyword">Inductive</span> <a id="direction" class="idref" href="#direction"><span class="id" title="definition, inductive"><span id="direction_rect" class="id"><span id="direction_ind" class="id"><span id="direction_rec" class="id"><span id="direction_sind" class="id">direction</span></span></span></span></span></a> :=<br/>
| <a id="DStep" class="idref" href="#DStep"><span class="id" title="constructor">DStep</span></a>  <span class="comment">(*&nbsp;adversary&nbsp;chooses&nbsp;the&nbsp;correct&nbsp;branch&nbsp;of&nbsp;conditional&nbsp;*)</span><br/>
| <a id="DForce" class="idref" href="#DForce"><span class="id" title="constructor">DForce</span></a> <span class="comment">(*&nbsp;adversary&nbsp;forces&nbsp;us&nbsp;take&nbsp;the&nbsp;wrong&nbsp;branch&nbsp;of&nbsp;conditional&nbsp;*)</span><br/>
| <a id="DLoad" class="idref" href="#DLoad"><span class="id" title="constructor">DLoad</span></a> (<a id="a:393" class="idref" href="#a:393"><span class="id" title="binder">a</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="i:394" class="idref" href="#i:394"><span class="id" title="binder">i</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)   <span class="comment">(*&nbsp;for&nbsp;speculative&nbsp;OOB&nbsp;array&nbsp;accesses&nbsp;*)</span><br/>
| <a id="DStore" class="idref" href="#DStore"><span class="id" title="constructor">DStore</span></a> (<a id="a:395" class="idref" href="#a:395"><span class="id" title="binder">a</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="i:396" class="idref" href="#i:396"><span class="id" title="binder">i</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>). <span class="comment">(*&nbsp;adversary&nbsp;chooses&nbsp;array&nbsp;and&nbsp;index&nbsp;*)</span><br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="dirs" class="idref" href="#dirs"><span class="id" title="definition">dirs</span></a> := <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#direction"><span class="id" title="inductive">direction</span></a>.<br/>
</div>

<div class="doc">
This gives us a very high-level model of speculation that abstracts away
    low-level details such as the compiler, branch predictors, memory layout,
    speculation window, rollbacks, etc. We do this in a way that tries to
    overapproximate the adversary's power.

<div class="paragraph"> </div>

    This kind of speculation model is actually used by the Jasmin language for
    high-assurance crypto. 
<div class="paragraph"> </div>

 Compared to the CCT semantics with observations as output, we now add the
    directions as input to the evaluation judgement and we also track a
    misspeculation bit <span class="inlinecode"><span class="id" title="var">b</span></span>. 
<div class="paragraph"> </div>

 <center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">&nbsp;&nbsp;</td>
  <td class="infrulenamecol" rowspan="3">
    (Spec_Skip) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st,m,b,[])> =[skip]=> <(st,m,b,[])></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">eval st e = n</td>
  <td class="infrulenamecol" rowspan="3">
    (Spec_Asgn) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st,m,b,[])> =[x:=e]=> <(x!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>n;st,m,b,[])></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule"><(st,m,b,ds<sub>1</sub>)> =[c<sub>1</sub>]=> <(st',m',b',os<sub>1</sub>)></td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st',m',b',ds<sub>2</sub>)> =[c<sub>2</sub>]=> <(st'',m'',b'',os<sub>2</sub>)></td>
  <td class="infrulenamecol" rowspan="3">
    (Spec_Seq) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st,m,b,ds<sub>1</sub>++ds<sub>2</sub>)> =[c<sub>1</sub>;c<sub>2</sub>]=> <(st'',m'',b'',os<sub>1</sub>++os<sub>2</sub>)></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule"><(st,m,b,ds)> =[ if be then c; while be do c end ]=></td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st',m',b',os)></td>
  <td class="infrulenamecol" rowspan="3">
    (Spec_While) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st,m,b,ds)> =[ while be do c end ]=> <(st',m',b',os)></td>
  <td></td>
</tr>
</table></center>
<div class="paragraph"> </div>

 <center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">let c := if not_zero (eval st be) then c<sub>1</sub> else c<sub>2</sub> in</td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st,m,b,ds)> =[ c ]=> <(st',m',b',os<sub>1</sub>)></td>
  <td class="infrulenamecol" rowspan="3">
    (Spec_If) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st,m,b, DStep::ds)> =[ if be then c<sub>1</sub> else c<sub>2</sub> end ]=></td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st',m',b', [OBranch (not_zero (eval st be))]++os<sub>1</sub>)></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">let c := if not_zero (eval st be) then c<sub>2</sub> else c<sub>1</sub> in</td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st,m,true,ds)> =[ c ]=> <(st',m',b',os<sub>1</sub>)></td>
  <td class="infrulenamecol" rowspan="3">
    (Spec_If_F) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st,m,b, DForce::ds)> =[ if be then c<sub>1</sub> else c<sub>2</sub> end ]=></td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st',m',b', [OBranch (not_zero (eval st be))]++os<sub>1</sub>)></td>
  <td></td>
</tr>
</table></center>
<div class="paragraph"> </div>

 <center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">eval st ie = i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i < length(m a)</td>
  <td class="infrulenamecol" rowspan="3">
    (Spec_ALoad) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, m, b, [DStep])> =[ x <- a[[ie]] ]=></td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(x !<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> nth i (m a) 0; st, m, b, [OALoad a i])></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">eval st ie = i&nbsp;&nbsp;&nbsp;i >= length(m a)&nbsp;&nbsp;&nbsp;i' < length(m a')</td>
  <td class="infrulenamecol" rowspan="3">
    (Spec_ALoad_U) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, m, true, [DLoad a' i'])> =[ x <- a[[ie]] ]=></td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(x !<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> nth i' (m a') 0; st, m, true, [OALoad a i])></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">eval st e = n&nbsp;&nbsp;&nbsp;&nbsp;eval st ie = i&nbsp;&nbsp;&nbsp;&nbsp;i < length(m a)</td>
  <td class="infrulenamecol" rowspan="3">
    (Spec_AStore) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, m, b, [DStep])> =[ a[ie] <- e ]=></td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, a !<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> upd i (m a) n; m, b, [OAStore a i])></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">eval st e = n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval st ie = i</td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">i >= length(m a)&nbsp;&nbsp;&nbsp;i' < length(m a')</td>
  <td class="infrulenamecol" rowspan="3">
    (Spec_AStore_U) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, m, true, [DStore a' i'])> =[ a[ie] <- e ]=></td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(st, a' !<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> upd i' (m a') n; m, true, [OAStore a i])></td>
  <td></td>
</tr>
</table></center>
<div class="paragraph"> </div>

 Formally this definition looks as follows: 
</div>
<div class="code">

<span class="id" title="keyword">Reserved Notation</span><br/>
&nbsp;&nbsp;"'&lt;(' st , m , b , ds ')&gt;' '=[' c ']=&gt;' '&lt;(' stt , mt , bb , os ')&gt;'"<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">c</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">st</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">m</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">stt</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">mt</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="spec_eval" class="idref" href="#spec_eval"><span class="id" title="definition, inductive"><span id="spec_eval_ind" class="id"><span id="spec_eval_sind" class="id">spec_eval</span></span></span></a> : <a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Spec_Skip" class="idref" href="#Spec_Skip"><span class="id" title="constructor">Spec_Skip</span></a> : <span class="id" title="keyword">∀</span> <a id="st:399" class="idref" href="#st:399"><span class="id" title="binder">st</span></a> <a id="m:400" class="idref" href="#m:400"><span class="id" title="binder">m</span></a> <a id="b:401" class="idref" href="#b:401"><span class="id" title="binder">b</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:399"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:400"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:401"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:399"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:400"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:401"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_Asgn" class="idref" href="#Spec_Asgn"><span class="id" title="constructor">Spec_Asgn</span></a>  : <span class="id" title="keyword">∀</span> <a id="st:402" class="idref" href="#st:402"><span class="id" title="binder">st</span></a> <a id="m:403" class="idref" href="#m:403"><span class="id" title="binder">m</span></a> <a id="b:404" class="idref" href="#b:404"><span class="id" title="binder">b</span></a> <a id="e:405" class="idref" href="#e:405"><span class="id" title="binder">e</span></a> <a id="n:406" class="idref" href="#n:406"><span class="id" title="binder">n</span></a> <a id="x:407" class="idref" href="#x:407"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:402"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:405"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:406"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:402"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:403"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:404"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:407"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#e:405"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:407"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:406"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:402"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:403"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:404"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_Seq" class="idref" href="#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a> : <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:408" class="idref" href="#c<sub>1</sub>:408"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:409" class="idref" href="#c<sub>2</sub>:409"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="st:410" class="idref" href="#st:410"><span class="id" title="binder">st</span></a> <a id="m:411" class="idref" href="#m:411"><span class="id" title="binder">m</span></a> <a id="b:412" class="idref" href="#b:412"><span class="id" title="binder">b</span></a> <a id="st':413" class="idref" href="#st':413"><span class="id" title="binder">st'</span></a> <a id="m':414" class="idref" href="#m':414"><span class="id" title="binder">m'</span></a> <a id="b':415" class="idref" href="#b':415"><span class="id" title="binder">b'</span></a> <a id="st'':416" class="idref" href="#st'':416"><span class="id" title="binder">st''</span></a> <a id="m'':417" class="idref" href="#m'':417"><span class="id" title="binder">m''</span></a> <a id="b'':418" class="idref" href="#b'':418"><span class="id" title="binder">b''</span></a> <a id="os<sub>1</sub>:419" class="idref" href="#os<sub>1</sub>:419"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:420" class="idref" href="#os<sub>2</sub>:420"><span class="id" title="binder">os<sub>2</sub></span></a> <a id="ds<sub>1</sub>:421" class="idref" href="#ds<sub>1</sub>:421"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="ds<sub>2</sub>:422" class="idref" href="#ds<sub>2</sub>:422"><span class="id" title="binder">ds<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:410"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:411"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:412"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:421"><span class="id" title="variable">ds<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:408"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':413"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':414"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':415"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:419"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a>  <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':413"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':414"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':415"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:422"><span class="id" title="variable">ds<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:409"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st'':416"><span class="id" title="variable">st''</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m'':417"><span class="id" title="variable">m''</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b'':418"><span class="id" title="variable">b''</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:420"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:410"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:411"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:412"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:421"><span class="id" title="variable">ds<sub>1</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="SpecCT.html#ds<sub>2</sub>:422"><span class="id" title="variable">ds<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a>  <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:408"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:409"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st'':416"><span class="id" title="variable">st''</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m'':417"><span class="id" title="variable">m''</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b'':418"><span class="id" title="variable">b''</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:419"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="SpecCT.html#os<sub>2</sub>:420"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_If" class="idref" href="#Spec_If"><span class="id" title="constructor">Spec_If</span></a> : <span class="id" title="keyword">∀</span> <a id="st:423" class="idref" href="#st:423"><span class="id" title="binder">st</span></a> <a id="m:424" class="idref" href="#m:424"><span class="id" title="binder">m</span></a> <a id="b:425" class="idref" href="#b:425"><span class="id" title="binder">b</span></a> <a id="st':426" class="idref" href="#st':426"><span class="id" title="binder">st'</span></a> <a id="m':427" class="idref" href="#m':427"><span class="id" title="binder">m'</span></a> <a id="b':428" class="idref" href="#b':428"><span class="id" title="binder">b'</span></a> <a id="be:429" class="idref" href="#be:429"><span class="id" title="binder">be</span></a> <a id="c<sub>1</sub>:430" class="idref" href="#c<sub>1</sub>:430"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:431" class="idref" href="#c<sub>2</sub>:431"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="os<sub>1</sub>:432" class="idref" href="#os<sub>1</sub>:432"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="ds:433" class="idref" href="#ds:433"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c:434" class="idref" href="#c:434"><span class="id" title="binder">c</span></a> := (<span class="id" title="keyword">if</span> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:423"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:429"><span class="id" title="variable">be</span></a>)) <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#c<sub>1</sub>:430"><span class="id" title="variable">c<sub>1</sub></span></a> <span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#c<sub>2</sub>:431"><span class="id" title="variable">c<sub>2</sub></span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:423"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:424"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:425"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:433"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:434"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':426"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':427"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':428"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:432"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:423"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:424"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:425"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#ds:433"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#be:429"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:430"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:431"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':426"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':427"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':428"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:423"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:429"><span class="id" title="variable">be</span></a>))<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:432"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_If_F" class="idref" href="#Spec_If_F"><span class="id" title="constructor">Spec_If_F</span></a> : <span class="id" title="keyword">∀</span> <a id="st:435" class="idref" href="#st:435"><span class="id" title="binder">st</span></a> <a id="m:436" class="idref" href="#m:436"><span class="id" title="binder">m</span></a> <a id="b:437" class="idref" href="#b:437"><span class="id" title="binder">b</span></a> <a id="st':438" class="idref" href="#st':438"><span class="id" title="binder">st'</span></a> <a id="m':439" class="idref" href="#m':439"><span class="id" title="binder">m'</span></a> <a id="b':440" class="idref" href="#b':440"><span class="id" title="binder">b'</span></a> <a id="be:441" class="idref" href="#be:441"><span class="id" title="binder">be</span></a> <a id="c<sub>1</sub>:442" class="idref" href="#c<sub>1</sub>:442"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:443" class="idref" href="#c<sub>2</sub>:443"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="os<sub>1</sub>:444" class="idref" href="#os<sub>1</sub>:444"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="ds:445" class="idref" href="#ds:445"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c:446" class="idref" href="#c:446"><span class="id" title="binder">c</span></a> := (<span class="id" title="keyword">if</span> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:435"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:441"><span class="id" title="variable">be</span></a>)) <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#c<sub>2</sub>:443"><span class="id" title="variable">c<sub>2</sub></span></a> <span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#c<sub>1</sub>:442"><span class="id" title="variable">c<sub>1</sub></span></a>) <span class="id" title="keyword">in</span> <span class="comment">(*&nbsp;&lt;--&nbsp;branches&nbsp;swapped&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:435"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:436"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:445"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:446"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':438"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':439"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':440"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:444"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:435"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:436"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:437"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#ds:445"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#be:441"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:442"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:443"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':438"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':439"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':440"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:435"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:441"><span class="id" title="variable">be</span></a>))<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:444"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_While" class="idref" href="#Spec_While"><span class="id" title="constructor">Spec_While</span></a> : <span class="id" title="keyword">∀</span> <a id="be:447" class="idref" href="#be:447"><span class="id" title="binder">be</span></a> <a id="st:448" class="idref" href="#st:448"><span class="id" title="binder">st</span></a> <a id="m:449" class="idref" href="#m:449"><span class="id" title="binder">m</span></a> <a id="b:450" class="idref" href="#b:450"><span class="id" title="binder">b</span></a> <a id="ds:451" class="idref" href="#ds:451"><span class="id" title="binder">ds</span></a> <a id="st':452" class="idref" href="#st':452"><span class="id" title="binder">st'</span></a> <a id="m':453" class="idref" href="#m':453"><span class="id" title="binder">m'</span></a> <a id="b':454" class="idref" href="#b':454"><span class="id" title="binder">b'</span></a> <a id="os:455" class="idref" href="#os:455"><span class="id" title="binder">os</span></a> <a id="c:456" class="idref" href="#c:456"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:448"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:449"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:450"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:451"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#be:447"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c:456"><span class="id" title="variable">c</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#be:447"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c:456"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':452"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':453"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':454"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:455"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:448"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:449"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:450"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:451"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#be:447"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c:456"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':452"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':453"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':454"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:455"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_ALoad" class="idref" href="#Spec_ALoad"><span class="id" title="constructor">Spec_ALoad</span></a> : <span class="id" title="keyword">∀</span> <a id="st:457" class="idref" href="#st:457"><span class="id" title="binder">st</span></a> <a id="m:458" class="idref" href="#m:458"><span class="id" title="binder">m</span></a> <a id="b:459" class="idref" href="#b:459"><span class="id" title="binder">b</span></a> <a id="x:460" class="idref" href="#x:460"><span class="id" title="binder">x</span></a> <a id="a:461" class="idref" href="#a:461"><span class="id" title="binder">a</span></a> <a id="ie:462" class="idref" href="#ie:462"><span class="id" title="binder">ie</span></a> <a id="i:463" class="idref" href="#i:463"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:457"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:462"><span class="id" title="variable">ie</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:463"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:463"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#m:458"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:461"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:457"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:458"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:459"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:460"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#a:461"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#ie:462"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:460"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="SpecCT.html#i:463"><span class="id" title="variable">i</span></a> (<a class="idref" href="SpecCT.html#m:458"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:461"><span class="id" title="variable">a</span></a>) 0<span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:457"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:458"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:459"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OALoad"><span class="id" title="constructor">OALoad</span></a> <a class="idref" href="SpecCT.html#a:461"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:463"><span class="id" title="variable">i</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_ALoad_U" class="idref" href="#Spec_ALoad_U"><span class="id" title="constructor">Spec_ALoad_U</span></a> : <span class="id" title="keyword">∀</span> <a id="st:464" class="idref" href="#st:464"><span class="id" title="binder">st</span></a> <a id="m:465" class="idref" href="#m:465"><span class="id" title="binder">m</span></a> <a id="x:466" class="idref" href="#x:466"><span class="id" title="binder">x</span></a> <a id="a:467" class="idref" href="#a:467"><span class="id" title="binder">a</span></a> <a id="ie:468" class="idref" href="#ie:468"><span class="id" title="binder">ie</span></a> <a id="i:469" class="idref" href="#i:469"><span class="id" title="binder">i</span></a> <a id="a':470" class="idref" href="#a':470"><span class="id" title="binder">a'</span></a> <a id="i':471" class="idref" href="#i':471"><span class="id" title="binder">i'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:464"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:468"><span class="id" title="variable">ie</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:469"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:469"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f<sub>9</sub>"><span class="id" title="notation">≥</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#m:465"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:467"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i':471"><span class="id" title="variable">i'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#m:465"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a':470"><span class="id" title="variable">a'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:464"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:465"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DLoad"><span class="id" title="constructor">DLoad</span></a> <a class="idref" href="SpecCT.html#a':470"><span class="id" title="variable">a'</span></a> <a class="idref" href="SpecCT.html#i':471"><span class="id" title="variable">i'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:466"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#a:467"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#ie:468"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:466"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="SpecCT.html#i':471"><span class="id" title="variable">i'</span></a> (<a class="idref" href="SpecCT.html#m:465"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a':470"><span class="id" title="variable">a'</span></a>) 0<span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:464"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:465"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OALoad"><span class="id" title="constructor">OALoad</span></a> <a class="idref" href="SpecCT.html#a:467"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:469"><span class="id" title="variable">i</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_AStore" class="idref" href="#Spec_AStore"><span class="id" title="constructor">Spec_AStore</span></a> : <span class="id" title="keyword">∀</span> <a id="st:472" class="idref" href="#st:472"><span class="id" title="binder">st</span></a> <a id="m:473" class="idref" href="#m:473"><span class="id" title="binder">m</span></a> <a id="b:474" class="idref" href="#b:474"><span class="id" title="binder">b</span></a> <a id="a:475" class="idref" href="#a:475"><span class="id" title="binder">a</span></a> <a id="ie:476" class="idref" href="#ie:476"><span class="id" title="binder">ie</span></a> <a id="i:477" class="idref" href="#i:477"><span class="id" title="binder">i</span></a> <a id="e:478" class="idref" href="#e:478"><span class="id" title="binder">e</span></a> <a id="n:479" class="idref" href="#n:479"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:472"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:478"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:479"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:472"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:476"><span class="id" title="variable">ie</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:477"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:477"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#m:473"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:475"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:472"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:473"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:474"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#a:475"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#ie:476"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#e:478"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:472"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a:475"><span class="id" title="variable">a</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#upd"><span class="id" title="definition">upd</span></a> <a class="idref" href="SpecCT.html#i:477"><span class="id" title="variable">i</span></a> (<a class="idref" href="SpecCT.html#m:473"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:475"><span class="id" title="variable">a</span></a>) <a class="idref" href="SpecCT.html#n:479"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#m:473"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:474"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OAStore"><span class="id" title="constructor">OAStore</span></a> <a class="idref" href="SpecCT.html#a:475"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:477"><span class="id" title="variable">i</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Spec_AStore_U" class="idref" href="#Spec_AStore_U"><span class="id" title="constructor">Spec_AStore_U</span></a> : <span class="id" title="keyword">∀</span> <a id="st:480" class="idref" href="#st:480"><span class="id" title="binder">st</span></a> <a id="m:481" class="idref" href="#m:481"><span class="id" title="binder">m</span></a> <a id="a:482" class="idref" href="#a:482"><span class="id" title="binder">a</span></a> <a id="ie:483" class="idref" href="#ie:483"><span class="id" title="binder">ie</span></a> <a id="i:484" class="idref" href="#i:484"><span class="id" title="binder">i</span></a> <a id="e:485" class="idref" href="#e:485"><span class="id" title="binder">e</span></a> <a id="n:486" class="idref" href="#n:486"><span class="id" title="binder">n</span></a> <a id="a':487" class="idref" href="#a':487"><span class="id" title="binder">a'</span></a> <a id="i':488" class="idref" href="#i':488"><span class="id" title="binder">i'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:480"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:485"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:486"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:480"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:483"><span class="id" title="variable">ie</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:484"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:484"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f<sub>9</sub>"><span class="id" title="notation">≥</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#m:481"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:482"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i':488"><span class="id" title="variable">i'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#m:481"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a':487"><span class="id" title="variable">a'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:480"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:481"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStore"><span class="id" title="constructor">DStore</span></a> <a class="idref" href="SpecCT.html#a':487"><span class="id" title="variable">a'</span></a> <a class="idref" href="SpecCT.html#i':488"><span class="id" title="variable">i'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#a:482"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#ie:483"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#e:485"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:480"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a':487"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#upd"><span class="id" title="definition">upd</span></a> <a class="idref" href="SpecCT.html#i':488"><span class="id" title="variable">i'</span></a> (<a class="idref" href="SpecCT.html#m:481"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a':487"><span class="id" title="variable">a'</span></a>) <a class="idref" href="SpecCT.html#n:486"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#m:481"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OAStore"><span class="id" title="constructor">OAStore</span></a> <a class="idref" href="SpecCT.html#a:482"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:484"><span class="id" title="variable">i</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="f865af67109ca842cb3177ef3e4fadcb" class="idref" href="#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&quot;</span></a>&lt;( st , m , b , ds )&gt; =[ c ]=&gt; &lt;( stt , mt , bb , os )&gt;" :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#spec_eval:398"><span class="id" title="inductive">spec_eval</span></a> <span class="id" title="var">c</span> <span class="id" title="var">st</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">stt</span> <span class="id" title="var">mt</span> <span class="id" title="var">bb</span> <span class="id" title="var">os</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="SpecCT.html#spec_eval"><span class="id" title="inductive">spec_eval</span></a> : <span class="id" title="var">core</span>.<br/>
</div>

<div class="doc">
<a id="lab91"></a><h2 class="section">Speculative constant-time security definition</h2>

<div class="paragraph"> </div>

 The definition of speculative constant-time security is very similar to CCT
    security, but applied to the speculative semantics. The two executions
    receive the same directions <span class="inlinecode"><span class="id" title="var">ds</span></span>: 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="spec_ct_secure" class="idref" href="#spec_ct_secure"><span class="id" title="definition">spec_ct_secure</span></a> <a id="P:489" class="idref" href="#P:489"><span class="id" title="binder">P</span></a> <a id="PA:490" class="idref" href="#PA:490"><span class="id" title="binder">PA</span></a> <a id="c:491" class="idref" href="#c:491"><span class="id" title="binder">c</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="st<sub>1</sub>:492" class="idref" href="#st<sub>1</sub>:492"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:493" class="idref" href="#st<sub>2</sub>:493"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="m<sub>1</sub>:494" class="idref" href="#m<sub>1</sub>:494"><span class="id" title="binder">m<sub>1</sub></span></a> <a id="m<sub>2</sub>:495" class="idref" href="#m<sub>2</sub>:495"><span class="id" title="binder">m<sub>2</sub></span></a> <a id="st<sub>1</sub>':496" class="idref" href="#st<sub>1</sub>':496"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':497" class="idref" href="#st<sub>2</sub>':497"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="m<sub>1</sub>':498" class="idref" href="#m<sub>1</sub>':498"><span class="id" title="binder">m<sub>1</sub>'</span></a> <a id="m<sub>2</sub>':499" class="idref" href="#m<sub>2</sub>':499"><span class="id" title="binder">m<sub>2</sub>'</span></a> <a id="b<sub>1</sub>':500" class="idref" href="#b<sub>1</sub>':500"><span class="id" title="binder">b<sub>1</sub>'</span></a> <a id="b<sub>2</sub>':501" class="idref" href="#b<sub>2</sub>':501"><span class="id" title="binder">b<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:502" class="idref" href="#os<sub>1</sub>:502"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:503" class="idref" href="#os<sub>2</sub>:503"><span class="id" title="binder">os<sub>2</sub></span></a> <a id="ds:504" class="idref" href="#ds:504"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:489"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:492"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:493"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:490"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:494"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:495"><span class="id" title="variable">m<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>:492"><span class="id" title="variable">st<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:494"><span class="id" title="variable">m<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:504"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:491"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>':496"><span class="id" title="variable">st<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>':498"><span class="id" title="variable">m<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>1</sub>':500"><span class="id" title="variable">b<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:502"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>:493"><span class="id" title="variable">st<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:495"><span class="id" title="variable">m<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:504"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:491"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>':497"><span class="id" title="variable">st<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>':499"><span class="id" title="variable">m<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>2</sub>':501"><span class="id" title="variable">b<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:503"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#os<sub>1</sub>:502"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:503"><span class="id" title="variable">os<sub>2</sub></span></a>.<br/>
</div>

<div class="doc">
We can use this definition to show that our first example is speculatively
    insecure: 
</div>
<div class="code">

<span class="id" title="keyword">Print</span> <span class="id" title="var">spec_insecure_prog</span>.<br/>
<span class="comment">(*&nbsp;&lt;<span style='letter-spacing:-.4em;'>{</span>{&nbsp;if&nbsp;Y&nbsp;&lt;&nbsp;3&nbsp;then<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X&nbsp;&lt;-&nbsp;AP&nbsp;<span class="inlinecode">[<span class="id" title="var">Y</span>]</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;X&nbsp;&lt;=&nbsp;5&nbsp;then&nbsp;X&nbsp;:=&nbsp;5&nbsp;else&nbsp;skip&nbsp;end<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;skip&nbsp;end&nbsp;<span style='letter-spacing:-.4em;'>}</span>}&gt;&nbsp;*)</span><br/>
</div>

<div class="doc">
For this we build a counterexample where the attacker chooses an
    out-of-bounds index <span class="inlinecode"><span class="id" title="var">Y</span></span> <span class="inlinecode">=</span> <span class="inlinecode">3</span> and then passes the directions:
    <span class="inlinecode">[<span class="id" title="var">DForce</span>;</span> <span class="inlinecode"><span class="id" title="var">DLoad</span></span> <span class="inlinecode"><span class="id" title="var">AS</span></span> <span class="inlinecode">0;</span> <span class="inlinecode"><span class="id" title="var">DStep</span>]</span>.  This causes the two executions to load
    different values for <span class="inlinecode"><span class="id" title="var">X</span></span> from index <span class="inlinecode">0</span> of secret array <span class="inlinecode"><span class="id" title="var">AS</span></span>.
    If the different values loaded from <span class="inlinecode"><span class="id" title="var">AS</span>[0]</span> are well chosen (e.g., <span class="inlinecode">4</span> <span class="inlinecode">≤</span> <span class="inlinecode">5</span>
    in the first execution and <span class="inlinecode">7</span> <span class="inlinecode">&gt;</span> <span class="inlinecode">5</span> in the second) this causes two different
    observations: - <span class="inlinecode">[<span class="id" title="var">OBranch</span></span> <span class="inlinecode"><span class="id" title="var">false</span>;</span> <span class="inlinecode"><span class="id" title="var">OALoad</span></span> <span class="inlinecode"><span class="id" title="var">AP</span></span> <span class="inlinecode">3;</span> <span class="inlinecode"><span class="id" title="var">OBranch</span></span> <span class="inlinecode"><span class="id" title="var">true</span>]</span> and - <span class="inlinecode">[<span class="id" title="var">OBranch</span></span>
    <span class="inlinecode"><span class="id" title="var">false</span>;</span> <span class="inlinecode"><span class="id" title="var">OALoad</span></span> <span class="inlinecode"><span class="id" title="var">AP</span></span> <span class="inlinecode">3;</span> <span class="inlinecode"><span class="id" title="var">OBranch</span></span> <span class="inlinecode"><span class="id" title="var">false</span>]</span>.  
</div>
<div class="code">

<span class="id" title="keyword">Example</span> <a id="spec_insecure_prog_is_spec_insecure" class="idref" href="#spec_insecure_prog_is_spec_insecure"><span class="id" title="definition">spec_insecure_prog_is_spec_insecure</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="SpecCT.html#spec_ct_secure"><span class="id" title="definition">spec_ct_secure</span></a> <a class="idref" href="SpecCT.html#XYZpub"><span class="id" title="definition">XYZpub</span></a> <a class="idref" href="SpecCT.html#APpub"><span class="id" title="definition">APpub</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<div class="togglescript" id="proofcontrol11" onclick="toggleDisplay('proof11');toggleDisplay('proofcontrol11')"><span class="show"></span></div>
<div class="proofscript" id="proof11" onclick="toggleDisplay('proof11');toggleDisplay('proofcontrol11')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hcs</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 3<span class="id" title="notation">;</span> <span class="id" title="notation">__</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 0) <span class="id" title="keyword">as</span> <span class="id" title="var">st</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>0<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>1<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>2<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#AS"><span class="id" title="definition">AS</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>4<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>1<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">__</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">m<sub>1</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>0<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>1<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>2<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#AS"><span class="id" title="definition">AS</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>7<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>1<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">__</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">m<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DLoad"><span class="id" title="constructor">DLoad</span></a> <a class="idref" href="SpecCT.html#AS"><span class="id" title="definition">AS</span></a> 0<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">ds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> ((<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OALoad"><span class="id" title="constructor">OALoad</span></a> <a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a> 3<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">os<sub>1</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> ((<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OALoad"><span class="id" title="constructor">OALoad</span></a> <a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a> 3<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">)++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">os<sub>2</sub></span>.<br/><hr class='doublespaceincode'/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heval1</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">m<sub>1</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 5<span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 4<span class="id" title="notation">;</span> <span class="id" title="var">st</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">m<sub>1</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">os<sub>1</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_If_F"><span class="id" title="constructor">Spec_If_F</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_ALoad_U"><span class="id" title="constructor">Spec_ALoad_U</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_nil_l"><span class="id" title="lemma">app_nil_l</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">l</span>:=<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_If"><span class="id" title="constructor">Spec_If</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Asgn"><span class="id" title="constructor">Spec_Asgn</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heval2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">m<sub>2</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 7<span class="id" title="notation">;</span> <span class="id" title="var">st</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">m<sub>2</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">os<sub>2</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_If_F"><span class="id" title="constructor">Spec_If_F</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_ALoad_U"><span class="id" title="constructor">Spec_ALoad_U</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_nil_l"><span class="id" title="lemma">app_nil_l</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">l</span>:=<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_If"><span class="id" title="constructor">Spec_If</span></a>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span>. }<br/>
<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hcs</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval1</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Heval1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval2</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_refl"><span class="id" title="lemma">pub_equiv_refl</span></a>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#pub_equiv_refl"><span class="id" title="lemma">pub_equiv_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
<a id="lab92"></a><h4 class="section">Exercise: 1 star, standard (speculation_bit_monotonic)</h4>

<div class="paragraph"> </div>

 As mentioned above, our speculative semantics is very high-level, and
    doesn't have to deal with detecting misspeculation and rolling back. So in
    our semantics once the misspeculation bit is set to true, it will stay set: 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="speculation_bit_monotonic" class="idref" href="#speculation_bit_monotonic"><span class="id" title="lemma">speculation_bit_monotonic</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="c:505" class="idref" href="#c:505"><span class="id" title="binder">c</span></a> <a id="s:506" class="idref" href="#s:506"><span class="id" title="binder">s</span></a> <a id="a:507" class="idref" href="#a:507"><span class="id" title="binder">a</span></a> <a id="b:508" class="idref" href="#b:508"><span class="id" title="binder">b</span></a> <a id="ds:509" class="idref" href="#ds:509"><span class="id" title="binder">ds</span></a> <a id="s':510" class="idref" href="#s':510"><span class="id" title="binder">s'</span></a> <a id="a':511" class="idref" href="#a':511"><span class="id" title="binder">a'</span></a> <a id="b':512" class="idref" href="#b':512"><span class="id" title="binder">b'</span></a> <a id="os:513" class="idref" href="#os:513"><span class="id" title="binder">os</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s:506"><span class="id" title="variable">s</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a:507"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:508"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:509"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:505"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s':510"><span class="id" title="variable">s'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a':511"><span class="id" title="variable">a'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':512"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:513"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b:508"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b':512"><span class="id" title="variable">b'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="speculation_needs_force" class="idref" href="#speculation_needs_force"><span class="id" title="lemma">speculation_needs_force</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="c:514" class="idref" href="#c:514"><span class="id" title="binder">c</span></a> <a id="s:515" class="idref" href="#s:515"><span class="id" title="binder">s</span></a> <a id="a:516" class="idref" href="#a:516"><span class="id" title="binder">a</span></a> <a id="b:517" class="idref" href="#b:517"><span class="id" title="binder">b</span></a> <a id="ds:518" class="idref" href="#ds:518"><span class="id" title="binder">ds</span></a> <a id="s':519" class="idref" href="#s':519"><span class="id" title="binder">s'</span></a> <a id="a':520" class="idref" href="#a':520"><span class="id" title="binder">a'</span></a> <a id="b':521" class="idref" href="#b':521"><span class="id" title="binder">b'</span></a> <a id="os:522" class="idref" href="#os:522"><span class="id" title="binder">os</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s:515"><span class="id" title="variable">s</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a:516"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:517"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:518"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:514"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#s':519"><span class="id" title="variable">s'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a':520"><span class="id" title="variable">a'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':521"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:522"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b:517"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b':521"><span class="id" title="variable">b'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a> <a class="idref" href="SpecCT.html#ds:518"><span class="id" title="variable">ds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">s</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">s'</span> <span class="id" title="var">a'</span> <span class="id" title="var">b'</span> <span class="id" title="var">os</span> <span class="id" title="var">Heval</span> <span class="id" title="var">Hb</span> <span class="id" title="var">Hb'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#in_or_app"><span class="id" title="lemma">in_or_app</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">b'</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
We can recover sequential execution from <span class="inlinecode"><span class="id" title="var">spec_eval</span></span> if there is no
    speculation, so all directives are <span class="inlinecode"><span class="id" title="var">DStep</span></span> and misspeculation flag starts
    set to <span class="inlinecode"><span class="id" title="var">false</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="seq_spec_eval" class="idref" href="#seq_spec_eval"><span class="id" title="definition">seq_spec_eval</span></a> (<a id="c:523" class="idref" href="#c:523"><span class="id" title="binder">c</span></a> :<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) (<a id="st:524" class="idref" href="#st:524"><span class="id" title="binder">st</span></a> :<a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a>) (<a id="m:525" class="idref" href="#m:525"><span class="id" title="binder">m</span></a> :<a class="idref" href="SpecCT.html#mem"><span class="id" title="definition">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="st':526" class="idref" href="#st':526"><span class="id" title="binder">st'</span></a> :<a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a>) (<a id="m':527" class="idref" href="#m':527"><span class="id" title="binder">m'</span></a> :<a class="idref" href="SpecCT.html#mem"><span class="id" title="definition">mem</span></a>) (<a id="os:528" class="idref" href="#os:528"><span class="id" title="binder">os</span></a> :<a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="ds:529" class="idref" href="#ds:529"><span class="id" title="binder">ds</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="d:530" class="idref" href="#d:530"><span class="id" title="binder">d</span></a>, <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="SpecCT.html#d:530"><span class="id" title="variable">d</span></a> <a class="idref" href="SpecCT.html#ds:529"><span class="id" title="variable">ds</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#d:530"><span class="id" title="variable">d</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:524"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:525"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:529"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:523"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':526"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':527"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:528"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a>.<br/><hr class='doublespaceincode'/>
<span class="comment">(*&nbsp;We&nbsp;prove&nbsp;that&nbsp;this&nbsp;new&nbsp;definition&nbsp;for&nbsp;sequential&nbsp;execution&nbsp;is&nbsp;equivalent&nbsp;to<br/>
&nbsp;&nbsp;&nbsp;the&nbsp;old&nbsp;one,&nbsp;i.e.&nbsp;<span class="inlinecode"><span class="id" title="var">cteval</span></span>.&nbsp;&nbsp;*)</span><br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="cteval_equiv_seq_spec_eval" class="idref" href="#cteval_equiv_seq_spec_eval"><span class="id" title="lemma">cteval_equiv_seq_spec_eval</span></a> : <span class="id" title="keyword">∀</span> <a id="c:531" class="idref" href="#c:531"><span class="id" title="binder">c</span></a> <a id="st:532" class="idref" href="#st:532"><span class="id" title="binder">st</span></a> <a id="m:533" class="idref" href="#m:533"><span class="id" title="binder">m</span></a> <a id="st':534" class="idref" href="#st':534"><span class="id" title="binder">st'</span></a> <a id="m':535" class="idref" href="#m':535"><span class="id" title="binder">m'</span></a> <a id="os:536" class="idref" href="#os:536"><span class="id" title="binder">os</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#seq_spec_eval"><span class="id" title="definition">seq_spec_eval</span></a> <a class="idref" href="SpecCT.html#c:531"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#st:532"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#m:533"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#st':534"><span class="id" title="variable">st'</span></a> <a class="idref" href="SpecCT.html#m':535"><span class="id" title="variable">m'</span></a> <a class="idref" href="SpecCT.html#os:536"><span class="id" title="variable">os</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:532"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:533"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:531"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':534"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':535"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:536"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#5fa47eea02f04b19747c38c6e11199c<sub>7</sub>"><span class="id" title="notation">)&gt;</span></a>.<br/>
<div class="togglescript" id="proofcontrol12" onclick="toggleDisplay('proof12');toggleDisplay('proofcontrol12')"><span class="show"></span></div>
<div class="proofscript" id="proof12" onclick="toggleDisplay('proof12');toggleDisplay('proofcontrol12')">
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">st</span> <span class="id" title="var">m</span> <span class="id" title="var">st'</span> <span class="id" title="var">m'</span> <span class="id" title="var">os</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#seq_spec_eval"><span class="id" title="definition">seq_spec_eval</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ds</span> [<span class="id" title="var">Hstep</span> <span class="id" title="var">Heval</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Spec_Seq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CTE_Seq"><span class="id" title="constructor">CTE_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span>: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">d</span> <span class="id" title="var">ds<sub>1</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">d</span> <span class="id" title="var">ds<sub>2</sub></span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">left</span>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#in_or_app"><span class="id" title="lemma">in_or_app</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hstep</span> <span class="id" title="keyword">in</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval2</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span>: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">d</span> <span class="id" title="var">ds<sub>1</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">d</span> <span class="id" title="var">ds<sub>2</sub></span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">right</span>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#in_or_app"><span class="id" title="lemma">in_or_app</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hstep</span> <span class="id" title="keyword">in</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Spec_If&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#CTE_If"><span class="id" title="constructor">CTE_If</span></a>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> <span class="id" title="var">d</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">HdIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hstep</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HdIn</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#in_cons"><span class="id" title="lemma">in_cons</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> <span class="id" title="var">d</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">HdIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hstep</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HdIn</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Spec_IF_F;&nbsp;contra&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span>: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hstep</span> <a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a>). <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Spec_ALoad_U;&nbsp;contra&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span>: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="SpecCT.html#DLoad"><span class="id" title="constructor">DLoad</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">i'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hstep</span> (<a class="idref" href="SpecCT.html#DLoad"><span class="id" title="constructor">DLoad</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">i'</span>)). <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Spec_AStore_U;&nbsp;contra&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span>: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="SpecCT.html#DStore"><span class="id" title="constructor">DStore</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">i'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">L</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">Hstep</span> (<a class="idref" href="SpecCT.html#DStore"><span class="id" title="constructor">DStore</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">i'</span>)). <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#in_eq"><span class="id" title="lemma">in_eq</span></a>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;&lt;-&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;CTE_Skip&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Skip"><span class="id" title="constructor">Spec_Skip</span></a>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">Contra</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;CTE_Asgn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Asgn"><span class="id" title="constructor">Spec_Asgn</span></a>; <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">Contra</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;CTE_Seq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHcteval1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ds<sub>1</sub></span> [<span class="id" title="var">Hds1</span> <span class="id" title="var">Heval1</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHcteval2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ds<sub>2</sub></span> [<span class="id" title="var">Hds2</span> <span class="id" title="var">Heval2</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">ds<sub>1</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <span class="id" title="var">ds<sub>2</sub></span>). <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a>; <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#in_app_or"><span class="id" title="lemma">in_app_or</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HdIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HdIn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hin1</span> | <span class="id" title="var">Hin2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">Hds1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hin1</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">Hds2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hin2</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;CTE_If&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHcteval</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ds</span> [<span class="id" title="var">Hds</span> <span class="id" title="var">Heval</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">ds</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#in_inv"><span class="id" title="lemma">in_inv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HdIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HdIn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">HIn</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">assumption</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hds</span>; <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_If"><span class="id" title="constructor">Spec_If</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;CTE_While&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHcteval</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ds</span> [<span class="id" title="var">Hds</span> <span class="id" title="var">Heval</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">ds</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">assumption</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_While"><span class="id" title="constructor">Spec_While</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;CTE_ALoad&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HdIn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Contra</span>]; [| <span class="id" title="tactic">destruct</span> <span class="id" title="var">Contra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_ALoad"><span class="id" title="constructor">Spec_ALoad</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;CTE_AStore&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">d</span> <span class="id" title="var">HdIn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HdIn</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Contra</span>]; [| <span class="id" title="tactic">destruct</span> <span class="id" title="var">Contra</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_AStore"><span class="id" title="constructor">Spec_AStore</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
<a id="lab93"></a><h4 class="section">Exercise: 1 star, standard (ct_well_typed_seq_spec_eval_ct_secure)</h4>

</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="ct_well_typed_seq_spec_eval_ct_secure" class="idref" href="#ct_well_typed_seq_spec_eval_ct_secure"><span class="id" title="lemma">ct_well_typed_seq_spec_eval_ct_secure</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:537" class="idref" href="#P:537"><span class="id" title="binder">P</span></a> <a id="PA:538" class="idref" href="#PA:538"><span class="id" title="binder">PA</span></a> <a id="c:539" class="idref" href="#c:539"><span class="id" title="binder">c</span></a> <a id="st<sub>1</sub>:540" class="idref" href="#st<sub>1</sub>:540"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:541" class="idref" href="#st<sub>2</sub>:541"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="m<sub>1</sub>:542" class="idref" href="#m<sub>1</sub>:542"><span class="id" title="binder">m<sub>1</sub></span></a> <a id="m<sub>2</sub>:543" class="idref" href="#m<sub>2</sub>:543"><span class="id" title="binder">m<sub>2</sub></span></a> <a id="st<sub>1</sub>':544" class="idref" href="#st<sub>1</sub>':544"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':545" class="idref" href="#st<sub>2</sub>':545"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="m<sub>1</sub>':546" class="idref" href="#m<sub>1</sub>':546"><span class="id" title="binder">m<sub>1</sub>'</span></a> <a id="m<sub>2</sub>':547" class="idref" href="#m<sub>2</sub>':547"><span class="id" title="binder">m<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:548" class="idref" href="#os<sub>1</sub>:548"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:549" class="idref" href="#os<sub>2</sub>:549"><span class="id" title="binder">os<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:537"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:538"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:539"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:537"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:540"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:541"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:538"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:542"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:543"><span class="id" title="variable">m<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#seq_spec_eval"><span class="id" title="definition">seq_spec_eval</span></a> <a class="idref" href="SpecCT.html#c:539"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:540"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:542"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>':544"><span class="id" title="variable">st<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>':546"><span class="id" title="variable">m<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:548"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#seq_spec_eval"><span class="id" title="definition">seq_spec_eval</span></a> <a class="idref" href="SpecCT.html#c:539"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:541"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:543"><span class="id" title="variable">m<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>':545"><span class="id" title="variable">st<sub>2</sub>'</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>':547"><span class="id" title="variable">m<sub>2</sub>'</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:549"><span class="id" title="variable">os<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#os<sub>1</sub>:548"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:549"><span class="id" title="variable">os<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FILL&nbsp;IN&nbsp;HERE&nbsp;*)</span> <span class="id" title="var">Admitted</span>.<br/>
<font size=-2>&#9744;</font>
</div>

<div class="doc"> 
<div class="paragraph"> </div>

<a id="lab94"></a><h2 class="section">Selective SLH transformation</h2>

<div class="paragraph"> </div>

 Now how can we make CCT programs secure against speculative execution
    attacks? It turns out that we can protect such programs against Spectre v<sub>1</sub>
    by doing only two things:
<ul class="doclist">
<li> Keep track of a misspeculation flag using constant-time conditionals;

</li>
<li> Use this flag to mask the value of misspeculated public loads.

</li>
</ul>

<div class="paragraph"> </div>

    We implement this as a <i>Selective Speculative Load Hardening</i> (SLH)
    transformation that we will show enforces speculative constant-time security
    for all CCT programs.

<div class="paragraph"> </div>

    This SLH transformation is "selective", since it only masks <i>public</i> loads.
    A non-selective SLH transformation was invented in LLVM, but what they
    implement is anyway much more complicated. 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="msf" class="idref" href="#msf"><span class="id" title="definition">msf</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a> := "msf".<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a id="sel_slh" class="idref" href="#sel_slh"><span class="id" title="definition">sel_slh</span></a> (<a id="P:550" class="idref" href="#P:550"><span class="id" title="binder">P</span></a>:<a class="idref" href="SpecCT.html#pub_vars"><span class="id" title="definition">pub_vars</span></a>) (<a id="c:551" class="idref" href="#c:551"><span class="id" title="binder">c</span></a>:<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#c:551"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">e</span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">e</span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">c<sub>1</sub></span><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#sel_slh:552"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:550"><span class="id" title="variable">P</span></a> <span class="id" title="var">c<sub>1</sub></span><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#sel_slh:552"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:550"><span class="id" title="variable">P</span></a> <span class="id" title="var">c<sub>2</sub></span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> 1<a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#sel_slh:552"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:550"><span class="id" title="variable">P</span></a> <span class="id" title="var">c<sub>1</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> 1 <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a><a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#sel_slh:552"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:550"><span class="id" title="variable">P</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> 1<a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#sel_slh:552"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:550"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c:551"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> 1 <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a><a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">a</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><span class="id" title="var">i</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#P:550"><span class="id" title="variable">P</span></a> <span class="id" title="var">x</span> <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">a</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><span class="id" title="var">i</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#:com::x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> 0<a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> 0 <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> <span class="id" title="var">x</span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">a</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><span class="id" title="var">i</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">a</span><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><span class="id" title="var">i</span><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">e</span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">a</span><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><span class="id" title="var">i</span><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">e</span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Print</span> <span class="id" title="var">spec_insecure_prog</span>.<br/>
<span class="comment">(*&nbsp;&lt;<span style='letter-spacing:-.4em;'>{</span>{&nbsp;if&nbsp;Y&nbsp;&lt;&nbsp;3&nbsp;then<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X&nbsp;&lt;-&nbsp;AP&nbsp;<span class="inlinecode">[<span class="id" title="var">Y</span>]</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;X&nbsp;&lt;=&nbsp;5&nbsp;then&nbsp;X&nbsp;:=&nbsp;5&nbsp;else&nbsp;skip&nbsp;end<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;skip&nbsp;end&nbsp;<span style='letter-spacing:-.4em;'>}</span>}&gt;&nbsp;*)</span><br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="sel_slh_spec_insecure_prog" class="idref" href="#sel_slh_spec_insecure_prog"><span class="id" title="definition">sel_slh_spec_insecure_prog</span></a> :=<br/>
<a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="SpecCT.html#:com::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 3 <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">((</span></a><a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="SpecCT.html#:com::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 3<a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> 1<a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#:com::x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> 0<a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> 0 <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a><a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> 5 <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">((</span></a><a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> 5<a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> 1<a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> 5<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">((</span></a><a class="idref" href="SpecCT.html#X"><span class="id" title="definition">X</span></a> <a class="idref" href="SpecCT.html#d43f15edd52d29ae8e0f90730a25ed5c"><span class="id" title="notation">≤</span></a> 5<a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> 1 <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a><a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">((</span></a><a class="idref" href="SpecCT.html#Y"><span class="id" title="definition">Y</span></a> <a class="idref" href="SpecCT.html#:com::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 3<a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> 1 <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a><a class="idref" href="SpecCT.html#5a96623d056c293ebbcdf03005796e<sub>09</sub>"><span class="id" title="notation">)</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="sel_slh_spec_insecure_prog_check" class="idref" href="#sel_slh_spec_insecure_prog_check"><span class="id" title="lemma">sel_slh_spec_insecure_prog_check</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#XYZpub"><span class="id" title="definition">XYZpub</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog"><span class="id" title="definition">spec_insecure_prog</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#sel_slh_spec_insecure_prog"><span class="id" title="definition">sel_slh_spec_insecure_prog</span></a>.<br/>
<div class="togglescript" id="proofcontrol13" onclick="toggleDisplay('proof13');toggleDisplay('proofcontrol13')"><span class="show"></span></div>
<div class="proofscript" id="proof13" onclick="toggleDisplay('proof13');toggleDisplay('proofcontrol13')">
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
When misspeculation occurs in the first condition <span class="inlinecode"><span class="id" title="keyword">if</span></span> <span class="inlinecode"><span class="id" title="var">Z</span></span> <span class="inlinecode">&lt;</span> <span class="inlinecode">1</span>, the
    transformation detects this misspeculation and sets <span class="inlinecode"><span class="id" title="var">msf</span></span> (misspeculation
    flag) to <span class="inlinecode">1</span>.  Then, although the secret value gets loaded into X via the
    out-of-bounds access <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">&lt;-</span> <span class="inlinecode"><span class="id" title="var">AP</span>[[<span class="id" title="var">Z</span>]]</span>, it is immediatly overwritten with 0 due
    to the masking code <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">:=</span> <span class="inlinecode">(<span class="id" title="var">msf</span></span> <span class="inlinecode">≠</span> <span class="inlinecode">0)</span> <span class="inlinecode">?</span> <span class="inlinecode">0</span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">X</span></span> that follows. As a result, all
    subsequent operations like <span class="inlinecode"><span class="id" title="keyword">if</span></span> <span class="inlinecode"><span class="id" title="var">X</span></span> <span class="inlinecode">≤</span> <span class="inlinecode">5</span> only uses the masked value <span class="inlinecode">0</span>
    instead of the actual secret. 
<div class="paragraph"> </div>

<a id="lab95"></a><h2 class="section">Main proof idea: use compiler correctness wrt ideal semantics</h2>

<div class="paragraph"> </div>

 To prove this transformation secure, Spectre Declassified uses an ideal
    semantics, capturing selective speculative load hardening more abstractly.
    The proof effort is decomposed into:
<ul class="doclist">
<li> a speculative constant-time proof for the ideal semantics;

</li>
<li> a compiler correctness proof for the <span class="inlinecode"><span class="id" title="var">sel_slh</span></span> transformation, taking source
      programs which are executed using the ideal semantics, to target programs
      executed using the speculative semantics.

</li>
</ul>
 
<div class="paragraph"> </div>

 In a little bit more detail, we're intuitively trying to prove:
<pre>
forall P PA c, P;;PA &#x22A2;ct- c <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> spec_ct_secure P PA (sel_slh P c),
</pre>
    where the conclusion looks as follows:
<pre>
forall st<sub>1</sub> st<sub>2</sub> m<sub>1</sub> m<sub>2</sub> st<sub>1</sub>' st<sub>2</sub>' m<sub>1</sub>' m<sub>2</sub>' b<sub>1</sub>' b<sub>2</sub>' os<sub>1</sub> os<sub>2</sub> ds,
  pub_equiv P st<sub>1</sub> st<sub>2</sub> <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>
  pub_equiv PA m<sub>1</sub> m<sub>2</sub> <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>
  &lt;(st<sub>1</sub>,m<sub>1</sub>,false,ds)&gt; =[ sel_slh P c ]=&gt; &lt;(st<sub>1</sub>',m<sub>1</sub>',b<sub>1</sub>',os<sub>1</sub>)&gt; <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>
  &lt;(st<sub>2</sub>,m<sub>2</sub>,false,ds)&gt; =[ sel_slh P c ]=&gt; &lt;(st<sub>2</sub>',m<sub>2</sub>',b<sub>2</sub>',os<sub>2</sub>)&gt; <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>
  os<sub>1</sub> = os<sub>2</sub>
</pre>

<div class="paragraph"> </div>

    Compiler correctness allows us to get rid of <span class="inlinecode"><span class="id" title="var">sel_slh</span></span> <span class="inlinecode"><span class="id" title="var">P</span></span> <span class="inlinecode"><span class="id" title="var">c</span></span> in the premises
    and instead get an execution in terms of the ideal semantics:
<pre>
  &lt;(st,m,b,ds)&gt; =[ sel_slh P c ]=&gt; &lt;(st',m',b',os)&gt; <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>
    P &#x22A2;i &lt;(st,m,b,ds)&gt; =[ c ]=&gt; &lt;(msf!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>st msf;st',m',b',os)&gt;
</pre>

<div class="paragraph"> </div>

 One thing to note is that the ideal semantics doesn't track misspeculation
    in the <span class="inlinecode"><span class="id" title="var">msf</span></span> variable, but instead directly uses the misspeculation bit in
    the speculative semantics for masking. This allows us to keep the ideal
    semantics simple, and then we show that <span class="inlinecode"><span class="id" title="var">msf</span></span> correctly tracks misspeculation
    in our compiler correctness proof . 
<div class="paragraph"> </div>

<a id="lab96"></a><h2 class="section">Ideal semantics definition</h2>

<div class="paragraph"> </div>

 All rules of the ideal semantics are the same as for the speculative
    semantics, except the ones for array loads, which add the extra
    masking done by <span class="inlinecode"><span class="id" title="var">sel_slh</span></span> on top of the speculative semantics.
<center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">eval st ie = i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i < length(m a)</td>
  <td class="infrulenamecol" rowspan="3">
    (Ideal_ALoad) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">let v := if b && P x then 0 else nth i (m a) 0 in</td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2;i <(st, m, b, [DStep])> =[ x <- a[[ie]] ]=></td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(x !<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> v; st, m, b, [OALoad a i])></td>
  <td></td>
</tr>
</table></center><center><table class="infrule">
<tr class="infruleassumption">
  <td class="infrule">eval st ie = i&nbsp;&nbsp;&nbsp;i >= length(m a)&nbsp;&nbsp;&nbsp;i' < length(m a')</td>
  <td class="infrulenamecol" rowspan="3">
    (Ideal_ALoad_U) &nbsp;
  </td></tr>
<tr class="infrulemiddle">
  <td class="infrule"><hr /></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">let v := if P x then 0 else nth i' (m a') 0 in</td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule">P &#x22A2;i <(st, m, true, [DLoad a' i'])> =[ x <- a[[ie]] ]=></td>
  <td></td>
</tr>
<tr class="infruleassumption">
  <td class="infrule"><(x !<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span> v; st, m, true, [OALoad a i])></td>
  <td></td>
</tr>
</table></center>
</div>
<div class="code">

<span class="id" title="keyword">Reserved Notation</span><br/>
&nbsp;&nbsp;"P '&#x22A2;i' '&lt;(' st , m , b , ds ')&gt;' '=[' c ']=&gt;' '&lt;(' stt , mt , bb , os ')&gt;'"<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">c</span> <span class="id" title="var">custom</span> <span class="id" title="var">com</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 99,<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">st</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">m</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">stt</span> <span class="id" title="keyword">constr</span>, <span class="id" title="var">mt</span> <span class="id" title="keyword">constr</span> <span class="id" title="tactic">at</span> <span class="id" title="var">next</span> <span class="id" title="keyword">level</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="ideal_eval" class="idref" href="#ideal_eval"><span class="id" title="definition, inductive"><span id="ideal_eval_ind" class="id"><span id="ideal_eval_sind" class="id">ideal_eval</span></span></span></a> (<a id="P:554" class="idref" href="#P:554"><span class="id" title="binder">P</span></a>:<a class="idref" href="SpecCT.html#pub_vars"><span class="id" title="definition">pub_vars</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a id="Ideal_Skip" class="idref" href="#Ideal_Skip"><span class="id" title="constructor">Ideal_Skip</span></a> : <span class="id" title="keyword">∀</span> <a id="st:557" class="idref" href="#st:557"><span class="id" title="binder">st</span></a> <a id="m:558" class="idref" href="#m:558"><span class="id" title="binder">m</span></a> <a id="b:559" class="idref" href="#b:559"><span class="id" title="binder">b</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:557"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:558"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:559"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:557"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:558"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:559"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_Asgn" class="idref" href="#Ideal_Asgn"><span class="id" title="constructor">Ideal_Asgn</span></a>  : <span class="id" title="keyword">∀</span> <a id="st:560" class="idref" href="#st:560"><span class="id" title="binder">st</span></a> <a id="m:561" class="idref" href="#m:561"><span class="id" title="binder">m</span></a> <a id="b:562" class="idref" href="#b:562"><span class="id" title="binder">b</span></a> <a id="e:563" class="idref" href="#e:563"><span class="id" title="binder">e</span></a> <a id="n:564" class="idref" href="#n:564"><span class="id" title="binder">n</span></a> <a id="x:565" class="idref" href="#x:565"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:560"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:563"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:564"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:560"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:561"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:562"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:565"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <a class="idref" href="SpecCT.html#e:563"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:565"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:564"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:560"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:561"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:562"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_Seq" class="idref" href="#Ideal_Seq"><span class="id" title="constructor">Ideal_Seq</span></a> : <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:566" class="idref" href="#c<sub>1</sub>:566"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:567" class="idref" href="#c<sub>2</sub>:567"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="st:568" class="idref" href="#st:568"><span class="id" title="binder">st</span></a> <a id="m:569" class="idref" href="#m:569"><span class="id" title="binder">m</span></a> <a id="b:570" class="idref" href="#b:570"><span class="id" title="binder">b</span></a> <a id="st':571" class="idref" href="#st':571"><span class="id" title="binder">st'</span></a> <a id="m':572" class="idref" href="#m':572"><span class="id" title="binder">m'</span></a> <a id="b':573" class="idref" href="#b':573"><span class="id" title="binder">b'</span></a> <a id="st'':574" class="idref" href="#st'':574"><span class="id" title="binder">st''</span></a> <a id="m'':575" class="idref" href="#m'':575"><span class="id" title="binder">m''</span></a> <a id="b'':576" class="idref" href="#b'':576"><span class="id" title="binder">b''</span></a> <a id="os<sub>1</sub>:577" class="idref" href="#os<sub>1</sub>:577"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:578" class="idref" href="#os<sub>2</sub>:578"><span class="id" title="binder">os<sub>2</sub></span></a> <a id="ds<sub>1</sub>:579" class="idref" href="#ds<sub>1</sub>:579"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="ds<sub>2</sub>:580" class="idref" href="#ds<sub>2</sub>:580"><span class="id" title="binder">ds<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:568"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:569"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:570"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:579"><span class="id" title="variable">ds<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:566"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':571"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':572"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':573"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:577"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a>  <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':571"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':572"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':573"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:580"><span class="id" title="variable">ds<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:567"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st'':574"><span class="id" title="variable">st''</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m'':575"><span class="id" title="variable">m''</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b'':576"><span class="id" title="variable">b''</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:578"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:568"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:569"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:570"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:579"><span class="id" title="variable">ds<sub>1</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="SpecCT.html#ds<sub>2</sub>:580"><span class="id" title="variable">ds<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a>  <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:566"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:567"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st'':574"><span class="id" title="variable">st''</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m'':575"><span class="id" title="variable">m''</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b'':576"><span class="id" title="variable">b''</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:577"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="SpecCT.html#os<sub>2</sub>:578"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_If" class="idref" href="#Ideal_If"><span class="id" title="constructor">Ideal_If</span></a> : <span class="id" title="keyword">∀</span> <a id="st:581" class="idref" href="#st:581"><span class="id" title="binder">st</span></a> <a id="m:582" class="idref" href="#m:582"><span class="id" title="binder">m</span></a> <a id="b:583" class="idref" href="#b:583"><span class="id" title="binder">b</span></a> <a id="st':584" class="idref" href="#st':584"><span class="id" title="binder">st'</span></a> <a id="m':585" class="idref" href="#m':585"><span class="id" title="binder">m'</span></a> <a id="b':586" class="idref" href="#b':586"><span class="id" title="binder">b'</span></a> <a id="be:587" class="idref" href="#be:587"><span class="id" title="binder">be</span></a> <a id="c<sub>1</sub>:588" class="idref" href="#c<sub>1</sub>:588"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:589" class="idref" href="#c<sub>2</sub>:589"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="os<sub>1</sub>:590" class="idref" href="#os<sub>1</sub>:590"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="ds:591" class="idref" href="#ds:591"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c:592" class="idref" href="#c:592"><span class="id" title="binder">c</span></a> := (<span class="id" title="keyword">if</span> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:581"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:587"><span class="id" title="variable">be</span></a>)) <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#c<sub>1</sub>:588"><span class="id" title="variable">c<sub>1</sub></span></a> <span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#c<sub>2</sub>:589"><span class="id" title="variable">c<sub>2</sub></span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:581"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:582"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:583"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:591"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:592"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':584"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':585"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':586"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:590"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:581"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:582"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:583"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#ds:591"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#be:587"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:588"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:589"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':584"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':585"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':586"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:581"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:587"><span class="id" title="variable">be</span></a>))<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:590"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_If_F" class="idref" href="#Ideal_If_F"><span class="id" title="constructor">Ideal_If_F</span></a> : <span class="id" title="keyword">∀</span> <a id="st:593" class="idref" href="#st:593"><span class="id" title="binder">st</span></a> <a id="m:594" class="idref" href="#m:594"><span class="id" title="binder">m</span></a> <a id="b:595" class="idref" href="#b:595"><span class="id" title="binder">b</span></a> <a id="st':596" class="idref" href="#st':596"><span class="id" title="binder">st'</span></a> <a id="m':597" class="idref" href="#m':597"><span class="id" title="binder">m'</span></a> <a id="b':598" class="idref" href="#b':598"><span class="id" title="binder">b'</span></a> <a id="be:599" class="idref" href="#be:599"><span class="id" title="binder">be</span></a> <a id="c<sub>1</sub>:600" class="idref" href="#c<sub>1</sub>:600"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="c<sub>2</sub>:601" class="idref" href="#c<sub>2</sub>:601"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="os<sub>1</sub>:602" class="idref" href="#os<sub>1</sub>:602"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="ds:603" class="idref" href="#ds:603"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="c:604" class="idref" href="#c:604"><span class="id" title="binder">c</span></a> := (<span class="id" title="keyword">if</span> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:593"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:599"><span class="id" title="variable">be</span></a>)) <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#c<sub>2</sub>:601"><span class="id" title="variable">c<sub>2</sub></span></a> <span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#c<sub>1</sub>:600"><span class="id" title="variable">c<sub>1</sub></span></a>) <span class="id" title="keyword">in</span> <span class="comment">(*&nbsp;&lt;--&nbsp;branches&nbsp;swapped&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:593"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:594"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:603"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:604"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':596"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':597"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':598"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:602"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:593"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:594"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:595"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#ds:603"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#be:599"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:600"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:601"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':596"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':597"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':598"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:593"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#be:599"><span class="id" title="variable">be</span></a>))<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:602"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_While" class="idref" href="#Ideal_While"><span class="id" title="constructor">Ideal_While</span></a> : <span class="id" title="keyword">∀</span> <a id="be:605" class="idref" href="#be:605"><span class="id" title="binder">be</span></a> <a id="st:606" class="idref" href="#st:606"><span class="id" title="binder">st</span></a> <a id="m:607" class="idref" href="#m:607"><span class="id" title="binder">m</span></a> <a id="b:608" class="idref" href="#b:608"><span class="id" title="binder">b</span></a> <a id="ds:609" class="idref" href="#ds:609"><span class="id" title="binder">ds</span></a> <a id="st':610" class="idref" href="#st':610"><span class="id" title="binder">st'</span></a> <a id="m':611" class="idref" href="#m':611"><span class="id" title="binder">m'</span></a> <a id="b':612" class="idref" href="#b':612"><span class="id" title="binder">b'</span></a> <a id="os:613" class="idref" href="#os:613"><span class="id" title="binder">os</span></a> <a id="c:614" class="idref" href="#c:614"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:606"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:607"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:608"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:609"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <a class="idref" href="SpecCT.html#be:605"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c:614"><span class="id" title="variable">c</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#be:605"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c:614"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':610"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':611"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':612"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:613"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:606"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:607"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:608"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:609"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <a class="idref" href="SpecCT.html#be:605"><span class="id" title="variable">be</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c:614"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':610"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':611"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':612"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:613"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_ALoad" class="idref" href="#Ideal_ALoad"><span class="id" title="constructor">Ideal_ALoad</span></a> : <span class="id" title="keyword">∀</span> <a id="st:615" class="idref" href="#st:615"><span class="id" title="binder">st</span></a> <a id="m:616" class="idref" href="#m:616"><span class="id" title="binder">m</span></a> <a id="b:617" class="idref" href="#b:617"><span class="id" title="binder">b</span></a> <a id="x:618" class="idref" href="#x:618"><span class="id" title="binder">x</span></a> <a id="a:619" class="idref" href="#a:619"><span class="id" title="binder">a</span></a> <a id="ie:620" class="idref" href="#ie:620"><span class="id" title="binder">ie</span></a> <a id="i:621" class="idref" href="#i:621"><span class="id" title="binder">i</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:615"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:620"><span class="id" title="variable">ie</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:621"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:621"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#m:616"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:619"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="v:622" class="idref" href="#v:622"><span class="id" title="binder">v</span></a> := <span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#b:617"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#x:618"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">then</span> 0 <span class="id" title="keyword">else</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="SpecCT.html#i:621"><span class="id" title="variable">i</span></a> (<a class="idref" href="SpecCT.html#m:616"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:619"><span class="id" title="variable">a</span></a>) 0 <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:615"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:616"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:617"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:618"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#a:619"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#ie:620"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:618"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#v:622"><span class="id" title="variable">v</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:615"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:616"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:617"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OALoad"><span class="id" title="constructor">OALoad</span></a> <a class="idref" href="SpecCT.html#a:619"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:621"><span class="id" title="variable">i</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_ALoad_U" class="idref" href="#Ideal_ALoad_U"><span class="id" title="constructor">Ideal_ALoad_U</span></a> : <span class="id" title="keyword">∀</span> <a id="st:623" class="idref" href="#st:623"><span class="id" title="binder">st</span></a> <a id="m:624" class="idref" href="#m:624"><span class="id" title="binder">m</span></a> <a id="x:625" class="idref" href="#x:625"><span class="id" title="binder">x</span></a> <a id="a:626" class="idref" href="#a:626"><span class="id" title="binder">a</span></a> <a id="ie:627" class="idref" href="#ie:627"><span class="id" title="binder">ie</span></a> <a id="i:628" class="idref" href="#i:628"><span class="id" title="binder">i</span></a> <a id="a':629" class="idref" href="#a':629"><span class="id" title="binder">a'</span></a> <a id="i':630" class="idref" href="#i':630"><span class="id" title="binder">i'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:623"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:627"><span class="id" title="variable">ie</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:628"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:628"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f<sub>9</sub>"><span class="id" title="notation">≥</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#m:624"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:626"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i':630"><span class="id" title="variable">i'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#m:624"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a':629"><span class="id" title="variable">a'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="v:631" class="idref" href="#v:631"><span class="id" title="binder">v</span></a> := <span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#x:625"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">then</span> 0 <span class="id" title="keyword">else</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="SpecCT.html#i':630"><span class="id" title="variable">i'</span></a> (<a class="idref" href="SpecCT.html#m:624"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a':629"><span class="id" title="variable">a'</span></a>) 0 <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:623"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:624"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DLoad"><span class="id" title="constructor">DLoad</span></a> <a class="idref" href="SpecCT.html#a':629"><span class="id" title="variable">a'</span></a> <a class="idref" href="SpecCT.html#i':630"><span class="id" title="variable">i'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#x:625"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#a:626"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><a class="idref" href="SpecCT.html#ie:627"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#x:625"><span class="id" title="variable">x</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#v:631"><span class="id" title="variable">v</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:623"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:624"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OALoad"><span class="id" title="constructor">OALoad</span></a> <a class="idref" href="SpecCT.html#a:626"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:628"><span class="id" title="variable">i</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_AStore" class="idref" href="#Ideal_AStore"><span class="id" title="constructor">Ideal_AStore</span></a> : <span class="id" title="keyword">∀</span> <a id="st:632" class="idref" href="#st:632"><span class="id" title="binder">st</span></a> <a id="m:633" class="idref" href="#m:633"><span class="id" title="binder">m</span></a> <a id="b:634" class="idref" href="#b:634"><span class="id" title="binder">b</span></a> <a id="a:635" class="idref" href="#a:635"><span class="id" title="binder">a</span></a> <a id="ie:636" class="idref" href="#ie:636"><span class="id" title="binder">ie</span></a> <a id="i:637" class="idref" href="#i:637"><span class="id" title="binder">i</span></a> <a id="e:638" class="idref" href="#e:638"><span class="id" title="binder">e</span></a> <a id="n:639" class="idref" href="#n:639"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:632"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:638"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:639"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:632"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:636"><span class="id" title="variable">ie</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:637"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:637"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#m:633"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:635"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:632"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:633"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:634"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#a:635"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#ie:636"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#e:638"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:632"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a:635"><span class="id" title="variable">a</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#upd"><span class="id" title="definition">upd</span></a> <a class="idref" href="SpecCT.html#i:637"><span class="id" title="variable">i</span></a> (<a class="idref" href="SpecCT.html#m:633"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:635"><span class="id" title="variable">a</span></a>) <a class="idref" href="SpecCT.html#n:639"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#m:633"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:634"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OAStore"><span class="id" title="constructor">OAStore</span></a> <a class="idref" href="SpecCT.html#a:635"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:637"><span class="id" title="variable">i</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;| <a id="Ideal_AStore_U" class="idref" href="#Ideal_AStore_U"><span class="id" title="constructor">Ideal_AStore_U</span></a> : <span class="id" title="keyword">∀</span> <a id="st:640" class="idref" href="#st:640"><span class="id" title="binder">st</span></a> <a id="m:641" class="idref" href="#m:641"><span class="id" title="binder">m</span></a> <a id="a:642" class="idref" href="#a:642"><span class="id" title="binder">a</span></a> <a id="ie:643" class="idref" href="#ie:643"><span class="id" title="binder">ie</span></a> <a id="i:644" class="idref" href="#i:644"><span class="id" title="binder">i</span></a> <a id="e:645" class="idref" href="#e:645"><span class="id" title="binder">e</span></a> <a id="n:646" class="idref" href="#n:646"><span class="id" title="binder">n</span></a> <a id="a':647" class="idref" href="#a':647"><span class="id" title="binder">a'</span></a> <a id="i':648" class="idref" href="#i':648"><span class="id" title="binder">i'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:640"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#e:645"><span class="id" title="variable">e</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#n:646"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:640"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ie:643"><span class="id" title="variable">ie</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#i:644"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i:644"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#73030c22bc0b1fa771c65aa5414c65f<sub>9</sub>"><span class="id" title="notation">≥</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#m:641"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a:642"><span class="id" title="variable">a</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#i':648"><span class="id" title="variable">i'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<a class="idref" href="SpecCT.html#m:641"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a':647"><span class="id" title="variable">a'</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:554"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:640"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:641"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStore"><span class="id" title="constructor">DStore</span></a> <a class="idref" href="SpecCT.html#a':647"><span class="id" title="variable">a'</span></a> <a class="idref" href="SpecCT.html#i':648"><span class="id" title="variable">i'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#a:642"><span class="id" title="variable">a</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#ie:643"><span class="id" title="variable">ie</span></a><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="SpecCT.html#e:645"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:640"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#a':647"><span class="id" title="variable">a'</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#upd"><span class="id" title="definition">upd</span></a> <a class="idref" href="SpecCT.html#i':648"><span class="id" title="variable">i'</span></a> (<a class="idref" href="SpecCT.html#m:641"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#a':647"><span class="id" title="variable">a'</span></a>) <a class="idref" href="SpecCT.html#n:646"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#m:641"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OAStore"><span class="id" title="constructor">OAStore</span></a> <a class="idref" href="SpecCT.html#a:642"><span class="id" title="variable">a</span></a> <a class="idref" href="SpecCT.html#i:644"><span class="id" title="variable">i</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">where</span> <a id="073fddb2fdd829973cfdfcbecf64580e" class="idref" href="#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&quot;</span></a>P &#x22A2;i &lt;( st , m , b , ds )&gt; =[ c ]=&gt; &lt;( stt , mt , bb , os )&gt;" :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#ideal_eval:556"><span class="id" title="inductive">ideal_eval</span></a> <span class="id" title="var">P</span> <span class="id" title="var">c</span> <span class="id" title="var">st</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">stt</span> <span class="id" title="var">mt</span> <span class="id" title="var">bb</span> <span class="id" title="var">os</span>).<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="SpecCT.html#ideal_eval"><span class="id" title="inductive">ideal_eval</span></a> : <span class="id" title="var">core</span>.<br/>
</div>

<div class="doc">
<a id="lab97"></a><h2 class="section">Ideal semantics enforces speculative constant-time</h2>

<div class="paragraph"> </div>

 Let's now prove that the ideal semantics does enforce speculative
    constant-time.  As in the proofs we did before for constant-time and CF
    security, we rely on a proof of noninterference. For our ideal semantics
    this noninterference proof requires interesting generalization of the
    induction hypothesis (see <span class="inlinecode"><span class="id" title="var">ct_well_typed_ideal_noninterferent_general</span></span>). 
<div class="paragraph"> </div>

 Generalization 1: We need to also deal with executions ending with <span class="inlinecode"><span class="id" title="var">b</span>=<span class="id" title="var">true</span></span>,
    but in that case we cannot ensure that the array states are publicly
    equivalent, since our selective SLH does not mask misspeculated stores (for
    efficiency, since it's not needed for security). This requires to generalize
    the <span class="inlinecode"><span class="id" title="var">pub_equiv</span></span> <span class="inlinecode"><span class="id" title="var">PA</span></span> <span class="inlinecode"><span class="id" title="var">m<sub>1</sub></span></span> <span class="inlinecode"><span class="id" title="var">m<sub>2</sub></span></span> premise of our statements too. 
<div class="paragraph"> </div>

 Generalization 2: To show that the two executions run in lock-step the proof
    uses not only the CCT type system (not branching on secrets) but also the
    fact that the directions are the same, which we need to establish as an
    extra invariant though. 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="prefix" class="idref" href="#prefix"><span class="id" title="definition">prefix</span></a> {<a id="X:649" class="idref" href="#X:649"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="xs:650" class="idref" href="#xs:650"><span class="id" title="binder">xs</span></a> <a id="ys:651" class="idref" href="#ys:651"><span class="id" title="binder">ys</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:649"><span class="id" title="variable">X</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="zs:652" class="idref" href="#zs:652"><span class="id" title="binder">zs</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#xs:650"><span class="id" title="variable">xs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#zs:652"><span class="id" title="variable">zs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#ys:651"><span class="id" title="variable">ys</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_refl" class="idref" href="#prefix_refl"><span class="id" title="lemma">prefix_refl</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:653" class="idref" href="#X:653"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} {<a id="ds:654" class="idref" href="#ds:654"><span class="id" title="binder">ds</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:653"><span class="id" title="variable">X</span></a>},<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds:654"><span class="id" title="variable">ds</span></a> <a class="idref" href="SpecCT.html#ds:654"><span class="id" title="variable">ds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">ds</span>. <span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_nil" class="idref" href="#prefix_nil"><span class="id" title="lemma">prefix_nil</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:655" class="idref" href="#X:655"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="ds:656" class="idref" href="#ds:656"><span class="id" title="binder">ds</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:655"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="SpecCT.html#ds:656"><span class="id" title="variable">ds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">ds</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_heads_and_tails" class="idref" href="#prefix_heads_and_tails"><span class="id" title="lemma">prefix_heads_and_tails</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:657" class="idref" href="#X:657"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="h<sub>1</sub>:658" class="idref" href="#h<sub>1</sub>:658"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:659" class="idref" href="#h<sub>2</sub>:659"><span class="id" title="binder">h<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#X:657"><span class="id" title="variable">X</span></a>) (<a id="t<sub>1</sub>:660" class="idref" href="#t<sub>1</sub>:660"><span class="id" title="binder">t<sub>1</sub></span></a> <a id="t<sub>2</sub>:661" class="idref" href="#t<sub>2</sub>:661"><span class="id" title="binder">t<sub>2</sub></span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:657"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> (<a class="idref" href="SpecCT.html#h<sub>1</sub>:658"><span class="id" title="variable">h<sub>1</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="SpecCT.html#t<sub>1</sub>:660"><span class="id" title="variable">t<sub>1</sub></span></a>) (<a class="idref" href="SpecCT.html#h<sub>2</sub>:659"><span class="id" title="variable">h<sub>2</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="SpecCT.html#t<sub>2</sub>:661"><span class="id" title="variable">t<sub>2</sub></span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#h<sub>1</sub>:658"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#h<sub>2</sub>:659"><span class="id" title="variable">h<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#t<sub>1</sub>:660"><span class="id" title="variable">t<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#t<sub>2</sub>:661"><span class="id" title="variable">t<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="var">h<sub>2</sub></span> <span class="id" title="var">t<sub>1</sub></span> <span class="id" title="var">t<sub>2</sub></span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hpre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpre</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">zs</span> <span class="id" title="var">Hpre</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hpre</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hpre</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_heads" class="idref" href="#prefix_heads"><span class="id" title="lemma">prefix_heads</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:662" class="idref" href="#X:662"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="h<sub>1</sub>:663" class="idref" href="#h<sub>1</sub>:663"><span class="id" title="binder">h<sub>1</sub></span></a> <a id="h<sub>2</sub>:664" class="idref" href="#h<sub>2</sub>:664"><span class="id" title="binder">h<sub>2</sub></span></a> : <a class="idref" href="SpecCT.html#X:662"><span class="id" title="variable">X</span></a>) (<a id="t<sub>1</sub>:665" class="idref" href="#t<sub>1</sub>:665"><span class="id" title="binder">t<sub>1</sub></span></a> <a id="t<sub>2</sub>:666" class="idref" href="#t<sub>2</sub>:666"><span class="id" title="binder">t<sub>2</sub></span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:662"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> (<a class="idref" href="SpecCT.html#h<sub>1</sub>:663"><span class="id" title="variable">h<sub>1</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="SpecCT.html#t<sub>1</sub>:665"><span class="id" title="variable">t<sub>1</sub></span></a>) (<a class="idref" href="SpecCT.html#h<sub>2</sub>:664"><span class="id" title="variable">h<sub>2</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="SpecCT.html#t<sub>2</sub>:666"><span class="id" title="variable">t<sub>2</sub></span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#h<sub>1</sub>:663"><span class="id" title="variable">h<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#h<sub>2</sub>:664"><span class="id" title="variable">h<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="var">h<sub>2</sub></span> <span class="id" title="var">t<sub>1</sub></span> <span class="id" title="var">t<sub>2</sub></span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_heads_and_tails"><span class="id" title="lemma">prefix_heads_and_tails</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_or_heads" class="idref" href="#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:667" class="idref" href="#X:667"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="x:668" class="idref" href="#x:668"><span class="id" title="binder">x</span></a> <a id="y:669" class="idref" href="#y:669"><span class="id" title="binder">y</span></a> : <a class="idref" href="SpecCT.html#X:667"><span class="id" title="variable">X</span></a>) (<a id="xs:670" class="idref" href="#xs:670"><span class="id" title="binder">xs</span></a> <a id="ys:671" class="idref" href="#ys:671"><span class="id" title="binder">ys</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:667"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> (<a class="idref" href="SpecCT.html#x:668"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#xs:670"><span class="id" title="variable">xs</span></a>) (<a class="idref" href="SpecCT.html#y:669"><span class="id" title="variable">y</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#ys:671"><span class="id" title="variable">ys</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> (<a class="idref" href="SpecCT.html#y:669"><span class="id" title="variable">y</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#ys:671"><span class="id" title="variable">ys</span></a>) (<a class="idref" href="SpecCT.html#x:668"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="SpecCT.html#xs:670"><span class="id" title="variable">xs</span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#x:668"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#y:669"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">xs</span> <span class="id" title="var">ys</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> | <span class="id" title="var">H</span>]; <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_heads"><span class="id" title="lemma">prefix_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_cons" class="idref" href="#prefix_cons"><span class="id" title="lemma">prefix_cons</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:672" class="idref" href="#X:672"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} (<a id="d:673" class="idref" href="#d:673"><span class="id" title="binder">d</span></a> :<a class="idref" href="SpecCT.html#X:672"><span class="id" title="variable">X</span></a>) (<a id="ds<sub>1</sub>:674" class="idref" href="#ds<sub>1</sub>:674"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="ds<sub>2</sub>:675" class="idref" href="#ds<sub>2</sub>:675"><span class="id" title="binder">ds<sub>2</sub></span></a>: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:672"><span class="id" title="variable">X</span></a>),<br/>
&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:674"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:675"><span class="id" title="variable">ds<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> (<a class="idref" href="SpecCT.html#d:673"><span class="id" title="variable">d</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="SpecCT.html#ds<sub>1</sub>:674"><span class="id" title="variable">ds<sub>1</sub></span></a>) (<a class="idref" href="SpecCT.html#d:673"><span class="id" title="variable">d</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="SpecCT.html#ds<sub>2</sub>:675"><span class="id" title="variable">ds<sub>2</sub></span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">d</span> <span class="id" title="var">ds<sub>1</sub></span> <span class="id" title="var">ds<sub>2</sub></span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a>| ]; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_heads_and_tails"><span class="id" title="lemma">prefix_heads_and_tails</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">H</span>]. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_app" class="idref" href="#prefix_app"><span class="id" title="lemma">prefix_app</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:676" class="idref" href="#X:676"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} {<a id="ds<sub>1</sub>:677" class="idref" href="#ds<sub>1</sub>:677"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="ds<sub>2</sub>:678" class="idref" href="#ds<sub>2</sub>:678"><span class="id" title="binder">ds<sub>2</sub></span></a> <a id="ds<sub>0</sub>:679" class="idref" href="#ds<sub>0</sub>:679"><span class="id" title="binder">ds<sub>0</sub></span></a> <a id="ds<sub>3</sub>:680" class="idref" href="#ds<sub>3</sub>:680"><span class="id" title="binder">ds<sub>3</sub></span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:676"><span class="id" title="variable">X</span></a>},<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> (<a class="idref" href="SpecCT.html#ds<sub>1</sub>:677"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:678"><span class="id" title="variable">ds<sub>2</sub></span></a>) (<a class="idref" href="SpecCT.html#ds<sub>0</sub>:679"><span class="id" title="variable">ds<sub>0</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#ds<sub>3</sub>:680"><span class="id" title="variable">ds<sub>3</sub></span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:677"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>0</sub>:679"><span class="id" title="variable">ds<sub>0</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds<sub>0</sub>:679"><span class="id" title="variable">ds<sub>0</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:677"><span class="id" title="variable">ds<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">ds<sub>1</sub></span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">ds<sub>1</sub></span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">d<sub>1</sub></span> <span class="id" title="var">ds<sub>1</sub>'</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">ds<sub>2</sub></span> <span class="id" title="var">ds<sub>0</sub></span> <span class="id" title="var">ds<sub>3</sub></span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_nil"><span class="id" title="lemma">prefix_nil</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">ds<sub>0</sub></span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">d<sub>0</sub></span> <span class="id" title="var">ds<sub>0</sub>'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">D<sub>0</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_nil"><span class="id" title="lemma">prefix_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_heads_and_tails"><span class="id" title="lemma">prefix_heads_and_tails</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> <span class="id" title="var">Hpre</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hpre</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hpre</span>; [<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_cons"><span class="id" title="lemma">prefix_cons</span></a>; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="prefix_append_front" class="idref" href="#prefix_append_front"><span class="id" title="lemma">prefix_append_front</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:681" class="idref" href="#X:681"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} {<a id="ds<sub>1</sub>:682" class="idref" href="#ds<sub>1</sub>:682"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="ds<sub>2</sub>:683" class="idref" href="#ds<sub>2</sub>:683"><span class="id" title="binder">ds<sub>2</sub></span></a> <a id="ds<sub>3</sub>:684" class="idref" href="#ds<sub>3</sub>:684"><span class="id" title="binder">ds<sub>3</sub></span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:681"><span class="id" title="variable">X</span></a>},<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> (<a class="idref" href="SpecCT.html#ds<sub>1</sub>:682"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:683"><span class="id" title="variable">ds<sub>2</sub></span></a>) (<a class="idref" href="SpecCT.html#ds<sub>1</sub>:682"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#ds<sub>3</sub>:684"><span class="id" title="variable">ds<sub>3</sub></span></a>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:683"><span class="id" title="variable">ds<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>3</sub>:684"><span class="id" title="variable">ds<sub>3</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">ds<sub>1</sub></span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">ds<sub>1</sub></span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">d<sub>1</sub></span> <span class="id" title="var">ds<sub>1</sub>'</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">ds<sub>2</sub></span> <span class="id" title="var">ds<sub>3</sub></span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_cons"><span class="id" title="lemma">prefix_cons</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="app_eq_prefix" class="idref" href="#app_eq_prefix"><span class="id" title="lemma">app_eq_prefix</span></a> : <span class="id" title="keyword">∀</span> {<a id="X:685" class="idref" href="#X:685"><span class="id" title="binder">X</span></a>:<span class="id" title="keyword">Type</span>} {<a id="ds<sub>1</sub>:686" class="idref" href="#ds<sub>1</sub>:686"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="ds<sub>2</sub>:687" class="idref" href="#ds<sub>2</sub>:687"><span class="id" title="binder">ds<sub>2</sub></span></a> <a id="ds<sub>1</sub>':688" class="idref" href="#ds<sub>1</sub>':688"><span class="id" title="binder">ds<sub>1</sub>'</span></a> <a id="ds<sub>2</sub>':689" class="idref" href="#ds<sub>2</sub>':689"><span class="id" title="binder">ds<sub>2</sub>'</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="SpecCT.html#X:685"><span class="id" title="variable">X</span></a>},<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#ds<sub>1</sub>:686"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:687"><span class="id" title="variable">ds<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>':688"><span class="id" title="variable">ds<sub>1</sub>'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>':689"><span class="id" title="variable">ds<sub>2</sub>'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:686"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>':688"><span class="id" title="variable">ds<sub>1</sub>'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>':688"><span class="id" title="variable">ds<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:686"><span class="id" title="variable">ds<sub>1</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">ds<sub>1</sub></span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">ds<sub>1</sub></span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">h<sub>1</sub></span> <span class="id" title="var">t<sub>1</sub></span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">ds<sub>2</sub></span> <span class="id" title="var">ds<sub>1</sub>'</span> <span class="id" title="var">ds<sub>2</sub>'</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_nil"><span class="id" title="lemma">prefix_nil</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">ds<sub>1</sub>'</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">h<sub>1</sub>'</span> <span class="id" title="var">t<sub>1</sub>'</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">D<sub>1</sub>'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_nil"><span class="id" title="lemma">prefix_nil</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>2</sub></span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H<sub>2</sub></span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HL</span> | <span class="id" title="var">HR</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">left</span> | <span class="id" title="tactic">right</span>]; <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_cons"><span class="id" title="lemma">prefix_cons</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">split4</span> := <span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">split</span>] ].<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="ct_well_typed_ideal_noninterferent_general" class="idref" href="#ct_well_typed_ideal_noninterferent_general"><span class="id" title="lemma">ct_well_typed_ideal_noninterferent_general</span></a> : <span class="id" title="keyword">∀</span> <a id="P:690" class="idref" href="#P:690"><span class="id" title="binder">P</span></a> <a id="PA:691" class="idref" href="#PA:691"><span class="id" title="binder">PA</span></a> <a id="c:692" class="idref" href="#c:692"><span class="id" title="binder">c</span></a>,<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="st<sub>1</sub>:693" class="idref" href="#st<sub>1</sub>:693"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:694" class="idref" href="#st<sub>2</sub>:694"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="m<sub>1</sub>:695" class="idref" href="#m<sub>1</sub>:695"><span class="id" title="binder">m<sub>1</sub></span></a> <a id="m<sub>2</sub>:696" class="idref" href="#m<sub>2</sub>:696"><span class="id" title="binder">m<sub>2</sub></span></a> <a id="b:697" class="idref" href="#b:697"><span class="id" title="binder">b</span></a> <a id="st<sub>1</sub>':698" class="idref" href="#st<sub>1</sub>':698"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':699" class="idref" href="#st<sub>2</sub>':699"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="m<sub>1</sub>':700" class="idref" href="#m<sub>1</sub>':700"><span class="id" title="binder">m<sub>1</sub>'</span></a> <a id="m<sub>2</sub>':701" class="idref" href="#m<sub>2</sub>':701"><span class="id" title="binder">m<sub>2</sub>'</span></a> <a id="b<sub>1</sub>':702" class="idref" href="#b<sub>1</sub>':702"><span class="id" title="binder">b<sub>1</sub>'</span></a> <a id="b<sub>2</sub>':703" class="idref" href="#b<sub>2</sub>':703"><span class="id" title="binder">b<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:704" class="idref" href="#os<sub>1</sub>:704"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:705" class="idref" href="#os<sub>2</sub>:705"><span class="id" title="binder">os<sub>2</sub></span></a> <a id="ds<sub>1</sub>:706" class="idref" href="#ds<sub>1</sub>:706"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="ds<sub>2</sub>:707" class="idref" href="#ds<sub>2</sub>:707"><span class="id" title="binder">ds<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:690"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:691"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:692"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:690"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:693"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:694"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#b:697"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:691"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:695"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:696"><span class="id" title="variable">m<sub>2</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="comment">(*&nbsp;Generalization&nbsp;1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:706"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:707"><span class="id" title="variable">ds<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:707"><span class="id" title="variable">ds<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:706"><span class="id" title="variable">ds<sub>1</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="comment">(*&nbsp;&lt;-&nbsp;Generalization&nbsp;2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:690"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>:693"><span class="id" title="variable">st<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:695"><span class="id" title="variable">m<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:697"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:706"><span class="id" title="variable">ds<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:692"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>':698"><span class="id" title="variable">st<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>':700"><span class="id" title="variable">m<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>1</sub>':702"><span class="id" title="variable">b<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:704"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:690"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>:694"><span class="id" title="variable">st<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:696"><span class="id" title="variable">m<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:697"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:707"><span class="id" title="variable">ds<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:692"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>':699"><span class="id" title="variable">st<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>':701"><span class="id" title="variable">m<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>2</sub>':703"><span class="id" title="variable">b<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:705"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:690"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>':698"><span class="id" title="variable">st<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>':699"><span class="id" title="variable">st<sub>2</sub>'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#b<sub>1</sub>':702"><span class="id" title="variable">b<sub>1</sub>'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#b<sub>2</sub>':703"><span class="id" title="variable">b<sub>2</sub>'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#b<sub>1</sub>':702"><span class="id" title="variable">b<sub>1</sub>'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:691"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>':700"><span class="id" title="variable">m<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>':701"><span class="id" title="variable">m<sub>2</sub>'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="comment">(*&nbsp;&lt;-&nbsp;Generalization&nbsp;1&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#ds<sub>1</sub>:706"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:707"><span class="id" title="variable">ds<sub>2</sub></span></a>. <span class="comment">(*&nbsp;&lt;-&nbsp;Generalization&nbsp;2&nbsp;*)</span><br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span> <span class="id" title="var">st<sub>1</sub></span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">m<sub>1</sub></span> <span class="id" title="var">m<sub>2</sub></span> <span class="id" title="var">b</span> <span class="id" title="var">st<sub>1</sub>'</span> <span class="id" title="var">st<sub>2</sub>'</span> <span class="id" title="var">m<sub>1</sub>'</span> <span class="id" title="var">m<sub>2</sub>'</span> <span class="id" title="var">b<sub>1</sub>'</span> <span class="id" title="var">b<sub>2</sub>'</span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span> <span class="id" title="var">ds<sub>1</sub></span> <span class="id" title="var">ds<sub>2</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hwt</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">Hds</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">m<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">m<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">os<sub>2</sub></span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">b<sub>2</sub>'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">ds<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heval1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">ds2X</span> <span class="id" title="var">Hds</span> <span class="id" title="var">b<sub>2</sub>'</span> <span class="id" title="var">os<sub>2</sub>'</span> <span class="id" title="var">a<sub>2</sub></span> <span class="id" title="var">Haeq</span> <span class="id" title="var">a<sub>2</sub>'</span> <span class="id" title="var">s<sub>2</sub></span> <span class="id" title="var">Heq</span> <span class="id" title="var">s<sub>2</sub>'</span> <span class="id" title="var">Heval2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwt</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Skip&nbsp;*)</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Asgn&nbsp;*)</span> <span class="id" title="var">split4</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EqPx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; [<span class="id" title="tactic">auto</span> | <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>14</sub></span>; <span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Seq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hds</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hpre</span> | <span class="id" title="var">Hpre</span>]; <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_app"><span class="id" title="lemma">prefix_app</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hpre</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hds1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;prefix&nbsp;(ds<sub>1</sub>&nbsp;++&nbsp;ds<sub>2</sub>)&nbsp;(ds<sub>0</sub>&nbsp;++&nbsp;ds<sub>3</sub>)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1_1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hds1</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">Hstates</span> [<span class="id" title="var">Hbits</span> [<span class="id" title="var">Hmates</span> <span class="id" title="var">Hdirections</span>] ] ]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#prefix_append_front"><span class="id" title="lemma">prefix_append_front</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hpre</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hds2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1_2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>14</sub></span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">firstorder</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;prefix&nbsp;(ds<sub>0</sub>&nbsp;++&nbsp;ds<sub>3</sub>)&nbsp;(ds<sub>1</sub>&nbsp;++&nbsp;ds<sub>2</sub>)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1_1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ds<sub>2</sub></span>:=<span class="id" title="var">ds<sub>0</sub></span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>; <span class="id" title="tactic">eauto</span>; [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H<sub>13</sub></span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">Hstates</span> [<span class="id" title="var">Hbits</span> [<span class="id" title="var">Hmates</span> <span class="id" title="var">Hdirections</span>] ] ]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#prefix_append_front"><span class="id" title="lemma">prefix_append_front</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hpre</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hds2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1_2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>14</sub></span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">firstorder</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;If&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="keyword">then</span> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="keyword">else</span> <span class="id" title="var">c<sub>2</sub></span>) <span class="id" title="keyword">as</span> <span class="id" title="var">c<sub>5</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">G</span> : <span class="id" title="var">P</span> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <span class="id" title="var">PA</span> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <span class="id" title="var">c<sub>5</sub></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">c<sub>5</sub></span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>); <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Gds</span> : <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <span class="id" title="var">ds</span> <span class="id" title="var">ds<sub>0</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <span class="id" title="var">ds<sub>0</sub></span> <span class="id" title="var">ds</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hds</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hds</span> | <span class="id" title="var">Hds</span>]; <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_cons"><span class="id" title="lemma">prefix_cons</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>; <span class="id" title="tactic">tauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">c<sub>4</sub></span> <span class="id" title="var">c<sub>5</sub></span>. <span class="id" title="var">erewrite</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>10</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHeval1</span> <span class="id" title="var">G</span> <span class="id" title="var">_</span> <span class="id" title="var">Gds</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span> <span class="id" title="var">_</span> <span class="id" title="var">H<sub>10</sub></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#pub_equiv_sym"><span class="id" title="lemma">pub_equiv_sym</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;IF;&nbsp;contra&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hds</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;IF;&nbsp;contra&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hds</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;If_F;&nbsp;analog&nbsp;to&nbsp;If&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="keyword">then</span> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="keyword">else</span> <span class="id" title="var">c<sub>1</sub></span>) <span class="id" title="keyword">as</span> <span class="id" title="var">c<sub>5</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">G</span> : <span class="id" title="var">P</span> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <span class="id" title="var">PA</span> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <span class="id" title="var">c<sub>5</sub></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span> <span class="id" title="var">c<sub>5</sub></span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>); <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Gds</span> : <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <span class="id" title="var">ds</span> <span class="id" title="var">ds<sub>0</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a> <a class="idref" href="SpecCT.html#prefix"><span class="id" title="definition">prefix</span></a> <span class="id" title="var">ds<sub>0</sub></span> <span class="id" title="var">ds</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hds</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hds</span> | <span class="id" title="var">Hds</span>]; <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_cons"><span class="id" title="lemma">prefix_cons</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>; <span class="id" title="tactic">tauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">c<sub>4</sub></span> <span class="id" title="var">c<sub>5</sub></span>. <span class="id" title="var">erewrite</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>10</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span>(<span class="id" title="var">GG</span>: <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <span class="id" title="var">PA</span> <span class="id" title="var">m</span> <span class="id" title="var">a<sub>2</sub></span>). <span class="comment">(*&nbsp;&lt;-&nbsp;only&nbsp;difference&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intro</span> <span class="id" title="var">Hc</span>. <span class="id" title="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHHeval1</span> <span class="id" title="var">G</span> <span class="id" title="var">_</span> <span class="id" title="var">Gds</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">GG</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span> <span class="id" title="var">_</span> <span class="id" title="var">H<sub>10</sub></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#pub_equiv_sym"><span class="id" title="lemma">pub_equiv_sym</span></a>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;While&nbsp;*)</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ALoad&nbsp;*)</span> <span class="id" title="var">split4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EqPx</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b<sub>2</sub>'</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqb2'</span>; <span class="id" title="tactic">simpl</span>; [<span class="id" title="tactic">reflexivity</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#can_flow"><span class="id" title="definition">can_flow</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>18</sub></span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Bool.Bool.html#orb_true_iff"><span class="id" title="lemma">orb_true_iff</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>18</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H<sub>18</sub></span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hapub</span> | <span class="id" title="var">Contra</span>]; [| <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Contra</span>; <span class="id" title="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">v</span> <span class="id" title="var">v<sub>1</sub></span> <span class="id" title="var">v<sub>2</sub></span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Haeq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hapub</span>; [| <span class="id" title="tactic">reflexivity</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hapub</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ALoad_U&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EqPx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hds</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ALoad&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EqPx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hds</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ALoad_U&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EqPx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;AStore&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split4</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">Hb<sub>2</sub>'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">PA</span> <span class="id" title="var">a</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">EqPAa</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eql</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>19</sub></span>, <span class="id" title="var">H<sub>20</sub></span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H<sub>19</sub></span>, <span class="id" title="var">H<sub>20</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Haeq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hb<sub>2</sub>'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hb<sub>2</sub>'</span> <span class="id" title="keyword">in</span> <span class="id" title="var">EqPAa</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EqPAa</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>21</sub></span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;AStore_U;&nbsp;contra&nbsp;*)</span> <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hds</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;AStore;&nbsp;contra&nbsp;*)</span> <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hds</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;AStore_U;&nbsp;contra&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">split4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">discriminate</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_or_heads"><span class="id" title="lemma">prefix_or_heads</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Corollary</span> <a id="ct_well_typed_ideal_noninterferent" class="idref" href="#ct_well_typed_ideal_noninterferent"><span class="id" title="lemma">ct_well_typed_ideal_noninterferent</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:708" class="idref" href="#P:708"><span class="id" title="binder">P</span></a> <a id="PA:709" class="idref" href="#PA:709"><span class="id" title="binder">PA</span></a> <a id="c:710" class="idref" href="#c:710"><span class="id" title="binder">c</span></a> <a id="st<sub>1</sub>:711" class="idref" href="#st<sub>1</sub>:711"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:712" class="idref" href="#st<sub>2</sub>:712"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="m<sub>1</sub>:713" class="idref" href="#m<sub>1</sub>:713"><span class="id" title="binder">m<sub>1</sub></span></a> <a id="m<sub>2</sub>:714" class="idref" href="#m<sub>2</sub>:714"><span class="id" title="binder">m<sub>2</sub></span></a> <a id="b:715" class="idref" href="#b:715"><span class="id" title="binder">b</span></a> <a id="st<sub>1</sub>':716" class="idref" href="#st<sub>1</sub>':716"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':717" class="idref" href="#st<sub>2</sub>':717"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="m<sub>1</sub>':718" class="idref" href="#m<sub>1</sub>':718"><span class="id" title="binder">m<sub>1</sub>'</span></a> <a id="m<sub>2</sub>':719" class="idref" href="#m<sub>2</sub>':719"><span class="id" title="binder">m<sub>2</sub>'</span></a> <a id="b<sub>1</sub>':720" class="idref" href="#b<sub>1</sub>':720"><span class="id" title="binder">b<sub>1</sub>'</span></a> <a id="b<sub>2</sub>':721" class="idref" href="#b<sub>2</sub>':721"><span class="id" title="binder">b<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:722" class="idref" href="#os<sub>1</sub>:722"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:723" class="idref" href="#os<sub>2</sub>:723"><span class="id" title="binder">os<sub>2</sub></span></a> <a id="ds:724" class="idref" href="#ds:724"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:708"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:709"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:710"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:708"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:711"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:712"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#b:715"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:709"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:713"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:714"><span class="id" title="variable">m<sub>2</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:708"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>:711"><span class="id" title="variable">st<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:713"><span class="id" title="variable">m<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:715"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:724"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:710"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>':716"><span class="id" title="variable">st<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>':718"><span class="id" title="variable">m<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>1</sub>':720"><span class="id" title="variable">b<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:722"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:708"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>:712"><span class="id" title="variable">st<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:714"><span class="id" title="variable">m<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:715"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:724"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:710"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>':717"><span class="id" title="variable">st<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>':719"><span class="id" title="variable">m<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>2</sub>':721"><span class="id" title="variable">b<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:723"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:708"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>':716"><span class="id" title="variable">st<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>':717"><span class="id" title="variable">st<sub>2</sub>'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#b<sub>1</sub>':720"><span class="id" title="variable">b<sub>1</sub>'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#b<sub>2</sub>':721"><span class="id" title="variable">b<sub>2</sub>'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#b<sub>1</sub>':720"><span class="id" title="variable">b<sub>1</sub>'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:709"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>':718"><span class="id" title="variable">m<sub>1</sub>'</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>':719"><span class="id" title="variable">m<sub>2</sub>'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span> <span class="id" title="var">st<sub>1</sub></span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">m<sub>1</sub></span> <span class="id" title="var">m<sub>2</sub></span> <span class="id" title="var">b</span> <span class="id" title="var">st<sub>1</sub>'</span> <span class="id" title="var">st<sub>2</sub>'</span> <span class="id" title="var">m<sub>1</sub>'</span> <span class="id" title="var">m<sub>2</sub>'</span> <span class="id" title="var">b<sub>1</sub>'</span> <span class="id" title="var">b<sub>2</sub>'</span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span> <span class="id" title="var">ds</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hwt</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#ct_well_typed_ideal_noninterferent_general"><span class="id" title="lemma">ct_well_typed_ideal_noninterferent_general</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval2</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#prefix_refl"><span class="id" title="lemma">prefix_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
This corollary (used below in the sequence case) also follows from
    <span class="inlinecode"><span class="id" title="var">noninterferent_general</span></span> 
</div>
<div class="code">
<span class="id" title="keyword">Corollary</span> <a id="aux" class="idref" href="#aux"><span class="id" title="lemma">aux</span></a> : <span class="id" title="keyword">∀</span> <a id="P:725" class="idref" href="#P:725"><span class="id" title="binder">P</span></a> <a id="PA:726" class="idref" href="#PA:726"><span class="id" title="binder">PA</span></a> <a id="st<sub>1</sub>:727" class="idref" href="#st<sub>1</sub>:727"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:728" class="idref" href="#st<sub>2</sub>:728"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="m<sub>1</sub>:729" class="idref" href="#m<sub>1</sub>:729"><span class="id" title="binder">m<sub>1</sub></span></a> <a id="m<sub>2</sub>:730" class="idref" href="#m<sub>2</sub>:730"><span class="id" title="binder">m<sub>2</sub></span></a> <a id="b:731" class="idref" href="#b:731"><span class="id" title="binder">b</span></a> <a id="ds<sub>1</sub>:732" class="idref" href="#ds<sub>1</sub>:732"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="ds<sub>2</sub>:733" class="idref" href="#ds<sub>2</sub>:733"><span class="id" title="binder">ds<sub>2</sub></span></a> <a id="c:734" class="idref" href="#c:734"><span class="id" title="binder">c</span></a> <a id="st<sub>1</sub>':735" class="idref" href="#st<sub>1</sub>':735"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':736" class="idref" href="#st<sub>2</sub>':736"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="m<sub>1</sub>':737" class="idref" href="#m<sub>1</sub>':737"><span class="id" title="binder">m<sub>1</sub>'</span></a> <a id="m<sub>2</sub>':738" class="idref" href="#m<sub>2</sub>':738"><span class="id" title="binder">m<sub>2</sub>'</span></a> <a id="b<sub>1</sub>:739" class="idref" href="#b<sub>1</sub>:739"><span class="id" title="binder">b<sub>1</sub></span></a> <a id="b<sub>2</sub>:740" class="idref" href="#b<sub>2</sub>:740"><span class="id" title="binder">b<sub>2</sub></span></a> <a id="os<sub>1</sub>:741" class="idref" href="#os<sub>1</sub>:741"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:742" class="idref" href="#os<sub>2</sub>:742"><span class="id" title="binder">os<sub>2</sub></span></a> <a id="ds<sub>1</sub>':743" class="idref" href="#ds<sub>1</sub>':743"><span class="id" title="binder">ds<sub>1</sub>'</span></a> <a id="ds<sub>2</sub>':744" class="idref" href="#ds<sub>2</sub>':744"><span class="id" title="binder">ds<sub>2</sub>'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#ds<sub>2</sub>:733"><span class="id" title="variable">ds<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>':744"><span class="id" title="variable">ds<sub>2</sub>'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:732"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>':743"><span class="id" title="variable">ds<sub>1</sub>'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:725"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:726"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:734"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:725"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:727"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:728"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#b:731"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:726"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:729"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:730"><span class="id" title="variable">m<sub>2</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:725"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>:727"><span class="id" title="variable">st<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:729"><span class="id" title="variable">m<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:731"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:732"><span class="id" title="variable">ds<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:734"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>':735"><span class="id" title="variable">st<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>':737"><span class="id" title="variable">m<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>1</sub>:739"><span class="id" title="variable">b<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:741"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a>  <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:725"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>:728"><span class="id" title="variable">st<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:730"><span class="id" title="variable">m<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:731"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:733"><span class="id" title="variable">ds<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:734"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>':736"><span class="id" title="variable">st<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>':738"><span class="id" title="variable">m<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>2</sub>:740"><span class="id" title="variable">b<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:742"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#ds<sub>1</sub>:732"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:733"><span class="id" title="variable">ds<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>':743"><span class="id" title="variable">ds<sub>1</sub>'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>':744"><span class="id" title="variable">ds<sub>2</sub>'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">st<sub>1</sub></span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">m<sub>1</sub></span> <span class="id" title="var">m<sub>2</sub></span> <span class="id" title="var">b</span> <span class="id" title="var">ds<sub>1</sub></span> <span class="id" title="var">ds<sub>2</sub></span> <span class="id" title="var">c</span> <span class="id" title="var">st<sub>1</sub>'</span> <span class="id" title="var">st<sub>2</sub>'</span> <span class="id" title="var">m<sub>1</sub>'</span> <span class="id" title="var">m<sub>2</sub>'</span> <span class="id" title="var">b<sub>1</sub></span> <span class="id" title="var">b<sub>2</sub></span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span> <span class="id" title="var">ds<sub>1</sub>'</span> <span class="id" title="var">ds<sub>2</sub>'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hds</span> <span class="id" title="var">Hwt</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hds</span> <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#app_eq_prefix"><span class="id" title="lemma">app_eq_prefix</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#ct_well_typed_ideal_noninterferent_general"><span class="id" title="lemma">ct_well_typed_ideal_noninterferent_general</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ | | | | <span class="id" title="tactic">apply</span> <span class="id" title="var">Heval1</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">Heval2</span>]; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [ <span class="id" title="var">_</span> [ <span class="id" title="var">_</span> [ <span class="id" title="var">_</span> <span class="id" title="var">H</span>] ] ]. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">reflexivity</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_inv_head"><span class="id" title="lemma">app_inv_head</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="ideal_spec_ct_secure" class="idref" href="#ideal_spec_ct_secure"><span class="id" title="lemma">ideal_spec_ct_secure</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:745" class="idref" href="#P:745"><span class="id" title="binder">P</span></a> <a id="PA:746" class="idref" href="#PA:746"><span class="id" title="binder">PA</span></a> <a id="c:747" class="idref" href="#c:747"><span class="id" title="binder">c</span></a> <a id="st<sub>1</sub>:748" class="idref" href="#st<sub>1</sub>:748"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:749" class="idref" href="#st<sub>2</sub>:749"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="m<sub>1</sub>:750" class="idref" href="#m<sub>1</sub>:750"><span class="id" title="binder">m<sub>1</sub></span></a> <a id="m<sub>2</sub>:751" class="idref" href="#m<sub>2</sub>:751"><span class="id" title="binder">m<sub>2</sub></span></a> <a id="b:752" class="idref" href="#b:752"><span class="id" title="binder">b</span></a> <a id="st<sub>1</sub>':753" class="idref" href="#st<sub>1</sub>':753"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':754" class="idref" href="#st<sub>2</sub>':754"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="m<sub>1</sub>':755" class="idref" href="#m<sub>1</sub>':755"><span class="id" title="binder">m<sub>1</sub>'</span></a> <a id="m<sub>2</sub>':756" class="idref" href="#m<sub>2</sub>':756"><span class="id" title="binder">m<sub>2</sub>'</span></a> <a id="b<sub>1</sub>':757" class="idref" href="#b<sub>1</sub>':757"><span class="id" title="binder">b<sub>1</sub>'</span></a> <a id="b<sub>2</sub>':758" class="idref" href="#b<sub>2</sub>':758"><span class="id" title="binder">b<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:759" class="idref" href="#os<sub>1</sub>:759"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:760" class="idref" href="#os<sub>2</sub>:760"><span class="id" title="binder">os<sub>2</sub></span></a> <a id="ds:761" class="idref" href="#ds:761"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:745"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:746"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:747"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:745"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:748"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:749"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#b:752"><span class="id" title="variable">b</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:746"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:750"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:751"><span class="id" title="variable">m<sub>2</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:745"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>:748"><span class="id" title="variable">st<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:750"><span class="id" title="variable">m<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:752"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:761"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:747"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>':753"><span class="id" title="variable">st<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>':755"><span class="id" title="variable">m<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>1</sub>':757"><span class="id" title="variable">b<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:759"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:745"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>:749"><span class="id" title="variable">st<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:751"><span class="id" title="variable">m<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:752"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:761"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:747"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>':754"><span class="id" title="variable">st<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>':756"><span class="id" title="variable">m<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>2</sub>':758"><span class="id" title="variable">b<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:760"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#os<sub>1</sub>:759"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:760"><span class="id" title="variable">os<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span> <span class="id" title="var">st<sub>1</sub></span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">m<sub>1</sub></span> <span class="id" title="var">m<sub>2</sub></span> <span class="id" title="var">b</span> <span class="id" title="var">st<sub>1</sub>'</span> <span class="id" title="var">st<sub>2</sub>'</span> <span class="id" title="var">m<sub>1</sub>'</span> <span class="id" title="var">m<sub>2</sub>'</span> <span class="id" title="var">b<sub>1</sub>'</span> <span class="id" title="var">b<sub>2</sub>'</span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span> <span class="id" title="var">ds</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hwt</span> <span class="id" title="var">Heq</span> <span class="id" title="var">Haeq</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">st<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">m<sub>2</sub>'</span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">m<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">os<sub>2</sub></span>. <span class="id" title="tactic">generalize</span> <span class="id" title="tactic">dependent</span> <span class="id" title="var">b<sub>2</sub>'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Heval1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">b<sub>2</sub>'</span> <span class="id" title="var">os<sub>2</sub>'</span> <span class="id" title="var">m<sub>2</sub></span> <span class="id" title="var">Haeq</span> <span class="id" title="var">m<sub>2</sub>'</span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">Heq</span> <span class="id" title="var">st<sub>2</sub>'</span> <span class="id" title="var">Heval2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hwt</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Skip&nbsp;*)</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Skip&nbsp;*)</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Seq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#aux"><span class="id" title="lemma">aux</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>1</sub></span>; [| | | | <span class="id" title="tactic">apply</span> <span class="id" title="var">Heval1_1</span> | <span class="id" title="tactic">apply</span> <span class="id" title="var">H<sub>5</sub></span> ]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H<sub>1</sub></span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H<sub>1</sub></span> <span class="id" title="var">H<sub>1</sub>'</span>]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">NI<sub>1</sub></span> : <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <span class="id" title="var">P</span> <span class="id" title="var">st'</span> <span class="id" title="var">st'0</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">b'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">b'0</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><span class="id" title="var">b'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <span class="id" title="var">PA</span> <span class="id" title="var">m'</span> <span class="id" title="var">m'0</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#ct_well_typed_ideal_noninterferent"><span class="id" title="lemma">ct_well_typed_ideal_noninterferent</span></a>; [ | | | <span class="id" title="var">eassumption</span> | <span class="id" title="var">eassumption</span>]; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">NI<sub>1</sub></span> <span class="id" title="keyword">as</span> [<span class="id" title="var">NI1eq</span> [<span class="id" title="var">NIb</span> <span class="id" title="var">NIaeq</span>] ]. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="var">IHHeval1_2</span>; [<span class="id" title="var">erewrite</span> <span class="id" title="var">IHHeval1_1</span> | | | |];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;If&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>); <span class="id" title="var">eassumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">c</span> <span class="id" title="var">c<sub>4</sub></span>. <span class="id" title="var">erewrite</span> (<a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="var">Heq</span> <span class="id" title="var">H<sub>14</sub></span>); <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;If_F&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>); <span class="id" title="var">eassumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intro</span> <span class="id" title="var">contra</span>. <span class="id" title="tactic">discriminate</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span> <span class="id" title="var">c</span> <span class="id" title="var">c<sub>4</sub></span>. <span class="id" title="var">erewrite</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;While&nbsp;*)</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHHeval1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ALoad&nbsp;*)</span> <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ALoad_U&nbsp;*)</span> <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;AStore&nbsp;*)</span> <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;AStore&nbsp;*)</span> <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#noninterferent_exp"><span class="id" title="lemma">noninterferent_exp</span></a>; <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab98"></a><h2 class="section">Correctness of sel_slh as a compiler from ideal to speculative semantics</h2>

<div class="paragraph"> </div>

 We now prove that the ideal semantics correctly captures the programs
    produced by <span class="inlinecode"><span class="id" title="var">sel_slh</span></span> when executed using the speculative semantics. We
    phrase this as a backwards compiler correctness proof for <span class="inlinecode"><span class="id" title="var">sel_slh</span></span>,
    which intuitively looks as follows:
<pre>
    &lt;(st,m,b,ds)&gt; =[[ sel_slh P c ]]=&gt; &lt;(st',m',b',os)&gt; <span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>
    P &#x22A2;i &lt;(st,m,b,ds)&gt; =[[ c ]]=&gt; &lt;(msf!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span>st msf;st',m',b',os)&gt;
</pre>

<div class="paragraph"> </div>

 All results about <span class="inlinecode"><span class="id" title="var">sel_slh</span></span> below assume that the original <span class="inlinecode"><span class="id" title="var">c</span></span> doesn't
    already use the variable <span class="inlinecode"><span class="id" title="var">msf</span></span> needed by the <span class="inlinecode"><span class="id" title="var">sel_slh</span></span> translation. 
</div>
<div class="code">

<span class="id" title="keyword">Fixpoint</span> <a id="e_unused" class="idref" href="#e_unused"><span class="id" title="definition">e_unused</span></a> (<a id="x:762" class="idref" href="#x:762"><span class="id" title="binder">x</span></a>:<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="e:763" class="idref" href="#e:763"><span class="id" title="binder">e</span></a>:<a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#e:763"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#ANum"><span class="id" title="constructor">ANum</span></a> <span class="id" title="var">n</span>      ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#AId"><span class="id" title="constructor">AId</span></a> <span class="id" title="var">y</span>       ⇒ <span class="id" title="var">y</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="SpecCT.html#x:762"><span class="id" title="variable">x</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#ABin"><span class="id" title="constructor">ABin</span></a> <span class="id" title="var">_</span> <span class="id" title="var">e<sub>1</sub></span> <span class="id" title="var">e<sub>2</sub></span> ⇒ <a class="idref" href="SpecCT.html#e_unused:764"><span class="id" title="definition">e_unused</span></a> <a class="idref" href="SpecCT.html#x:762"><span class="id" title="variable">x</span></a> <span class="id" title="var">e<sub>1</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#e_unused:764"><span class="id" title="definition">e_unused</span></a> <a class="idref" href="SpecCT.html#x:762"><span class="id" title="variable">x</span></a> <span class="id" title="var">e<sub>2</sub></span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><span class="id" title="var">b</span> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">?</span></a> <span class="id" title="var">e<sub>1</sub></span> <a class="idref" href="SpecCT.html#e394e4519717f9f211167ad5ddb8b548"><span class="id" title="notation">:</span></a> <span class="id" title="var">e<sub>2</sub></span><a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#e_unused:764"><span class="id" title="definition">e_unused</span></a> <a class="idref" href="SpecCT.html#x:762"><span class="id" title="variable">x</span></a> <span class="id" title="var">b</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#e_unused:764"><span class="id" title="definition">e_unused</span></a> <a class="idref" href="SpecCT.html#x:762"><span class="id" title="variable">x</span></a> <span class="id" title="var">e<sub>1</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#e_unused:764"><span class="id" title="definition">e_unused</span></a> <a class="idref" href="SpecCT.html#x:762"><span class="id" title="variable">x</span></a> <span class="id" title="var">e<sub>2</sub></span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Fixpoint</span> <a id="unused" class="idref" href="#unused"><span class="id" title="definition">unused</span></a> (<a id="x:766" class="idref" href="#x:766"><span class="id" title="binder">x</span></a>:<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="c:767" class="idref" href="#c:767"><span class="id" title="binder">c</span></a>:<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#c:767"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">y</span> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">e</span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <span class="id" title="var">y</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="SpecCT.html#x:766"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#e_unused"><span class="id" title="definition">e_unused</span></a> <a class="idref" href="SpecCT.html#x:766"><span class="id" title="variable">x</span></a> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">c<sub>1</sub></span><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#unused:768"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#x:766"><span class="id" title="variable">x</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#unused:768"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#x:766"><span class="id" title="variable">x</span></a> <span class="id" title="var">c<sub>2</sub></span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#e_unused"><span class="id" title="definition">e_unused</span></a> <a class="idref" href="SpecCT.html#x:766"><span class="id" title="variable">x</span></a> <span class="id" title="var">be</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#unused:768"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#x:766"><span class="id" title="variable">x</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#unused:768"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#x:766"><span class="id" title="variable">x</span></a> <span class="id" title="var">c<sub>2</sub></span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#e_unused"><span class="id" title="definition">e_unused</span></a> <a class="idref" href="SpecCT.html#x:766"><span class="id" title="variable">x</span></a> <span class="id" title="var">be</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#unused:768"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#x:766"><span class="id" title="variable">x</span></a> <a class="idref" href="SpecCT.html#c:767"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">y</span> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">a</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><span class="id" title="var">i</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <span class="id" title="var">y</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="SpecCT.html#x:766"><span class="id" title="variable">x</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#e_unused"><span class="id" title="definition">e_unused</span></a> <a class="idref" href="SpecCT.html#x:766"><span class="id" title="variable">x</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><span class="id" title="var">a</span><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><span class="id" title="var">i</span><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">e</span><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#e_unused"><span class="id" title="definition">e_unused</span></a> <a class="idref" href="SpecCT.html#x:766"><span class="id" title="variable">x</span></a> <span class="id" title="var">i</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="SpecCT.html#e_unused"><span class="id" title="definition">e_unused</span></a> <a class="idref" href="SpecCT.html#x:766"><span class="id" title="variable">x</span></a> <span class="id" title="var">e</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
As a warm-up we prove that <span class="inlinecode"><span class="id" title="var">sel_slh</span></span> properly updates the variable msf. 
<div class="paragraph"> </div>

 Proving this by induction on <span class="inlinecode"><span class="id" title="var">com</span></span> or <span class="inlinecode"><span class="id" title="var">spec_eval</span></span> leads to induction
    hypotheses, that are not strong enough to prove the <span class="inlinecode"><span class="id" title="var">Spec_While</span></span>
    case. Therefore we will prove it by induction on the <span class="inlinecode"><span class="id" title="var">size</span></span>
    of a the pair of the <span class="inlinecode">(<span class="id" title="var">c</span>:<span class="id" title="var">com</span>)</span> and the <span class="inlinecode">(<span class="id" title="var">ds</span>:<span class="id" title="var">dirs</span>)</span>. 
</div>
<div class="code">

<span class="id" title="keyword">Fixpoint</span> <a id="com_size" class="idref" href="#com_size"><span class="id" title="definition">com_size</span></a> (<a id="c:770" class="idref" href="#c:770"><span class="id" title="binder">c</span></a>:<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#c:770"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <span class="id" title="var">c<sub>1</sub></span><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ 1 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#com_size:771"><span class="id" title="definition">com_size</span></a> <span class="id" title="var">c<sub>1</sub></span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#com_size:771"><span class="id" title="definition">com_size</span></a> <span class="id" title="var">c<sub>2</sub></span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="id" title="var">ct</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <span class="id" title="var">cf</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ 1 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Arith.PeanoNat.html#Nat.max"><span class="id" title="definition">max</span></a> (<a class="idref" href="SpecCT.html#com_size:771"><span class="id" title="definition">com_size</span></a> <span class="id" title="var">ct</span>) (<a class="idref" href="SpecCT.html#com_size:771"><span class="id" title="definition">com_size</span></a> <span class="id" title="var">cf</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">cw</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ 1 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#com_size:771"><span class="id" title="definition">com_size</span></a> <span class="id" title="var">cw</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> ⇒ 1<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span>  ⇒ 1<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="size" class="idref" href="#size"><span class="id" title="definition">size</span></a> (<a id="c:773" class="idref" href="#c:773"><span class="id" title="binder">c</span></a>:<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) (<a id="ds:774" class="idref" href="#ds:774"><span class="id" title="binder">ds</span></a>:<a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> := <a class="idref" href="SpecCT.html#com_size"><span class="id" title="definition">com_size</span></a> <a class="idref" href="SpecCT.html#c:773"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="SpecCT.html#ds:774"><span class="id" title="variable">ds</span></a>.<br/>
</div>

<div class="doc">
We prove a helpful induction principle on <span class="inlinecode"><span class="id" title="var">size</span></span>: 
</div>
<div class="code">

<span class="id" title="keyword">Check</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Arith.PeanoNat.html#Nat.measure_induction"><span class="id" title="lemma">measure_induction</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="size_ind" class="idref" href="#size_ind"><span class="id" title="lemma">size_ind</span></a> : <span class="id" title="keyword">∀</span> <a id="P:775" class="idref" href="#P:775"><span class="id" title="binder">P</span></a> : <a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="c:776" class="idref" href="#c:776"><span class="id" title="binder">c</span></a> <a id="ds:777" class="idref" href="#ds:777"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="c':778" class="idref" href="#c':778"><span class="id" title="binder">c'</span></a> <a id="ds':779" class="idref" href="#ds':779"><span class="id" title="binder">ds'</span></a>, <a class="idref" href="SpecCT.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="SpecCT.html#c':778"><span class="id" title="variable">c'</span></a> <a class="idref" href="SpecCT.html#ds':779"><span class="id" title="variable">ds'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="SpecCT.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="SpecCT.html#c:776"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#ds:777"><span class="id" title="variable">ds</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#P:775"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c':778"><span class="id" title="variable">c'</span></a> <a class="idref" href="SpecCT.html#ds':779"><span class="id" title="variable">ds'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:775"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c:776"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#ds:777"><span class="id" title="variable">ds</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="c:780" class="idref" href="#c:780"><span class="id" title="binder">c</span></a> <a id="ds:781" class="idref" href="#ds:781"><span class="id" title="binder">ds</span></a>, <a class="idref" href="SpecCT.html#P:775"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c:780"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#ds:781"><span class="id" title="variable">ds</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="keyword">fun</span> <a id="c_ds:782" class="idref" href="#c_ds:782"><span class="id" title="binder"><span id="c_ds:783" class="id">c_ds</span></span></a> ⇒ <span class="id" title="var">P</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="SpecCT.html#c_ds:782"><span class="id" title="variable">c_ds</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="SpecCT.html#c_ds:782"><span class="id" title="variable">c_ds</span></a>)) <span class="id" title="keyword">as</span> <span class="id" title="var">P'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">P</span> <span class="id" title="var">c</span> <span class="id" title="var">ds</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">P'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqP'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Arith.PeanoNat.html#Nat.measure_induction"><span class="id" title="lemma">measure_induction</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span>:=<span class="id" title="keyword">fun</span> <a id="c_ds:784" class="idref" href="#c_ds:784"><span class="id" title="binder"><span id="c_ds:785" class="id">c_ds</span></span></a> ⇒ <a class="idref" href="SpecCT.html#size"><span class="id" title="definition">size</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="SpecCT.html#c_ds:784"><span class="id" title="variable">c_ds</span></a>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="SpecCT.html#c_ds:784"><span class="id" title="variable">c_ds</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HeqP'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">c'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">c_ds'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">P</span> <span class="id" title="var">c'</span> <span class="id" title="var">ds'</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">P'</span> <span class="id" title="var">c_ds'</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqc_ds'</span>, <span class="id" title="var">HeqP'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H<sub>0</sub></span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqc_ds'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
The proof of <span class="inlinecode"><span class="id" title="var">sel_slh_flag</span></span> 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="size_decreasing" class="idref" href="#size_decreasing"><span class="id" title="lemma">size_decreasing</span></a>: <span class="id" title="keyword">∀</span> <a id="c<sub>1</sub>:786" class="idref" href="#c<sub>1</sub>:786"><span class="id" title="binder">c<sub>1</sub></span></a> <a id="ds<sub>1</sub>:787" class="idref" href="#ds<sub>1</sub>:787"><span class="id" title="binder">ds<sub>1</sub></span></a> <a id="c<sub>2</sub>:788" class="idref" href="#c<sub>2</sub>:788"><span class="id" title="binder">c<sub>2</sub></span></a> <a id="ds<sub>2</sub>:789" class="idref" href="#ds<sub>2</sub>:789"><span class="id" title="binder">ds<sub>2</sub></span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#com_size"><span class="id" title="definition">com_size</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:786"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="SpecCT.html#com_size"><span class="id" title="definition">com_size</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:788"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:787"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:789"><span class="id" title="variable">ds<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#com_size"><span class="id" title="definition">com_size</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:786"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a<sub>3</sub>"><span class="id" title="notation">≤</span></a> <a class="idref" href="SpecCT.html#com_size"><span class="id" title="definition">com_size</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:788"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:787"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:789"><span class="id" title="variable">ds<sub>2</sub></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e<sub>25</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="SpecCT.html#c<sub>1</sub>:786"><span class="id" title="variable">c<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>1</sub>:787"><span class="id" title="variable">ds<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="SpecCT.html#size"><span class="id" title="definition">size</span></a> <a class="idref" href="SpecCT.html#c<sub>2</sub>:788"><span class="id" title="variable">c<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#ds<sub>2</sub>:789"><span class="id" title="variable">ds<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="var">ds<sub>1</sub></span> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="var">ds<sub>2</sub></span> [ [<span class="id" title="var">Hcom</span> <span class="id" title="var">Hdir</span>] | [<span class="id" title="var">Hcom</span> <span class="id" title="var">Hdir</span>] ];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#size"><span class="id" title="definition">size</span></a>; <span class="id" title="var">lia</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
Based on the Lemma <span class="inlinecode"><span class="id" title="var">size_decreasing</span></span> we can build a tactic to solve
    the subgoals in the form of <span class="inlinecode"><span class="id" title="var">size</span></span> <span class="inlinecode"><span class="id" title="var">c'</span></span> <span class="inlinecode"><span class="id" title="var">ds'</span></span> <span class="inlinecode">&lt;</span> <span class="inlinecode"><span class="id" title="var">size</span></span> <span class="inlinecode"><span class="id" title="var">c</span></span> <span class="inlinecode"><span class="id" title="var">ds</span></span>,
    which will be produced by <span class="inlinecode"><span class="id" title="var">size_ind</span></span>.
</div>
<div class="code">

<span class="id" title="keyword">Ltac</span> <span class="id" title="var">size_auto</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> ( <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#size_decreasing"><span class="id" title="lemma">size_decreasing</span></a>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length_app"><span class="id" title="lemma">length_app</span></a>]; <span class="id" title="var">lia</span> );<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> ( <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#size_decreasing"><span class="id" title="lemma">size_decreasing</span></a>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[| <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length_app"><span class="id" title="lemma">length_app</span></a>]; <span class="id" title="var">lia</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> ( <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#size_decreasing"><span class="id" title="lemma">size_decreasing</span></a>; <span class="id" title="tactic">left</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">auto</span> | <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length_app"><span class="id" title="lemma">length_app</span></a>; <span class="id" title="var">lia</span>] ).<br/>
</div>

<div class="doc">
To properly apply <span class="inlinecode"><span class="id" title="var">size_ind</span></span>, we need to state <span class="inlinecode"><span class="id" title="var">sel_slh_flag</span></span>
    as a proposition of type <span class="inlinecode"><span class="id" title="var">com</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="var">dirs</span></span> <span class="inlinecode">→</span> <span class="inlinecode"><span class="id" title="keyword">Prop</span></span>. Therefore we define the
    following: 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="sel_slh_flag_prop" class="idref" href="#sel_slh_flag_prop"><span class="id" title="definition">sel_slh_flag_prop</span></a> (<a id="c:790" class="idref" href="#c:790"><span class="id" title="binder">c</span></a> :<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) (<a id="ds:791" class="idref" href="#ds:791"><span class="id" title="binder">ds</span></a> :<a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>) :<span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:792" class="idref" href="#P:792"><span class="id" title="binder">P</span></a> <a id="st:793" class="idref" href="#st:793"><span class="id" title="binder">st</span></a> <a id="m:794" class="idref" href="#m:794"><span class="id" title="binder">m</span></a> (<a id="b:795" class="idref" href="#b:795"><span class="id" title="binder">b</span></a>:<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="st':796" class="idref" href="#st':796"><span class="id" title="binder">st'</span></a> <a id="m':797" class="idref" href="#m':797"><span class="id" title="binder">m'</span></a> (<a id="b':798" class="idref" href="#b':798"><span class="id" title="binder">b'</span></a>:<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="os:799" class="idref" href="#os:799"><span class="id" title="binder">os</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#c:790"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#st:793"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#b:795"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:793"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:794"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:795"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:791"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:792"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c:790"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':796"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':797"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':798"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:799"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#st':796"><span class="id" title="variable">st'</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#b':798"><span class="id" title="variable">b'</span></a> <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="sel_slh_flag" class="idref" href="#sel_slh_flag"><span class="id" title="lemma">sel_slh_flag</span></a> : <span class="id" title="keyword">∀</span> <a id="c:800" class="idref" href="#c:800"><span class="id" title="binder">c</span></a> <a id="ds:801" class="idref" href="#ds:801"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#sel_slh_flag_prop"><span class="id" title="definition">sel_slh_flag_prop</span></a> <a class="idref" href="SpecCT.html#c:800"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#ds:801"><span class="id" title="variable">ds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#size_ind"><span class="id" title="lemma">size_ind</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#sel_slh_flag_prop"><span class="id" title="definition">sel_slh_flag_prop</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">ds</span> <span class="id" title="var">IH</span> <span class="id" title="var">P</span> <span class="id" title="var">st</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">st'</span> <span class="id" title="var">m'</span> <span class="id" title="var">b'</span> <span class="id" title="var">os</span> <span class="id" title="var">Hunused</span> <span class="id" title="var">Hstb</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">try</span> (<span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Asgn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Seq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>. <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;IF&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Spec_If&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">size_auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="comment">(*&nbsp;analog&nbsp;to&nbsp;true&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">size_auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">tauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Spec_If_F;&nbsp;analog&nbsp;to&nbsp;Spec_If&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">size_auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">size_auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;While&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;non-speculative&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>, <span class="id" title="var">Eqnbe</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hwhile</span>: <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> (<span class="id" title="var">ds<sub>0</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <span class="id" title="var">ds<sub>2</sub></span>)%<span class="id" title="var">list</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <span class="id" title="var">P</span> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> (<span class="id" title="var">os<sub>3</sub></span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><span class="id" title="var">os<sub>2</sub></span>)%<span class="id" title="var">list</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a>; <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hwhile</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">size_auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> <span class="id" title="var">Hwhile</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>2</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>2</sub></span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>, <span class="id" title="var">Eqnbe</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;speculative;&nbsp;analog&nbsp;to&nbsp;non_speculative&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hwhile</span>: <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> (<span class="id" title="var">ds<sub>0</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <span class="id" title="var">ds<sub>2</sub></span>)%<span class="id" title="var">list</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a><a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <span class="id" title="var">P</span> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> (<span class="id" title="var">os<sub>3</sub></span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><span class="id" title="var">os<sub>2</sub></span>)%<span class="id" title="var">list</span> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a>; <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hwhile</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">size_auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">clear</span> <span class="id" title="var">Hwhile</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>2</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>2</sub></span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>, <span class="id" title="var">Eqnbe</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>, <span class="id" title="var">Eqnbe</span>; <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ALoad&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; [<span class="id" title="tactic">assumption</span>| <span class="id" title="tactic">tauto</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; [<span class="id" title="tactic">assumption</span>| <span class="id" title="tactic">tauto</span>]).<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
We need a few more lemmas before we prove backwards compiler correctness 
</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="eval_unused_update" class="idref" href="#eval_unused_update"><span class="id" title="lemma">eval_unused_update</span></a> : <span class="id" title="keyword">∀</span> <a id="X:802" class="idref" href="#X:802"><span class="id" title="binder">X</span></a> <a id="st:803" class="idref" href="#st:803"><span class="id" title="binder">st</span></a> <a id="n:804" class="idref" href="#n:804"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <a id="ae:805" class="idref" href="#ae:805"><span class="id" title="binder">ae</span></a>, <a class="idref" href="SpecCT.html#e_unused"><span class="id" title="definition">e_unused</span></a> <a class="idref" href="SpecCT.html#X:802"><span class="id" title="variable">X</span></a> <a class="idref" href="SpecCT.html#ae:805"><span class="id" title="variable">ae</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> (<a class="idref" href="SpecCT.html#X:802"><span class="id" title="variable">X</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:804"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:803"><span class="id" title="variable">st</span></a>) <a class="idref" href="SpecCT.html#ae:805"><span class="id" title="variable">ae</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <a class="idref" href="SpecCT.html#st:803"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#ae:805"><span class="id" title="variable">ae</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">X</span> <span class="id" title="var">st</span> <span class="id" title="var">n</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">ae</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHae1</span>; [| <span class="id" title="tactic">tauto</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHae2</span>; [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H<sub>0</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHae1</span>, <span class="id" title="var">IHae2</span>, <span class="id" title="var">IHae3</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="ideal_unused_overwrite" class="idref" href="#ideal_unused_overwrite"><span class="id" title="lemma">ideal_unused_overwrite</span></a>: <span class="id" title="keyword">∀</span> <a id="P:806" class="idref" href="#P:806"><span class="id" title="binder">P</span></a> <a id="st:807" class="idref" href="#st:807"><span class="id" title="binder">st</span></a> <a id="m:808" class="idref" href="#m:808"><span class="id" title="binder">m</span></a> <a id="b:809" class="idref" href="#b:809"><span class="id" title="binder">b</span></a> <a id="ds:810" class="idref" href="#ds:810"><span class="id" title="binder">ds</span></a> <a id="c:811" class="idref" href="#c:811"><span class="id" title="binder">c</span></a> <a id="st':812" class="idref" href="#st':812"><span class="id" title="binder">st'</span></a> <a id="m':813" class="idref" href="#m':813"><span class="id" title="binder">m'</span></a> <a id="b':814" class="idref" href="#b':814"><span class="id" title="binder">b'</span></a> <a id="os:815" class="idref" href="#os:815"><span class="id" title="binder">os</span></a> <a id="X:816" class="idref" href="#X:816"><span class="id" title="binder">X</span></a> <a id="n:817" class="idref" href="#n:817"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#X:816"><span class="id" title="variable">X</span></a> <a class="idref" href="SpecCT.html#c:811"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:806"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:807"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:808"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:809"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:810"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:811"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':812"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':813"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':814"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:815"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:806"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#X:816"><span class="id" title="variable">X</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:817"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:807"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:808"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:809"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:810"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:811"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#X:816"><span class="id" title="variable">X</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:817"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st':812"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':813"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':814"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:815"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">st</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">c</span> <span class="id" title="var">st'</span> <span class="id" title="var">m'</span> <span class="id" title="var">b'</span> <span class="id" title="var">os</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span> <span class="id" title="var">Hu</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hu</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Skip&nbsp;*)</span> <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Asgn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_permute</span>; [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#eval_unused_update"><span class="id" title="lemma">eval_unused_update</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Seq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHideal_eval1</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHideal_eval2</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;If&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="SpecCT.html#eval_unused_update"><span class="id" title="lemma">eval_unused_update</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">n</span>:=<span class="id" title="var">n</span>); [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#eval_unused_update"><span class="id" title="lemma">eval_unused_update</span></a>; [ | <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">D</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHideal_eval</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;If_F&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="SpecCT.html#eval_unused_update"><span class="id" title="lemma">eval_unused_update</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">n</span>:=<span class="id" title="var">n</span>); [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#eval_unused_update"><span class="id" title="lemma">eval_unused_update</span></a>; [ | <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">D</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">IHideal_eval</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;While&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHideal_eval</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ALoad&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_permute</span>; [| <span class="id" title="tactic">tauto</span>]. <span class="id" title="tactic">econstructor</span>; [ | <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#eval_unused_update"><span class="id" title="lemma">eval_unused_update</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ALoad_U&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_permute</span>; [| <span class="id" title="tactic">tauto</span>]. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#eval_unused_update"><span class="id" title="lemma">eval_unused_update</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;AStore&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#eval_unused_update"><span class="id" title="lemma">eval_unused_update</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#eval_unused_update"><span class="id" title="lemma">eval_unused_update</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;AStore_U&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#eval_unused_update"><span class="id" title="lemma">eval_unused_update</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="SpecCT.html#eval_unused_update"><span class="id" title="lemma">eval_unused_update</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="ideal_unused_update" class="idref" href="#ideal_unused_update"><span class="id" title="lemma">ideal_unused_update</span></a> : <span class="id" title="keyword">∀</span> <a id="P:818" class="idref" href="#P:818"><span class="id" title="binder">P</span></a> <a id="st:819" class="idref" href="#st:819"><span class="id" title="binder">st</span></a> <a id="m:820" class="idref" href="#m:820"><span class="id" title="binder">m</span></a> <a id="b:821" class="idref" href="#b:821"><span class="id" title="binder">b</span></a> <a id="ds:822" class="idref" href="#ds:822"><span class="id" title="binder">ds</span></a> <a id="c:823" class="idref" href="#c:823"><span class="id" title="binder">c</span></a> <a id="st':824" class="idref" href="#st':824"><span class="id" title="binder">st'</span></a> <a id="m':825" class="idref" href="#m':825"><span class="id" title="binder">m'</span></a> <a id="b':826" class="idref" href="#b':826"><span class="id" title="binder">b'</span></a> <a id="os:827" class="idref" href="#os:827"><span class="id" title="binder">os</span></a> <a id="X:828" class="idref" href="#X:828"><span class="id" title="binder">X</span></a> <a id="n:829" class="idref" href="#n:829"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#X:828"><span class="id" title="variable">X</span></a> <a class="idref" href="SpecCT.html#c:823"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:818"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#X:828"><span class="id" title="variable">X</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:829"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:819"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:820"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:821"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:822"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:823"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#X:828"><span class="id" title="variable">X</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:829"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st':824"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':825"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':826"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:827"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:818"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:819"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:820"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:821"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:822"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:823"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#X:828"><span class="id" title="variable">X</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#st:819"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#X:828"><span class="id" title="variable">X</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st':824"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':825"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':826"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:827"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">st</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">c</span> <span class="id" title="var">st'</span> <span class="id" title="var">m'</span> <span class="id" title="var">b'</span> <span class="id" title="var">os</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span> <span class="id" title="var">Hu</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#ideal_unused_overwrite"><span class="id" title="lemma">ideal_unused_overwrite</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">X</span>:=<span class="id" title="var">X</span>) (<span class="id" title="var">n</span>:=(<span class="id" title="var">st</span> <span class="id" title="var">X</span>)) <span class="id" title="keyword">in</span> <span class="id" title="var">Heval</span>; [| <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_shadow</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="ideal_unused_update_rev" class="idref" href="#ideal_unused_update_rev"><span class="id" title="lemma">ideal_unused_update_rev</span></a> : <span class="id" title="keyword">∀</span> <a id="P:830" class="idref" href="#P:830"><span class="id" title="binder">P</span></a> <a id="st:831" class="idref" href="#st:831"><span class="id" title="binder">st</span></a> <a id="m:832" class="idref" href="#m:832"><span class="id" title="binder">m</span></a> <a id="b:833" class="idref" href="#b:833"><span class="id" title="binder">b</span></a> <a id="ds:834" class="idref" href="#ds:834"><span class="id" title="binder">ds</span></a> <a id="c:835" class="idref" href="#c:835"><span class="id" title="binder">c</span></a> <a id="st':836" class="idref" href="#st':836"><span class="id" title="binder">st'</span></a> <a id="m':837" class="idref" href="#m':837"><span class="id" title="binder">m'</span></a> <a id="b':838" class="idref" href="#b':838"><span class="id" title="binder">b'</span></a> <a id="os:839" class="idref" href="#os:839"><span class="id" title="binder">os</span></a> <a id="X:840" class="idref" href="#X:840"><span class="id" title="binder">X</span></a> <a id="n:841" class="idref" href="#n:841"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#X:840"><span class="id" title="variable">X</span></a> <a class="idref" href="SpecCT.html#c:835"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:830"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:831"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:832"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:833"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:834"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:835"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#X:840"><span class="id" title="variable">X</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#st:831"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#X:840"><span class="id" title="variable">X</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st':836"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':837"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':838"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:839"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:830"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#X:840"><span class="id" title="variable">X</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:841"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st:831"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:832"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:833"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:834"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:835"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#X:840"><span class="id" title="variable">X</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#n:841"><span class="id" title="variable">n</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st':836"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':837"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':838"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:839"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">st</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">c</span> <span class="id" title="var">st'</span> <span class="id" title="var">m'</span> <span class="id" title="var">b'</span> <span class="id" title="var">os</span> <span class="id" title="var">X</span> <span class="id" title="var">n</span> <span class="id" title="var">Hu</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#ideal_unused_overwrite"><span class="id" title="lemma">ideal_unused_overwrite</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_shadow</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">eassumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
The backwards compiler correctness proof uses <span class="inlinecode"><span class="id" title="var">size_ind</span></span>: 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="sel_slh_compiler_correctness_prop" class="idref" href="#sel_slh_compiler_correctness_prop"><span class="id" title="definition">sel_slh_compiler_correctness_prop</span></a> (<a id="c:842" class="idref" href="#c:842"><span class="id" title="binder">c</span></a>:<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) (<a id="ds:843" class="idref" href="#ds:843"><span class="id" title="binder">ds</span></a>:<a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:844" class="idref" href="#P:844"><span class="id" title="binder">P</span></a> <a id="st:845" class="idref" href="#st:845"><span class="id" title="binder">st</span></a> <a id="m:846" class="idref" href="#m:846"><span class="id" title="binder">m</span></a> (<a id="b:847" class="idref" href="#b:847"><span class="id" title="binder">b</span></a>: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="st':848" class="idref" href="#st':848"><span class="id" title="binder">st'</span></a> <a id="m':849" class="idref" href="#m':849"><span class="id" title="binder">m'</span></a> <a id="b':850" class="idref" href="#b':850"><span class="id" title="binder">b'</span></a> <a id="os:851" class="idref" href="#os:851"><span class="id" title="binder">os</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#c:842"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#st:845"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#b:847"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:845"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:846"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:847"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:843"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:844"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c:842"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':848"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':849"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':850"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:851"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:844"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">i</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:845"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:846"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:847"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:843"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:842"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#st:845"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#st':848"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':849"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':850"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:851"><span class="id" title="variable">os</span></a><a class="idref" href="SpecCT.html#073fddb2fdd829973cfdfcbecf64580e"><span class="id" title="notation">)&gt;</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="sel_slh_compiler_correctness" class="idref" href="#sel_slh_compiler_correctness"><span class="id" title="lemma">sel_slh_compiler_correctness</span></a> : <span class="id" title="keyword">∀</span> <a id="c:852" class="idref" href="#c:852"><span class="id" title="binder">c</span></a> <a id="ds:853" class="idref" href="#ds:853"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#sel_slh_compiler_correctness_prop"><span class="id" title="definition">sel_slh_compiler_correctness_prop</span></a> <a class="idref" href="SpecCT.html#c:852"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#ds:853"><span class="id" title="variable">ds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#size_ind"><span class="id" title="lemma">size_ind</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#sel_slh_compiler_correctness_prop"><span class="id" title="definition">sel_slh_compiler_correctness_prop</span></a>.<br/>
<div class="togglescript" id="proofcontrol14" onclick="toggleDisplay('proof14');toggleDisplay('proofcontrol14')"><span class="show"></span></div>
<div class="proofscript" id="proof14" onclick="toggleDisplay('proof14');toggleDisplay('proofcontrol14')">
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">ds</span> <span class="id" title="var">IH</span> <span class="id" title="var">P</span> <span class="id" title="var">st</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">st'</span> <span class="id" title="var">m'</span> <span class="id" title="var">b'</span> <span class="id" title="var">os</span> <span class="id" title="var">Hunused</span> <span class="id" title="var">Hstb</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Heval</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heval</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>); <span class="id" title="tactic">discriminate</span>).<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Skip&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_Skip"><span class="id" title="constructor">Ideal_Skip</span></a>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Asgn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_permute</span>; [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Seq&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Ideal_Seq"><span class="id" title="constructor">Ideal_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#sel_slh_flag"><span class="id" title="lemma">sel_slh_flag</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>1</sub></span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hstb'0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#ideal_unused_update_rev"><span class="id" title="lemma">ideal_unused_update_rev</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;IF&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;non-speculative&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_If"><span class="id" title="constructor">Ideal_If</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;analog&nbsp;to&nbsp;false&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_If"><span class="id" title="constructor">Ideal_If</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;speculative&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_If_F"><span class="id" title="constructor">Ideal_If_F</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#ideal_unused_update"><span class="id" title="lemma">ideal_unused_update</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;analog&nbsp;to&nbsp;false&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_If_F"><span class="id" title="constructor">Ideal_If_F</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#ideal_unused_update"><span class="id" title="lemma">ideal_unused_update</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;While&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Ideal_While"><span class="id" title="constructor">Ideal_While</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>11</sub></span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;non-speculative&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Lnil</span>: <span class="id" title="var">os<sub>2</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">ds<sub>2</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Lnil</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_If"><span class="id" title="constructor">Ideal_If</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_Skip"><span class="id" title="constructor">Ideal_Skip</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>2</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>2</sub></span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hwhile</span>: <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds<sub>2</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <span class="id" title="var">P</span> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">os<sub>2</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">replace</span> <span class="id" title="var">ds<sub>2</sub></span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ds<sub>2</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)%<span class="id" title="var">list</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">os<sub>2</sub></span> <span class="id" title="keyword">with</span> (<span class="id" title="var">os<sub>2</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)%<span class="id" title="var">list</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a>; <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Ideal_Seq"><span class="id" title="constructor">Ideal_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">size_auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hwhile</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#ideal_unused_update_rev"><span class="id" title="lemma">ideal_unused_update_rev</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#sel_slh_flag"><span class="id" title="lemma">sel_slh_flag</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;speculative;&nbsp;analog&nbsp;to&nbsp;non_speculative&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Lnil</span>: <span class="id" title="var">os<sub>2</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">ds<sub>2</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Lnil</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_If_F"><span class="id" title="constructor">Ideal_If_F</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>2</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>2</sub></span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">Hwhile</span>: <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'1</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds<sub>2</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <span class="id" title="var">P</span> <a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation">&lt;<span style='letter-spacing:-.4em;'>{</span>{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#b980709f1dd80c7e5c312e7bff2251bf"><span class="id" title="notation"><span style='letter-spacing:-.4em;'>}</span>}&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">os<sub>2</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">replace</span> <span class="id" title="var">ds<sub>2</sub></span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ds<sub>2</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)%<span class="id" title="var">list</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">os<sub>2</sub></span> <span class="id" title="keyword">with</span> (<span class="id" title="var">os<sub>2</sub></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>)%<span class="id" title="var">list</span> <span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a>; <span class="id" title="var">eassumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Ideal_Seq"><span class="id" title="constructor">Ideal_Seq</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#ideal_unused_update"><span class="id" title="lemma">ideal_unused_update</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>; [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">size_auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hwhile</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#ideal_unused_update_rev"><span class="id" title="lemma">ideal_unused_update_rev</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">size_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#sel_slh_flag"><span class="id" title="lemma">sel_slh_flag</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H<sub>13</sub></span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>12</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>12</sub></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>10</sub></span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_shadow</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_Skip"><span class="id" title="constructor">Ideal_Skip</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;ALoad&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Spec_ALoad;&nbsp;public&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>1</sub></span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H<sub>0</sub></span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H<sub>0</sub></span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="comment">(*&nbsp;Ideal_ALoad&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; [| <span class="id" title="tactic">tauto</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hstb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_shadow</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_permute</span>; [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_eq</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hstb</span> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> (<a class="idref" href="SpecCT.html#bool_to_nat"><span class="id" title="definition">bool_to_nat</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#bool_to_nat"><span class="id" title="definition">bool_to_nat</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <span class="id" title="var">b'</span> <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> 0)%<span class="id" title="var">nat</span>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> 0))) <span class="id" title="keyword">with</span> (<span class="id" title="var">b'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">(</span></a><span class="id" title="var">P</span> <span class="id" title="var">x</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Ideal_ALoad"><span class="id" title="constructor">Ideal_ALoad</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="comment">(*&nbsp;Ideal_ALoad_U&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_neq</span>; [| <span class="id" title="tactic">tauto</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hstb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_shadow</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_permute</span>; [| <span class="id" title="tactic">tauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hstb</span> <span class="id" title="tactic">at</span> 1. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">x</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 0<span class="id" title="notation">;</span> <span class="id" title="var">st</span>) <span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <span class="id" title="keyword">if</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="keyword">then</span> 0 <span class="id" title="keyword">else</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">i'</span> (<span class="id" title="var">m'</span> <span class="id" title="var">a'</span>) 0<span class="id" title="notation">;</span> <span class="id" title="var">st</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Ideal_ALoad_U"><span class="id" title="constructor">Ideal_ALoad_U</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Spec_ALoad;&nbsp;secret*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_permute</span>; [| <span class="id" title="tactic">tauto</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">x</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">i</span>) (<span class="id" title="var">m'</span> <span class="id" title="var">a</span>) 0<span class="id" title="notation">;</span> <span class="id" title="var">st</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <span class="id" title="keyword">if</span> <span class="id" title="var">b'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="keyword">then</span> 0 <span class="id" title="keyword">else</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">i</span>) (<span class="id" title="var">m'</span> <span class="id" title="var">a</span>) 0<span class="id" title="notation">;</span> <span class="id" title="var">st</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">b'</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Ideal_ALoad"><span class="id" title="constructor">Ideal_ALoad</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Spec_ALoad_U&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">P</span> <span class="id" title="var">x</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_permute</span>; [| <span class="id" title="tactic">tauto</span>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">x</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">i'</span> (<span class="id" title="var">m'</span> <span class="id" title="var">a'</span>) 0<span class="id" title="notation">;</span> <span class="id" title="var">st</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">x</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <span class="id" title="keyword">if</span> <span class="id" title="var">P</span> <span class="id" title="var">x</span> <span class="id" title="keyword">then</span> 0 <span class="id" title="keyword">else</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">i'</span> (<span class="id" title="var">m'</span> <span class="id" title="var">a'</span>) 0<span class="id" title="notation">;</span> <span class="id" title="var">st</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Ideal_ALoad_U"><span class="id" title="constructor">Ideal_ALoad_U</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;AStore&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Spec_AStore&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_AStore"><span class="id" title="constructor">Ideal_AStore</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Spec_AStore_U&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="axiom">t_update_same</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Ideal_AStore_U"><span class="id" title="constructor">Ideal_AStore_U</span></a>; <span class="id" title="tactic">tauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div class="doc">
<a id="lab99"></a><h2 class="section">Speculative constant-time security for Selective SLH</h2>

<div class="paragraph"> </div>

 Finally, we use compiler correctness and <span class="inlinecode"><span class="id" title="var">spec_ct_secure</span></span> for the ideal
    semantics to prove <span class="inlinecode"><span class="id" title="var">spec_ct_secure</span></span> for <span class="inlinecode"><span class="id" title="var">sel_slh</span></span>. 
</div>
<div class="code">

<span class="id" title="keyword">Theorem</span> <a id="sel_slh_spec_ct_secure" class="idref" href="#sel_slh_spec_ct_secure"><span class="id" title="lemma">sel_slh_spec_ct_secure</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:854" class="idref" href="#P:854"><span class="id" title="binder">P</span></a> <a id="PA:855" class="idref" href="#PA:855"><span class="id" title="binder">PA</span></a> <a id="c:856" class="idref" href="#c:856"><span class="id" title="binder">c</span></a> <a id="st<sub>1</sub>:857" class="idref" href="#st<sub>1</sub>:857"><span class="id" title="binder">st<sub>1</sub></span></a> <a id="st<sub>2</sub>:858" class="idref" href="#st<sub>2</sub>:858"><span class="id" title="binder">st<sub>2</sub></span></a> <a id="m<sub>1</sub>:859" class="idref" href="#m<sub>1</sub>:859"><span class="id" title="binder">m<sub>1</sub></span></a> <a id="m<sub>2</sub>:860" class="idref" href="#m<sub>2</sub>:860"><span class="id" title="binder">m<sub>2</sub></span></a> <a id="st<sub>1</sub>':861" class="idref" href="#st<sub>1</sub>':861"><span class="id" title="binder">st<sub>1</sub>'</span></a> <a id="st<sub>2</sub>':862" class="idref" href="#st<sub>2</sub>':862"><span class="id" title="binder">st<sub>2</sub>'</span></a> <a id="m<sub>1</sub>':863" class="idref" href="#m<sub>1</sub>':863"><span class="id" title="binder">m<sub>1</sub>'</span></a> <a id="m<sub>2</sub>':864" class="idref" href="#m<sub>2</sub>':864"><span class="id" title="binder">m<sub>2</sub>'</span></a> <a id="b<sub>1</sub>':865" class="idref" href="#b<sub>1</sub>':865"><span class="id" title="binder">b<sub>1</sub>'</span></a> <a id="b<sub>2</sub>':866" class="idref" href="#b<sub>2</sub>':866"><span class="id" title="binder">b<sub>2</sub>'</span></a> <a id="os<sub>1</sub>:867" class="idref" href="#os<sub>1</sub>:867"><span class="id" title="binder">os<sub>1</sub></span></a> <a id="os<sub>2</sub>:868" class="idref" href="#os<sub>2</sub>:868"><span class="id" title="binder">os<sub>2</sub></span></a> <a id="ds:869" class="idref" href="#ds:869"><span class="id" title="binder">ds</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#P:854"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">;;</span></a> <a class="idref" href="SpecCT.html#PA:855"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">&#x22A2;</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">ct</span></a><a class="idref" href="SpecCT.html#c9439e72577e389a3a955c83b38b5251"><span class="id" title="notation">-</span></a> <a class="idref" href="SpecCT.html#c:856"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#unused"><span class="id" title="definition">unused</span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="SpecCT.html#c:856"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#st<sub>1</sub>:857"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#st<sub>2</sub>:858"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="SpecCT.html#msf"><span class="id" title="definition">msf</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#P:854"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#st<sub>1</sub>:857"><span class="id" title="variable">st<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#st<sub>2</sub>:858"><span class="id" title="variable">st<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#pub_equiv"><span class="id" title="definition">pub_equiv</span></a> <a class="idref" href="SpecCT.html#PA:855"><span class="id" title="variable">PA</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:859"><span class="id" title="variable">m<sub>1</sub></span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:860"><span class="id" title="variable">m<sub>2</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>:857"><span class="id" title="variable">st<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>:859"><span class="id" title="variable">m<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:869"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:854"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c:856"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>1</sub>':861"><span class="id" title="variable">st<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>1</sub>':863"><span class="id" title="variable">m<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>1</sub>':865"><span class="id" title="variable">b<sub>1</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:867"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>:858"><span class="id" title="variable">st<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>:860"><span class="id" title="variable">m<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:869"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#sel_slh"><span class="id" title="definition">sel_slh</span></a> <a class="idref" href="SpecCT.html#P:854"><span class="id" title="variable">P</span></a> <a class="idref" href="SpecCT.html#c:856"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st<sub>2</sub>':862"><span class="id" title="variable">st<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m<sub>2</sub>':864"><span class="id" title="variable">m<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b<sub>2</sub>':866"><span class="id" title="variable">b<sub>2</sub>'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:868"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#os<sub>1</sub>:867"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:868"><span class="id" title="variable">os<sub>2</sub></span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">PA</span> <span class="id" title="var">c</span> <span class="id" title="var">st<sub>1</sub></span> <span class="id" title="var">st<sub>2</sub></span> <span class="id" title="var">m<sub>1</sub></span> <span class="id" title="var">m<sub>2</sub></span> <span class="id" title="var">st<sub>1</sub>'</span> <span class="id" title="var">st<sub>2</sub>'</span> <span class="id" title="var">m<sub>1</sub>'</span> <span class="id" title="var">m<sub>2</sub>'</span> <span class="id" title="var">b<sub>1</sub>'</span> <span class="id" title="var">b<sub>2</sub>'</span> <span class="id" title="var">os<sub>1</sub></span> <span class="id" title="var">os<sub>2</sub></span> <span class="id" title="var">ds</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hwt</span> <span class="id" title="var">Hunused</span> <span class="id" title="var">Hs1b</span> <span class="id" title="var">Hs2b</span> <span class="id" title="var">Hequiv</span> <span class="id" title="var">Haequiv</span> <span class="id" title="var">Heval1</span> <span class="id" title="var">Heval2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#sel_slh_compiler_correctness"><span class="id" title="lemma">sel_slh_compiler_correctness</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval1</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#sel_slh_compiler_correctness"><span class="id" title="lemma">sel_slh_compiler_correctness</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#ideal_spec_ct_secure"><span class="id" title="lemma">ideal_spec_ct_secure</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab100"></a><h1 class="section">Monadic interpreter for speculative semantics (optional; text missing)</h1>

</div>
<div class="code">

<span class="id" title="keyword">Module</span> <a id="SpecCTInterpreter" class="idref" href="#SpecCTInterpreter"><span class="id" title="module">SpecCTInterpreter</span></a>.<br/>
</div>

<div class="doc">
Since manually constructing directions for the proofs of examples is very
    time consuming, we introduce a sound monadic interpreter, which can be used
    to simplify the proofs of the examples. 
<div class="paragraph"> </div>

 The Rocq development below is complete, but the text about it is missing.
    Readers not familiar with monadic interpreters can safely skip this section. 
</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.prog_st" class="idref" href="#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a> : <span class="id" title="keyword">Type</span> :=  <a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="SpecCT.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Inductive</span> <a id="SpecCTInterpreter.output_st" class="idref" href="#SpecCTInterpreter.output_st"><span class="id" title="definition, inductive"><span id="SpecCTInterpreter.output_st_rect" class="id"><span id="SpecCTInterpreter.output_st_ind" class="id"><span id="SpecCTInterpreter.output_st_rec" class="id"><span id="SpecCTInterpreter.output_st_sind" class="id">output_st</span></span></span></span></span></a> (<a id="A:870" class="idref" href="#A:870"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>): <span class="id" title="keyword">Type</span> :=<br/>
| <a id="SpecCTInterpreter.OST_Error" class="idref" href="#SpecCTInterpreter.OST_Error"><span class="id" title="constructor">OST_Error</span></a> : <a class="idref" href="SpecCT.html#output_st:871"><span class="id" title="inductive">output_st</span></a> <a class="idref" href="SpecCT.html#A:870"><span class="id" title="variable">A</span></a><br/>
| <a id="SpecCTInterpreter.OST_OutOfFuel" class="idref" href="#SpecCTInterpreter.OST_OutOfFuel"><span class="id" title="constructor">OST_OutOfFuel</span></a> : <a class="idref" href="SpecCT.html#output_st:871"><span class="id" title="inductive">output_st</span></a> <a class="idref" href="SpecCT.html#A:870"><span class="id" title="variable">A</span></a><br/>
| <a id="SpecCTInterpreter.OST_Finished" class="idref" href="#SpecCTInterpreter.OST_Finished"><span class="id" title="constructor">OST_Finished</span></a> : <a class="idref" href="SpecCT.html#A:870"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#output_st:871"><span class="id" title="inductive">output_st</span></a> <a class="idref" href="SpecCT.html#A:870"><span class="id" title="variable">A</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.evaluator" class="idref" href="#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> (<a id="A:873" class="idref" href="#A:873"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>): <span class="id" title="keyword">Type</span> := <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#SpecCTInterpreter.output_st"><span class="id" title="inductive">output_st</span></a> <a class="idref" href="SpecCT.html#A:873"><span class="id" title="variable">A</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.interpreter" class="idref" href="#SpecCTInterpreter.interpreter"><span class="id" title="definition">interpreter</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.ret" class="idref" href="#SpecCTInterpreter.ret"><span class="id" title="definition">ret</span></a> {<a id="A:874" class="idref" href="#A:874"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} (<a id="value:875" class="idref" href="#value:875"><span class="id" title="binder">value</span></a> : <a class="idref" href="SpecCT.html#A:874"><span class="id" title="variable">A</span></a>) : <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> <a class="idref" href="SpecCT.html#A:874"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:876" class="idref" href="#pst:876"><span class="id" title="binder">pst</span></a>: <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Finished"><span class="id" title="constructor">OST_Finished</span></a> <a class="idref" href="SpecCT.html#A:874"><span class="id" title="variable">A</span></a> <a class="idref" href="SpecCT.html#value:875"><span class="id" title="variable">value</span></a> <a class="idref" href="SpecCT.html#pst:876"><span class="id" title="variable">pst</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.bind" class="idref" href="#SpecCTInterpreter.bind"><span class="id" title="definition">bind</span></a> {<a id="A:877" class="idref" href="#A:877"><span class="id" title="binder">A</span></a> : <span class="id" title="keyword">Type</span>} {<a id="B:878" class="idref" href="#B:878"><span class="id" title="binder">B</span></a> : <span class="id" title="keyword">Type</span>} (<a id="e:879" class="idref" href="#e:879"><span class="id" title="binder">e</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> <a class="idref" href="SpecCT.html#A:877"><span class="id" title="variable">A</span></a>) (<a id="f:880" class="idref" href="#f:880"><span class="id" title="binder">f</span></a> : <a class="idref" href="SpecCT.html#A:877"><span class="id" title="variable">A</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> <a class="idref" href="SpecCT.html#B:878"><span class="id" title="variable">B</span></a>): <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> <a class="idref" href="SpecCT.html#B:878"><span class="id" title="variable">B</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:881" class="idref" href="#pst:881"><span class="id" title="binder">pst</span></a>: <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#e:879"><span class="id" title="variable">e</span></a> <a class="idref" href="SpecCT.html#pst:881"><span class="id" title="variable">pst</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Finished"><span class="id" title="constructor">OST_Finished</span></a> <span class="id" title="var">_</span> <span class="id" title="var">value</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os<sub>1</sub></span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>  ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="SpecCT.html#f:880"><span class="id" title="variable">f</span></a> <span class="id" title="var">value</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os<sub>1</sub></span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Finished"><span class="id" title="constructor">OST_Finished</span></a> <span class="id" title="var">_</span> <span class="id" title="var">value</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st''</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m''</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b''</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds''</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os<sub>2</sub></span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Finished"><span class="id" title="constructor">OST_Finished</span></a> <a class="idref" href="SpecCT.html#B:878"><span class="id" title="variable">B</span></a> <span class="id" title="var">value</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st''</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m''</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b''</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds''</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os<sub>2</sub></span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">ret</span> ⇒ <span class="id" title="var">ret</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Error"><span class="id" title="constructor">OST_Error</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Error"><span class="id" title="constructor">OST_Error</span></a> <a class="idref" href="SpecCT.html#B:878"><span class="id" title="variable">B</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_OutOfFuel"><span class="id" title="constructor">OST_OutOfFuel</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_OutOfFuel"><span class="id" title="constructor">OST_OutOfFuel</span></a> <a class="idref" href="SpecCT.html#B:878"><span class="id" title="variable">B</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Notation</span> <a id="87c6568ae096fc420ea9031cd0129d0f" class="idref" href="#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&quot;</span></a>e &gt;&gt;= f" := (<a class="idref" href="SpecCT.html#SpecCTInterpreter.bind"><span class="id" title="definition">bind</span></a> <span class="id" title="var">e</span> <span class="id" title="var">f</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 58, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>
<span class="id" title="keyword">Notation</span> <a id="SpecCTInterpreter.:::x_'&gt;&gt;'_x" class="idref" href="#SpecCTInterpreter.:::x_'&gt;&gt;'_x"><span class="id" title="notation">&quot;</span></a>e &gt;&gt; f" := (<a class="idref" href="SpecCT.html#SpecCTInterpreter.bind"><span class="id" title="definition">bind</span></a> <span class="id" title="var">e</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">f</span>)) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 58, <span class="id" title="tactic">left</span> <span class="id" title="keyword">associativity</span>).<br/>
</div>

<div class="doc">
<a id="lab101"></a><h2 class="section">Helper functions for individual instructions</h2>

</div>
<div class="code">

<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.finish" class="idref" href="#SpecCTInterpreter.finish"><span class="id" title="definition">finish</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.interpreter"><span class="id" title="definition">interpreter</span></a> := <a class="idref" href="SpecCT.html#SpecCTInterpreter.ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.get_var" class="idref" href="#SpecCTInterpreter.get_var"><span class="id" title="definition">get_var</span></a> (<a id="name:882" class="idref" href="#name:882"><span class="id" title="binder">name</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>): <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:883" class="idref" href="#pst:883"><span class="id" title="binder">pst</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:883"><span class="id" title="variable">pst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.ret"><span class="id" title="definition">ret</span></a> (<span class="id" title="var">st</span> <a class="idref" href="SpecCT.html#name:882"><span class="id" title="variable">name</span></a>) <a class="idref" href="SpecCT.html#pst:883"><span class="id" title="variable">pst</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.set_var" class="idref" href="#SpecCTInterpreter.set_var"><span class="id" title="definition">set_var</span></a> (<a id="name:885" class="idref" href="#name:885"><span class="id" title="binder">name</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="value:886" class="idref" href="#value:886"><span class="id" title="binder">value</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="SpecCT.html#SpecCTInterpreter.interpreter"><span class="id" title="definition">interpreter</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:887" class="idref" href="#pst:887"><span class="id" title="binder">pst</span></a>: <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:887"><span class="id" title="variable">pst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="new_st:889" class="idref" href="#new_st:889"><span class="id" title="binder">new_st</span></a> := (<a class="idref" href="SpecCT.html#name:885"><span class="id" title="variable">name</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#value:886"><span class="id" title="variable">value</span></a><span class="id" title="notation">;</span> <span class="id" title="var">st</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.finish"><span class="id" title="definition">finish</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#new_st:889"><span class="id" title="variable">new_st</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.get_arr" class="idref" href="#SpecCTInterpreter.get_arr"><span class="id" title="definition">get_arr</span></a> (<a id="name:890" class="idref" href="#name:890"><span class="id" title="binder">name</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>): <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:891" class="idref" href="#pst:891"><span class="id" title="binder">pst</span></a>: <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:891"><span class="id" title="variable">pst</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.ret"><span class="id" title="definition">ret</span></a> (<span class="id" title="var">m</span> <a class="idref" href="SpecCT.html#name:890"><span class="id" title="variable">name</span></a>) <a class="idref" href="SpecCT.html#pst:891"><span class="id" title="variable">pst</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.set_arr" class="idref" href="#SpecCTInterpreter.set_arr"><span class="id" title="definition">set_arr</span></a> (<a id="name:893" class="idref" href="#name:893"><span class="id" title="binder">name</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<a id="value:894" class="idref" href="#value:894"><span class="id" title="binder">value</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="SpecCT.html#SpecCTInterpreter.interpreter"><span class="id" title="definition">interpreter</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:895" class="idref" href="#pst:895"><span class="id" title="binder">pst</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:895"><span class="id" title="variable">pst</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="new_m:897" class="idref" href="#new_m:897"><span class="id" title="binder">new_m</span></a> := (<a class="idref" href="SpecCT.html#name:893"><span class="id" title="variable">name</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="SpecCT.html#value:894"><span class="id" title="variable">value</span></a> <span class="id" title="notation">;</span> <span class="id" title="var">m</span>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.finish"><span class="id" title="definition">finish</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#new_m:897"><span class="id" title="variable">new_m</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.start_speculating" class="idref" href="#SpecCTInterpreter.start_speculating"><span class="id" title="definition">start_speculating</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.interpreter"><span class="id" title="definition">interpreter</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:898" class="idref" href="#pst:898"><span class="id" title="binder">pst</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:898"><span class="id" title="variable">pst</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.finish"><span class="id" title="definition">finish</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.is_speculating" class="idref" href="#SpecCTInterpreter.is_speculating"><span class="id" title="definition">is_speculating</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:900" class="idref" href="#pst:900"><span class="id" title="binder">pst</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:900"><span class="id" title="variable">pst</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.ret"><span class="id" title="definition">ret</span></a> <span class="id" title="var">b</span> <a class="idref" href="SpecCT.html#pst:900"><span class="id" title="variable">pst</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.eval_exp" class="idref" href="#SpecCTInterpreter.eval_exp"><span class="id" title="definition">eval_exp</span></a> (<a id="a:902" class="idref" href="#a:902"><span class="id" title="binder">a</span></a> : <a class="idref" href="SpecCT.html#exp"><span class="id" title="inductive">exp</span></a>) : <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:903" class="idref" href="#pst:903"><span class="id" title="binder">pst</span></a>: <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:903"><span class="id" title="variable">pst</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="v:905" class="idref" href="#v:905"><span class="id" title="binder">v</span></a> := <a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <a class="idref" href="SpecCT.html#a:902"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="SpecCT.html#v:905"><span class="id" title="variable">v</span></a> <a class="idref" href="SpecCT.html#pst:903"><span class="id" title="variable">pst</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.raise_error" class="idref" href="#SpecCTInterpreter.raise_error"><span class="id" title="definition">raise_error</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.interpreter"><span class="id" title="definition">interpreter</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Error"><span class="id" title="constructor">OST_Error</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.observe" class="idref" href="#SpecCTInterpreter.observe"><span class="id" title="definition">observe</span></a> (<a id="o:906" class="idref" href="#o:906"><span class="id" title="binder">o</span></a> : <a class="idref" href="SpecCT.html#observation"><span class="id" title="inductive">observation</span></a>) : <a class="idref" href="SpecCT.html#SpecCTInterpreter.interpreter"><span class="id" title="definition">interpreter</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:907" class="idref" href="#pst:907"><span class="id" title="binder">pst</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:907"><span class="id" title="variable">pst</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Finished"><span class="id" title="constructor">OST_Finished</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<span class="id" title="var">os</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#o:906"><span class="id" title="variable">o</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.fetch_direction" class="idref" href="#SpecCTInterpreter.fetch_direction"><span class="id" title="definition">fetch_direction</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.evaluator"><span class="id" title="definition">evaluator</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="SpecCT.html#direction"><span class="id" title="inductive">direction</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> (<a id="pst:909" class="idref" href="#pst:909"><span class="id" title="binder">pst</span></a> : <a class="idref" href="SpecCT.html#SpecCTInterpreter.prog_st"><span class="id" title="definition">prog_st</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> := <a class="idref" href="SpecCT.html#pst:909"><span class="id" title="variable">pst</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">ds</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">d</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">ds'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.ret"><span class="id" title="definition">ret</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d</span>) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.ret"><span class="id" title="definition">ret</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
<a id="lab102"></a><h2 class="section">The actual speculative interpreter</h2>

</div>
<div class="code">

<span class="id" title="keyword">Fixpoint</span> <a id="SpecCTInterpreter.spec_eval_engine_aux" class="idref" href="#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> (<a id="fuel:912" class="idref" href="#fuel:912"><span class="id" title="binder">fuel</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<a id="c:913" class="idref" href="#c:913"><span class="id" title="binder">c</span></a> : <a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) : <a class="idref" href="SpecCT.html#SpecCTInterpreter.interpreter"><span class="id" title="definition">interpreter</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#fuel:912"><span class="id" title="variable">fuel</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_OutOfFuel"><span class="id" title="constructor">OST_OutOfFuel</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">fuel</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#c:913"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.finish"><span class="id" title="definition">finish</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#91e9aa710642047a93142bdf557f1a1b"><span class="id" title="notation">:=</span></a> <span class="id" title="var">e</span> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.eval_exp"><span class="id" title="definition">eval_exp</span></a> <span class="id" title="var">e</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="v:917" class="idref" href="#v:917"><span class="id" title="binder">v</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.set_var"><span class="id" title="definition">set_var</span></a> <span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#v:917"><span class="id" title="variable">v</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <span class="id" title="var">c<sub>2</sub></span> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#spec_eval_engine_aux:914"><span class="id" title="definition">spec_eval_engine_aux</span></a> <a class="idref" href="SpecCT.html#fuel:912"><span class="id" title="variable">fuel</span></a> <span class="id" title="var">c<sub>1</sub></span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.:::x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#spec_eval_engine_aux:914"><span class="id" title="definition">spec_eval_engine_aux</span></a> <a class="idref" href="SpecCT.html#fuel:912"><span class="id" title="variable">fuel</span></a> <span class="id" title="var">c<sub>2</sub></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <span class="id" title="var">ct</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <span class="id" title="var">cf</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.eval_exp"><span class="id" title="definition">eval_exp</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="bool_value:918" class="idref" href="#bool_value:918"><span class="id" title="binder">bool_value</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.observe"><span class="id" title="definition">observe</span></a> (<a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> (<a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <a class="idref" href="SpecCT.html#bool_value:918"><span class="id" title="variable">bool_value</span></a>)) <a class="idref" href="SpecCT.html#SpecCTInterpreter.:::x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="SpecCT.html#SpecCTInterpreter.fetch_direction"><span class="id" title="definition">fetch_direction</span></a> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="dop:919" class="idref" href="#dop:919"><span class="id" title="binder">dop</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#dop:919"><span class="id" title="variable">dop</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <a class="idref" href="SpecCT.html#bool_value:918"><span class="id" title="variable">bool_value</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#spec_eval_engine_aux:914"><span class="id" title="definition">spec_eval_engine_aux</span></a> <a class="idref" href="SpecCT.html#fuel:912"><span class="id" title="variable">fuel</span></a> <span class="id" title="var">ct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#spec_eval_engine_aux:914"><span class="id" title="definition">spec_eval_engine_aux</span></a> <a class="idref" href="SpecCT.html#fuel:912"><span class="id" title="variable">fuel</span></a> <span class="id" title="var">cf</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.start_speculating"><span class="id" title="definition">start_speculating</span></a> <a class="idref" href="SpecCT.html#SpecCTInterpreter.:::x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <a class="idref" href="SpecCT.html#bool_value:918"><span class="id" title="variable">bool_value</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#spec_eval_engine_aux:914"><span class="id" title="definition">spec_eval_engine_aux</span></a> <a class="idref" href="SpecCT.html#fuel:912"><span class="id" title="variable">fuel</span></a> <span class="id" title="var">cf</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#spec_eval_engine_aux:914"><span class="id" title="definition">spec_eval_engine_aux</span></a> <a class="idref" href="SpecCT.html#fuel:912"><span class="id" title="variable">fuel</span></a> <span class="id" title="var">ct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.raise_error"><span class="id" title="definition">raise_error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <span class="id" title="var">c</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#spec_eval_engine_aux:914"><span class="id" title="definition">spec_eval_engine_aux</span></a> <a class="idref" href="SpecCT.html#fuel:912"><span class="id" title="variable">fuel</span></a> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a><a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">if</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">then</span></a> <a class="idref" href="SpecCT.html#c:913"><span class="id" title="variable">c</span></a><a class="idref" href="SpecCT.html#313afe74ec81f2da17d8e7bca3b042e<sub>7</sub>"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">while</span></a> <span class="id" title="var">be</span> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">do</span></a> <a class="idref" href="SpecCT.html#c:913"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'while'_x_'do'_x_'end'"><span class="id" title="notation">end</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">else</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'skip'"><span class="id" title="notation">skip</span></a> <a class="idref" href="SpecCT.html#:com:com_scope:'if'_x_'then'_x_'else'_x_'end'"><span class="id" title="notation">end</span></a><a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">x</span> <a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">a</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">[[</span></a><span class="id" title="var">ie</span><a class="idref" href="SpecCT.html#5d7f78d973a61a35f66b07dad8130451"><span class="id" title="notation">]]</span></a> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.eval_exp"><span class="id" title="definition">eval_exp</span></a> <span class="id" title="var">ie</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="i:921" class="idref" href="#i:921"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.observe"><span class="id" title="definition">observe</span></a> (<a class="idref" href="SpecCT.html#OALoad"><span class="id" title="constructor">OALoad</span></a> <span class="id" title="var">a</span> <a class="idref" href="SpecCT.html#i:921"><span class="id" title="variable">i</span></a>) <a class="idref" href="SpecCT.html#SpecCTInterpreter.:::x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="SpecCT.html#SpecCTInterpreter.get_arr"><span class="id" title="definition">get_arr</span></a> <span class="id" title="var">a</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="arr_a:922" class="idref" href="#arr_a:922"><span class="id" title="binder">arr_a</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.is_speculating"><span class="id" title="definition">is_speculating</span></a> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="b:923" class="idref" href="#b:923"><span class="id" title="binder">b</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.fetch_direction"><span class="id" title="definition">fetch_direction</span></a> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="dop:924" class="idref" href="#dop:924"><span class="id" title="binder">dop</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#dop:924"><span class="id" title="variable">dop</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="SpecCT.html#i:921"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="SpecCT.html#arr_a:922"><span class="id" title="variable">arr_a</span></a>)%<span class="id" title="var">nat</span> <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.set_var"><span class="id" title="definition">set_var</span></a> <span class="id" title="var">x</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="SpecCT.html#i:921"><span class="id" title="variable">i</span></a> <a class="idref" href="SpecCT.html#arr_a:922"><span class="id" title="variable">arr_a</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.raise_error"><span class="id" title="definition">raise_error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="SpecCT.html#DLoad"><span class="id" title="constructor">DLoad</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">i'</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.get_arr"><span class="id" title="definition">get_arr</span></a> <span class="id" title="var">a'</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="arr_a':926" class="idref" href="#arr_a':926"><span class="id" title="binder">arr_a'</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="SpecCT.html#i:921"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="SpecCT.html#arr_a:922"><span class="id" title="variable">arr_a</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> (<span class="id" title="var">i'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="SpecCT.html#arr_a':926"><span class="id" title="variable">arr_a'</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="SpecCT.html#b:923"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.set_var"><span class="id" title="definition">set_var</span></a> <span class="id" title="var">x</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Lists.ListDef.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">i'</span> <a class="idref" href="SpecCT.html#arr_a':926"><span class="id" title="variable">arr_a'</span></a> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.raise_error"><span class="id" title="definition">raise_error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.raise_error"><span class="id" title="definition">raise_error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">&lt;{</span></a> <span class="id" title="var">a</span><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">[</span></a><span class="id" title="var">ie</span><a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">]</span></a> <a class="idref" href="SpecCT.html#78f8c68be5d58b21aed16797e33628b<sub>0</sub>"><span class="id" title="notation">&lt;-</span></a> <span class="id" title="var">e</span> <a class="idref" href="SpecCT.html#23430cd9e427d30c054d4f029e39cb7f"><span class="id" title="notation">}&gt;</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.eval_exp"><span class="id" title="definition">eval_exp</span></a> <span class="id" title="var">ie</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="i:927" class="idref" href="#i:927"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.observe"><span class="id" title="definition">observe</span></a> (<a class="idref" href="SpecCT.html#OAStore"><span class="id" title="constructor">OAStore</span></a> <span class="id" title="var">a</span> <a class="idref" href="SpecCT.html#i:927"><span class="id" title="variable">i</span></a>) <a class="idref" href="SpecCT.html#SpecCTInterpreter.:::x_'&gt;&gt;'_x"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="SpecCT.html#SpecCTInterpreter.get_arr"><span class="id" title="definition">get_arr</span></a> <span class="id" title="var">a</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="arr_a:928" class="idref" href="#arr_a:928"><span class="id" title="binder">arr_a</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.eval_exp"><span class="id" title="definition">eval_exp</span></a> <span class="id" title="var">e</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="n:929" class="idref" href="#n:929"><span class="id" title="binder">n</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.is_speculating"><span class="id" title="definition">is_speculating</span></a> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="b:930" class="idref" href="#b:930"><span class="id" title="binder">b</span></a> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.fetch_direction"><span class="id" title="definition">fetch_direction</span></a> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <a id="dop:931" class="idref" href="#dop:931"><span class="id" title="binder">dop</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#dop:931"><span class="id" title="variable">dop</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="SpecCT.html#i:927"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="SpecCT.html#arr_a:928"><span class="id" title="variable">arr_a</span></a>)%<span class="id" title="var">nat</span> <span class="id" title="keyword">then</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.set_arr"><span class="id" title="definition">set_arr</span></a> <span class="id" title="var">a</span> (<a class="idref" href="SpecCT.html#upd"><span class="id" title="definition">upd</span></a> <a class="idref" href="SpecCT.html#i:927"><span class="id" title="variable">i</span></a> <a class="idref" href="SpecCT.html#arr_a:928"><span class="id" title="variable">arr_a</span></a> <a class="idref" href="SpecCT.html#n:929"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.raise_error"><span class="id" title="definition">raise_error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="SpecCT.html#DStore"><span class="id" title="constructor">DStore</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">i'</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.get_arr"><span class="id" title="definition">get_arr</span></a> <span class="id" title="var">a'</span> <a class="idref" href="SpecCT.html#87c6568ae096fc420ea9031cd0129d0f"><span class="id" title="notation">&gt;&gt;=</span></a> <span class="id" title="keyword">fun</span> <a id="arr_a':933" class="idref" href="#arr_a':933"><span class="id" title="binder">arr_a'</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="SpecCT.html#i:927"><span class="id" title="variable">i</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="SpecCT.html#arr_a:928"><span class="id" title="variable">arr_a</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> (<span class="id" title="var">i'</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">List.length</span></a> <a class="idref" href="SpecCT.html#arr_a':933"><span class="id" title="variable">arr_a'</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="SpecCT.html#b:930"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.set_arr"><span class="id" title="definition">set_arr</span></a> <span class="id" title="var">a'</span> (<a class="idref" href="SpecCT.html#upd"><span class="id" title="definition">upd</span></a> <span class="id" title="var">i'</span> <a class="idref" href="SpecCT.html#arr_a':933"><span class="id" title="variable">arr_a'</span></a> <a class="idref" href="SpecCT.html#n:929"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.raise_error"><span class="id" title="definition">raise_error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="SpecCT.html#SpecCTInterpreter.raise_error"><span class="id" title="definition">raise_error</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.compute_fuel" class="idref" href="#SpecCTInterpreter.compute_fuel"><span class="id" title="definition">compute_fuel</span></a> (<a id="c:934" class="idref" href="#c:934"><span class="id" title="binder">c</span></a> :<a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) (<a id="ds:935" class="idref" href="#ds:935"><span class="id" title="binder">ds</span></a> :<a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>) : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;2 <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#ds:935"><span class="id" title="variable">ds</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="SpecCT.html#com_size"><span class="id" title="definition">com_size</span></a> <a class="idref" href="SpecCT.html#c:934"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <a class="idref" href="SpecCT.html#ds:935"><span class="id" title="variable">ds</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#ea2ff3d561159081cea6fb2e8113cc<sub>54</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="SpecCT.html#com_size"><span class="id" title="definition">com_size</span></a> <a class="idref" href="SpecCT.html#c:934"><span class="id" title="variable">c</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Definition</span> <a id="SpecCTInterpreter.spec_eval_engine" class="idref" href="#SpecCTInterpreter.spec_eval_engine"><span class="id" title="definition">spec_eval_engine</span></a> (<a id="c:937" class="idref" href="#c:937"><span class="id" title="binder">c</span></a> : <a class="idref" href="SpecCT.html#com"><span class="id" title="inductive">com</span></a>) (<a id="st:938" class="idref" href="#st:938"><span class="id" title="binder">st</span></a> : <a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a>) (<a id="m:939" class="idref" href="#m:939"><span class="id" title="binder">m</span></a> : <a class="idref" href="SpecCT.html#mem"><span class="id" title="definition">mem</span></a>) (<a id="b:940" class="idref" href="#b:940"><span class="id" title="binder">b</span></a> : <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) (<a id="ds:941" class="idref" href="#ds:941"><span class="id" title="binder">ds</span></a> : <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="SpecCT.html#state"><span class="id" title="definition">state</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="SpecCT.html#mem"><span class="id" title="definition">mem</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac<sub>4</sub>"><span class="id" title="notation">×</span></a> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.compute_fuel"><span class="id" title="definition">compute_fuel</span></a> <a class="idref" href="SpecCT.html#c:937"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#ds:941"><span class="id" title="variable">ds</span></a>) <a class="idref" href="SpecCT.html#c:937"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#st:938"><span class="id" title="variable">st</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:939"><span class="id" title="variable">m</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:940"><span class="id" title="variable">b</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:941"><span class="id" title="variable">ds</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Finished"><span class="id" title="constructor">OST_Finished</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">ds'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> 0)%<span class="id" title="var">nat</span> <span class="id" title="keyword">then</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>

<div class="doc">
<a id="lab103"></a><h2 class="section">Soundness of the interpreter</h2>

</div>
<div class="code">

<span class="id" title="keyword">Lemma</span> <a id="SpecCTInterpreter.ltb_reflect" class="idref" href="#SpecCTInterpreter.ltb_reflect"><span class="id" title="lemma">ltb_reflect</span></a> : <span class="id" title="keyword">∀</span> <a id="n:942" class="idref" href="#n:942"><span class="id" title="binder">n</span></a> <a id="m:943" class="idref" href="#m:943"><span class="id" title="binder">m</span></a> :<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#reflect"><span class="id" title="inductive">reflect</span></a> (<a class="idref" href="SpecCT.html#n:942"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="SpecCT.html#m:943"><span class="id" title="variable">m</span></a>) (<a class="idref" href="SpecCT.html#n:942"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="SpecCT.html#m:943"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Bool.Bool.html#iff_reflect"><span class="id" title="lemma">iff_reflect</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Arith.PeanoNat.html#Nat.ltb_lt"><span class="id" title="lemma">ltb_lt</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="SpecCTInterpreter.eqb_reflect" class="idref" href="#SpecCTInterpreter.eqb_reflect"><span class="id" title="lemma">eqb_reflect</span></a>: <span class="id" title="keyword">∀</span> <a id="n:944" class="idref" href="#n:944"><span class="id" title="binder">n</span></a> <a id="m:945" class="idref" href="#m:945"><span class="id" title="binder">m</span></a> :<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#reflect"><span class="id" title="inductive">reflect</span></a> (<a class="idref" href="SpecCT.html#n:944"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#m:945"><span class="id" title="variable">m</span></a> ) (<a class="idref" href="SpecCT.html#n:944"><span class="id" title="variable">n</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> <a class="idref" href="SpecCT.html#m:945"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">n</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Bool.Bool.html#iff_reflect"><span class="id" title="lemma">iff_reflect</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Arith.PeanoNat.html#Nat.eqb_eq"><span class="id" title="lemma">eqb_eq</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Lemma</span> <a id="SpecCTInterpreter.spec_eval_engine_aux_sound" class="idref" href="#SpecCTInterpreter.spec_eval_engine_aux_sound"><span class="id" title="lemma">spec_eval_engine_aux_sound</span></a> : <span class="id" title="keyword">∀</span> <a id="n:946" class="idref" href="#n:946"><span class="id" title="binder">n</span></a> <a id="c:947" class="idref" href="#c:947"><span class="id" title="binder">c</span></a> <a id="st:948" class="idref" href="#st:948"><span class="id" title="binder">st</span></a> <a id="m:949" class="idref" href="#m:949"><span class="id" title="binder">m</span></a> <a id="b:950" class="idref" href="#b:950"><span class="id" title="binder">b</span></a> <a id="ds:951" class="idref" href="#ds:951"><span class="id" title="binder">ds</span></a> <a id="os:952" class="idref" href="#os:952"><span class="id" title="binder">os</span></a> <a id="st':953" class="idref" href="#st':953"><span class="id" title="binder">st'</span></a> <a id="m':954" class="idref" href="#m':954"><span class="id" title="binder">m'</span></a> <a id="b':955" class="idref" href="#b':955"><span class="id" title="binder">b'</span></a> <a id="ds':956" class="idref" href="#ds':956"><span class="id" title="binder">ds'</span></a> <a id="os':957" class="idref" href="#os':957"><span class="id" title="binder">os'</span></a> <a id="u:958" class="idref" href="#u:958"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> <a class="idref" href="SpecCT.html#n:946"><span class="id" title="variable">n</span></a> <a class="idref" href="SpecCT.html#c:947"><span class="id" title="variable">c</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#st:948"><span class="id" title="variable">st</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:949"><span class="id" title="variable">m</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:950"><span class="id" title="variable">b</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:951"><span class="id" title="variable">ds</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os:952"><span class="id" title="variable">os</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#SpecCTInterpreter.OST_Finished"><span class="id" title="constructor">OST_Finished</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> <a class="idref" href="SpecCT.html#u:958"><span class="id" title="variable">u</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#st':953"><span class="id" title="variable">st'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':954"><span class="id" title="variable">m'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':955"><span class="id" title="variable">b'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds':956"><span class="id" title="variable">ds'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os':957"><span class="id" title="variable">os'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="dsn:959" class="idref" href="#dsn:959"><span class="id" title="binder">dsn</span></a> <a id="osn:960" class="idref" href="#osn:960"><span class="id" title="binder">osn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="SpecCT.html#dsn:959"><span class="id" title="variable">dsn</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="SpecCT.html#ds':956"><span class="id" title="variable">ds'</span></a>)%<span class="id" title="var">list</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#ds:951"><span class="id" title="variable">ds</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> (<a class="idref" href="SpecCT.html#os:952"><span class="id" title="variable">os</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><a class="idref" href="SpecCT.html#osn:960"><span class="id" title="variable">osn</span></a>)%<span class="id" title="var">list</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="SpecCT.html#os':957"><span class="id" title="variable">os'</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:948"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:949"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:950"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#dsn:959"><span class="id" title="variable">dsn</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:947"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':953"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':954"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':955"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#osn:960"><span class="id" title="variable">osn</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">n'</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">st</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">os</span> <span class="id" title="var">st'</span> <span class="id" title="var">m'</span> <span class="id" title="var">b'</span> <span class="id" title="var">ds'</span> <span class="id" title="var">os'</span> <span class="id" title="var">u</span> <span class="id" title="var">Haux</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>; [<span class="id" title="tactic">discriminate</span> |].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">X</span> <span class="id" title="var">e</span> | <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="var">c<sub>2</sub></span> | <span class="id" title="var">be</span> <span class="id" title="var">ct</span> <span class="id" title="var">cf</span> | <span class="id" title="var">be</span> <span class="id" title="var">cw</span> | <span class="id" title="var">X</span> <span class="id" title="var">a</span> <span class="id" title="var">ie</span> | <span class="id" title="var">a</span> <span class="id" title="var">ie</span> <span class="id" title="var">e</span> ] <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnc</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> "&gt;&gt;=" <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Skip&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Spec_Skip"><span class="id" title="constructor">Spec_Skip</span></a>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Asgn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="tactic">∃</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Spec_Asgn"><span class="id" title="constructor">Spec_Asgn</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> <span class="id" title="var">_</span> <span class="id" title="var">c<sub>1</sub></span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hc<sub>1</sub></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [ [ [<span class="id" title="var">stm</span> <span class="id" title="var">mm</span>] <span class="id" title="var">bm</span>] <span class="id" title="var">dsm</span>] <span class="id" title="var">osm</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> <span class="id" title="var">_</span> <span class="id" title="var">c<sub>2</sub></span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hc<sub>2</sub></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [ [ [<span class="id" title="var">stt</span> <span class="id" title="var">mt</span>] <span class="id" title="var">bt</span>] <span class="id" title="var">dst</span>] <span class="id" title="var">ost</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hc<sub>1</sub></span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc<sub>1</sub></span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ds<sub>1</sub></span> [ <span class="id" title="var">os<sub>1</sub></span> [<span class="id" title="var">Hds1</span> [<span class="id" title="var">Hos1</span> <span class="id" title="var">Heval1</span>] ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hc<sub>2</sub></span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hc<sub>2</sub></span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ds<sub>2</sub></span> [ <span class="id" title="var">os<sub>2</sub></span> [<span class="id" title="var">Hds2</span> [<span class="id" title="var">Hos2</span> <span class="id" title="var">Heval2</span>] ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">∃</span> (<span class="id" title="var">ds<sub>1</sub></span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><span class="id" title="var">ds<sub>2</sub></span>)%<span class="id" title="var">list</span>; <span class="id" title="tactic">∃</span> (<span class="id" title="var">os<sub>1</sub></span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><span class="id" title="var">os<sub>2</sub></span>)%<span class="id" title="var">list</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_Seq"><span class="id" title="constructor">Spec_Seq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;IF&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ds</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">d</span> <span class="id" title="var">ds_tl</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnds</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnd</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;DStep&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a>, <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>, <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> <span class="id" title="var">n'</span> <span class="id" title="var">cf</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds_tl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<span class="id" title="var">os</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hcf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [ [ [<span class="id" title="var">stt</span> <span class="id" title="var">mt</span>] <span class="id" title="var">bt</span>] <span class="id" title="var">dst</span>] <span class="id" title="var">ost</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hcf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">dst</span> [ <span class="id" title="var">ost</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Hos</span> <span class="id" title="var">Heval</span>] ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">dst</span>); <span class="id" title="tactic">∃</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><span class="id" title="var">ost</span>)%<span class="id" title="var">list</span>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hos</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="SpecCT.html#not_zero_eval_O"><span class="id" title="lemma">not_zero_eval_O</span></a>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Spec_If"><span class="id" title="constructor">Spec_If</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heval</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a>, <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>, <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> <span class="id" title="var">n'</span> <span class="id" title="var">ct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds_tl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<span class="id" title="var">os</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [ [ [<span class="id" title="var">stt</span> <span class="id" title="var">mt</span>] <span class="id" title="var">bt</span>] <span class="id" title="var">dst</span>] <span class="id" title="var">ost</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hct</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">dst</span> [ <span class="id" title="var">ost</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Hos</span> <span class="id" title="var">Heval</span>] ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">dst</span>); <span class="id" title="tactic">∃</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><span class="id" title="var">ost</span>)%<span class="id" title="var">list</span>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hos</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="SpecCT.html#not_zero_eval_S"><span class="id" title="lemma">not_zero_eval_S</span></a>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Spec_If"><span class="id" title="constructor">Spec_If</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heval</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;DForce&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">be</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnbe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a>, <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>, <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> <span class="id" title="var">n'</span> <span class="id" title="var">ct</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds_tl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<span class="id" title="var">os</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hcf</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [ [ [<span class="id" title="var">stt</span> <span class="id" title="var">mt</span>] <span class="id" title="var">bt</span>] <span class="id" title="var">dst</span>] <span class="id" title="var">ost</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hcf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcf</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">dst</span> [ <span class="id" title="var">ost</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Hos</span> <span class="id" title="var">Heval</span>] ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">dst</span>); <span class="id" title="tactic">∃</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><span class="id" title="var">ost</span>)%<span class="id" title="var">list</span>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hos</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="SpecCT.html#not_zero_eval_O"><span class="id" title="lemma">not_zero_eval_O</span></a>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Spec_If_F"><span class="id" title="constructor">Spec_If_F</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heval</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#obs"><span class="id" title="definition">obs</span></a>, <a class="idref" href="SpecCT.html#dirs"><span class="id" title="definition">dirs</span></a>, <a class="idref" href="SpecCT.html#not_zero"><span class="id" title="definition">not_zero</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> <span class="id" title="var">n'</span> <span class="id" title="var">cf</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds_tl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> (<span class="id" title="var">os</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)%<span class="id" title="var">list</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hct</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [ [ [<span class="id" title="var">stt</span> <span class="id" title="var">mt</span>] <span class="id" title="var">bt</span>] <span class="id" title="var">dst</span>] <span class="id" title="var">ost</span>]; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hct</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">dst</span> [ <span class="id" title="var">ost</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Hos</span> <span class="id" title="var">Heval</span>] ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">dst</span>); <span class="id" title="tactic">∃</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OBranch"><span class="id" title="constructor">OBranch</span></a> <a class="idref" href="SpecCT.html#:::'true'"><span class="id" title="notation">true</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c<sub>6</sub>"><span class="id" title="notation">++</span></a><span class="id" title="var">ost</span>)%<span class="id" title="var">list</span>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hds</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hos</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">erewrite</span> &lt;- <a class="idref" href="SpecCT.html#not_zero_eval_S"><span class="id" title="lemma">not_zero_eval_S</span></a>; [| <span class="id" title="var">eassumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#Spec_If_F"><span class="id" title="constructor">Spec_If_F</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Eqnbe</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heval</span>. }<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;While&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Haux</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">dst</span> [ <span class="id" title="var">ost</span> [<span class="id" title="var">Hds</span> [<span class="id" title="var">Hos</span> <span class="id" title="var">Heval</span>] ] ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">dst</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">ost</span>; <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">split</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;ALoad&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ds</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">d</span> <span class="id" title="var">ds_tl</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnds</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnd</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;DStep&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> (<span class="id" title="var">m</span> <span class="id" title="var">a</span>))%<span class="id" title="var">nat</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnindex</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.observe"><span class="id" title="definition">observe</span></a> (<a class="idref" href="SpecCT.html#OALoad"><span class="id" title="constructor">OALoad</span></a> <span class="id" title="var">a</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds_tl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqbobs</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">eexists</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OALoad"><span class="id" title="constructor">OALoad</span></a> <span class="id" title="var">a</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_ALoad"><span class="id" title="constructor">Spec_ALoad</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.ltb_reflect"><span class="id" title="lemma">ltb_reflect</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">m'</span> <span class="id" title="var">a</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span> | <span class="id" title="var">Hgeq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;DForce&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> (<span class="id" title="var">m</span> <span class="id" title="var">a</span>))%<span class="id" title="var">nat</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnindex1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<span class="id" title="var">i</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> (<span class="id" title="var">m</span> <span class="id" title="var">a<sub>0</sub></span>))%<span class="id" title="var">nat</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnindex2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnb</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DLoad"><span class="id" title="constructor">DLoad</span></a> <span class="id" title="var">a<sub>0</sub></span> <span class="id" title="var">i</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">eexists</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OALoad"><span class="id" title="constructor">OALoad</span></a> <span class="id" title="var">a</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_ALoad_U"><span class="id" title="constructor">Spec_ALoad_U</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.ltb_reflect"><span class="id" title="lemma">ltb_reflect</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">m'</span> <span class="id" title="var">a</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span> | <span class="id" title="var">Hgeq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Arith.Compare_dec.html#not_lt"><span class="id" title="lemma">not_lt</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hgeq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hgeq</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.ltb_reflect"><span class="id" title="lemma">ltb_reflect</span></a> <span class="id" title="var">i</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">m'</span> <span class="id" title="var">a<sub>0</sub></span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span> | <span class="id" title="var">Hgeq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hlt</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;AStore&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ds</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">d</span> <span class="id" title="var">ds_tl</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnds</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">d</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnd</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;DStep&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> (<span class="id" title="var">m</span> <span class="id" title="var">a</span>))%<span class="id" title="var">nat</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnindex</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.observe"><span class="id" title="definition">observe</span></a> (<a class="idref" href="SpecCT.html#OAStore"><span class="id" title="constructor">OAStore</span></a> <span class="id" title="var">a</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span>)) <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">st</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">m</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds_tl</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">os</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqbobs</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">eexists</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OAStore"><span class="id" title="constructor">OAStore</span></a> <span class="id" title="var">a</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st'</span> <span class="id" title="var">ie</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_AStore"><span class="id" title="constructor">Spec_AStore</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.ltb_reflect"><span class="id" title="lemma">ltb_reflect</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st'</span> <span class="id" title="var">ie</span>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">m</span> <span class="id" title="var">a</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span> | <span class="id" title="var">Hgeq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;DForce&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>  (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st</span> <span class="id" title="var">ie</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> (<span class="id" title="var">m</span> <span class="id" title="var">a</span>))%<span class="id" title="var">nat</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnindex1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">i</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#6b7621b45fff0af5e2b2cbb2bc2d4e1d"><span class="id" title="notation">&lt;?</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> (<span class="id" title="var">m</span> <span class="id" title="var">a<sub>0</sub></span>))%<span class="id" title="var">nat</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnindex2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnb</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Haux</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">Haux</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStore"><span class="id" title="constructor">DStore</span></a> <span class="id" title="var">a<sub>0</sub></span> <span class="id" title="var">i</span><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">eexists</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#OAStore"><span class="id" title="constructor">OAStore</span></a> <span class="id" title="var">a</span> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st'</span> <span class="id" title="var">ie</span>)<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>; <span class="id" title="tactic">split</span>;[| <span class="id" title="tactic">split</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="SpecCT.html#Spec_AStore_U"><span class="id" title="constructor">Spec_AStore_U</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.ltb_reflect"><span class="id" title="lemma">ltb_reflect</span></a> (<a class="idref" href="SpecCT.html#eval"><span class="id" title="definition">eval</span></a> <span class="id" title="var">st'</span> <span class="id" title="var">ie</span>) (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">m</span> <span class="id" title="var">a</span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span> | <span class="id" title="var">Hgeq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Arith.Compare_dec.html#not_lt"><span class="id" title="lemma">not_lt</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hgeq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hgeq</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.ltb_reflect"><span class="id" title="lemma">ltb_reflect</span></a> <span class="id" title="var">i</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> (<span class="id" title="var">m</span> <span class="id" title="var">a<sub>0</sub></span>))) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hlt</span> | <span class="id" title="var">Hgeq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hlt</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">discriminate</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">Theorem</span> <a id="SpecCTInterpreter.spec_eval_engine_sound" class="idref" href="#SpecCTInterpreter.spec_eval_engine_sound"><span class="id" title="lemma">spec_eval_engine_sound</span></a>: <span class="id" title="keyword">∀</span> <a id="c:961" class="idref" href="#c:961"><span class="id" title="binder">c</span></a> <a id="st:962" class="idref" href="#st:962"><span class="id" title="binder">st</span></a> <a id="m:963" class="idref" href="#m:963"><span class="id" title="binder">m</span></a> <a id="b:964" class="idref" href="#b:964"><span class="id" title="binder">b</span></a> <a id="ds:965" class="idref" href="#ds:965"><span class="id" title="binder">ds</span></a> <a id="st':966" class="idref" href="#st':966"><span class="id" title="binder">st'</span></a> <a id="m':967" class="idref" href="#m':967"><span class="id" title="binder">m'</span></a> <a id="b':968" class="idref" href="#b':968"><span class="id" title="binder">b'</span></a> <a id="os':969" class="idref" href="#os':969"><span class="id" title="binder">os'</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine"><span class="id" title="definition">spec_eval_engine</span></a> <a class="idref" href="SpecCT.html#c:961"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#st:962"><span class="id" title="variable">st</span></a> <a class="idref" href="SpecCT.html#m:963"><span class="id" title="variable">m</span></a> <a class="idref" href="SpecCT.html#b:964"><span class="id" title="variable">b</span></a> <a class="idref" href="SpecCT.html#ds:965"><span class="id" title="variable">ds</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="SpecCT.html#st':966"><span class="id" title="variable">st'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':967"><span class="id" title="variable">m'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':968"><span class="id" title="variable">b'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os':969"><span class="id" title="variable">os'</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st:962"><span class="id" title="variable">st</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m:963"><span class="id" title="variable">m</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b:964"><span class="id" title="variable">b</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#ds:965"><span class="id" title="variable">ds</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#c:961"><span class="id" title="variable">c</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><a class="idref" href="SpecCT.html#st':966"><span class="id" title="variable">st'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#m':967"><span class="id" title="variable">m'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#b':968"><span class="id" title="variable">b'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os':969"><span class="id" title="variable">os'</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> .<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">c</span> <span class="id" title="var">st</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">ds</span> <span class="id" title="var">st'</span> <span class="id" title="var">m'</span> <span class="id" title="var">b'</span> <span class="id" title="var">os'</span> <span class="id" title="var">Hengine</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine"><span class="id" title="definition">spec_eval_engine</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hengine</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux"><span class="id" title="definition">spec_eval_engine_aux</span></a> <span class="id" title="var">_</span> <span class="id" title="var">c</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnaux</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span> <span class="id" title="keyword">as</span> [ [ [ [<span class="id" title="var">stt</span> <span class="id" title="var">mt</span>] <span class="id" title="var">bt</span>] <span class="id" title="var">dst</span>] <span class="id" title="var">ost</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> ((<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <span class="id" title="var">dst</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Nat.html#ad2ec4e405f68c46c0a176e3e94ae2e<sub>3</sub>"><span class="id" title="notation">=?</span></a> 0)%<span class="id" title="var">nat</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Eqnds</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_aux_sound"><span class="id" title="lemma">spec_eval_engine_aux_sound</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Eqnaux</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Eqnaux</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">dsn</span> [<span class="id" title="var">osn</span> [<span class="id" title="var">Hdsn</span> [<span class="id" title="var">Hosn</span> <span class="id" title="var">Heval</span>] ] ] ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hengine</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_nil_l"><span class="id" title="lemma">app_nil_l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="SpecCT.html#SpecCTInterpreter.eqb_reflect"><span class="id" title="lemma">eqb_reflect</span></a> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length"><span class="id" title="abbreviation">length</span></a> <span class="id" title="var">dst</span>) 0) <span class="id" title="keyword">as</span> [<span class="id" title="var">Heq</span> | <span class="id" title="var">Hneq</span>].<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#length_zero_iff_nil"><span class="id" title="lemma">length_zero_iff_nil</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Heval</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">discriminate</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>

<div class="doc">
<a id="lab104"></a><h2 class="section">Back to showing that our example is not speculative constant-time</h2>

</div>
<div class="code">

<span class="id" title="keyword">Example</span> <a id="SpecCTInterpreter.spec_insecure_prog_2_is_spec_insecure" class="idref" href="#SpecCTInterpreter.spec_insecure_prog_2_is_spec_insecure"><span class="id" title="definition">spec_insecure_prog_2_is_spec_insecure</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="SpecCT.html#spec_ct_secure"><span class="id" title="definition">spec_ct_secure</span></a> <a class="idref" href="SpecCT.html#XYZpub"><span class="id" title="definition">XYZpub</span></a> <a class="idref" href="SpecCT.html#APpub"><span class="id" title="definition">APpub</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog_2"><span class="id" title="definition">spec_insecure_prog_2</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#spec_insecure_prog_2"><span class="id" title="definition">spec_insecure_prog_2</span></a>.<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;program&nbsp;is&nbsp;insecure&nbsp;under&nbsp;speculative&nbsp;execution.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="notation">__</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> 0) <span class="id" title="keyword">as</span> <span class="id" title="var">st</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>0<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>1<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>2<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#AS"><span class="id" title="definition">AS</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>0<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>0<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>0<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>0<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">__</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">m<sub>1</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="SpecCT.html#AP"><span class="id" title="definition">AP</span></a><span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>0<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>1<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>2<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <a class="idref" href="SpecCT.html#AS"><span class="id" title="definition">AS</span></a> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a>4<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>5<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>6<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a>7<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a><span class="id" title="notation">;</span> <span class="id" title="notation">__</span> <span class="id" title="notation">!<span class="nowrap"><span style='font-size:85%;'><span style='vertical-align:5%;'><span style='letter-spacing:-.2em;'>-</span></span>&gt;</span></span></span> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">m<sub>2</sub></span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">[</span></a><a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DForce"><span class="id" title="constructor">DForce</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DLoad"><span class="id" title="constructor">DLoad</span></a> <a class="idref" href="SpecCT.html#AS"><span class="id" title="definition">AS</span></a> 3<a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">;</span></a> <a class="idref" href="SpecCT.html#DStep"><span class="id" title="constructor">DStep</span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/stdlib//Stdlib.Lists.List.html#e76c6291366b599375c28eba0aae94bb"><span class="id" title="notation">]</span></a>) <span class="id" title="keyword">as</span> <span class="id" title="var">ds</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hsecure</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">L</span>: <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="stt1:970" class="idref" href="#stt1:970"><span class="id" title="binder"><span id="stt1:978" class="id">stt1</span></span></a> <a id="mt<sub>1</sub>:971" class="idref" href="#mt<sub>1</sub>:971"><span class="id" title="binder"><span id="mt<sub>1</sub>:979" class="id">mt<sub>1</sub></span></span></a> <a id="bt<sub>1</sub>:972" class="idref" href="#bt<sub>1</sub>:972"><span class="id" title="binder"><span id="bt<sub>1</sub>:980" class="id">bt<sub>1</sub></span></span></a> <a id="os<sub>1</sub>:973" class="idref" href="#os<sub>1</sub>:973"><span class="id" title="binder"><span id="os<sub>1</sub>:981" class="id">os<sub>1</sub></span></span></a> <a id="stt2:974" class="idref" href="#stt2:974"><span class="id" title="binder"><span id="stt2:982" class="id">stt2</span></span></a> <a id="mt<sub>2</sub>:975" class="idref" href="#mt<sub>2</sub>:975"><span class="id" title="binder"><span id="mt<sub>2</sub>:983" class="id">mt<sub>2</sub></span></span></a> <a id="bt<sub>2</sub>:976" class="idref" href="#bt<sub>2</sub>:976"><span class="id" title="binder"><span id="bt<sub>2</sub>:984" class="id">bt<sub>2</sub></span></span></a> <a id="os<sub>2</sub>:977" class="idref" href="#os<sub>2</sub>:977"><span class="id" title="binder"><span id="os<sub>2</sub>:985" class="id">os<sub>2</sub></span></span></a><a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">m<sub>1</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog_2"><span class="id" title="definition">spec_insecure_prog_2</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a> <a class="idref" href="SpecCT.html#stt1:970"><span class="id" title="variable">stt1</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#mt<sub>1</sub>:971"><span class="id" title="variable">mt<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#bt<sub>1</sub>:972"><span class="id" title="variable">bt<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>1</sub>:973"><span class="id" title="variable">os<sub>1</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a><span class="id" title="var">st</span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">m<sub>2</sub></span><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#:::'false'"><span class="id" title="notation">false</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <span class="id" title="var">ds</span> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">=[</span></a> <a class="idref" href="SpecCT.html#spec_insecure_prog_2"><span class="id" title="definition">spec_insecure_prog_2</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">]=&gt;</span></a> <a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">&lt;(</span></a> <a class="idref" href="SpecCT.html#stt2:974"><span class="id" title="variable">stt2</span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#mt<sub>2</sub>:975"><span class="id" title="variable">mt<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#bt<sub>2</sub>:976"><span class="id" title="variable">bt<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">,</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:977"><span class="id" title="variable">os<sub>2</sub></span></a><a class="idref" href="SpecCT.html#f865af67109ca842cb3177ef3e4fadcb"><span class="id" title="notation">)&gt;</span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="SpecCT.html#os<sub>1</sub>:973"><span class="id" title="variable">os<sub>1</sub></span></a> <a class="idref" href="https://rocq-prover.org/doc/V9.0.0/corelib//Corelib.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="SpecCT.html#os<sub>2</sub>:977"><span class="id" title="variable">os<sub>2</sub></span></a> ).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_sound"><span class="id" title="lemma">spec_eval_engine_sound</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#spec_insecure_prog_2"><span class="id" title="definition">spec_insecure_prog_2</span></a>, <a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine"><span class="id" title="definition">spec_eval_engine</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine_sound"><span class="id" title="lemma">spec_eval_engine_sound</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="SpecCT.html#spec_insecure_prog_2"><span class="id" title="definition">spec_insecure_prog_2</span></a>, <a class="idref" href="SpecCT.html#SpecCTInterpreter.spec_eval_engine"><span class="id" title="definition">spec_eval_engine</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">Contra</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Contra</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">L</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">stt1</span> [<span class="id" title="var">mt<sub>1</sub></span> [<span class="id" title="var">bt<sub>1</sub></span> [<span class="id" title="var">os<sub>1</sub></span> [<span class="id" title="var">stt2</span> [<span class="id" title="var">mt<sub>2</sub></span> [<span class="id" title="var">bt<sub>2</sub></span> [<span class="id" title="var">os<sub>2</sub></span> [<span class="id" title="var">Heval1</span> [<span class="id" title="var">Heval2</span> <span class="id" title="var">Hneq</span>] ] ] ] ] ] ] ] ] ].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hsecure</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heval1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#pub_equiv_refl"><span class="id" title="lemma">pub_equiv_refl</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_public"><span class="id" title="lemma">pub_equiv_update_public</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#pub_equiv_update_secret"><span class="id" title="lemma">pub_equiv_update_secret</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="SpecCT.html#pub_equiv_refl"><span class="id" title="lemma">pub_equiv_refl</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/><hr class='doublespaceincode'/>
<span class="id" title="keyword">End</span> <a class="idref" href="SpecCT.html#SpecCTInterpreter"><span class="id" title="module">SpecCTInterpreter</span></a>.<br/><hr class='doublespaceincode'/>
<span class="comment">(*&nbsp;2026-01-05&nbsp;14:01&nbsp;*)</span><br/>
</div>
</div>

<div id="footer">
<hr/><a href="coqindex.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>